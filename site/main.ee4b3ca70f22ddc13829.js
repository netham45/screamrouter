(()=>{"use strict";var e,t,n,r,a,o={7282:(e,t,n)=>{var r=n(6540),a=n(5338),o=n(5346);const l=(0,n(3628).oY)({colors:{brand:{50:"#e6f7ef",100:"#c3ecd8",200:"#9fe0c0",300:"#7bd4a8",400:"#57c890",500:"#2ecc71",600:"#27ae60",700:"#208e4e",800:"#196f3d",900:"#11502b"},secondary:{50:"#e8f4f8",100:"#c7e5ee",200:"#a5d5e4",300:"#84c5da",400:"#62b6d0",500:"#3498db",600:"#2980b9",700:"#216897",800:"#195074",900:"#123852"},dark:{50:"#e6e8ea",100:"#c1c6cb",200:"#9ba4ab",300:"#75828c",400:"#4f606c",500:"#34495e",600:"#2c3e50",700:"#243342",800:"#1c2833",900:"#141d25"},error:{500:"#e74c3c"}},styles:{global:e=>({body:{bg:"dark"===e.colorMode?"gray.900":"gray.50",color:"dark"===e.colorMode?"gray.100":"dark.600"}})},components:{Button:{baseStyle:{fontWeight:"normal",borderRadius:"md",_hover:{transform:"translateY(-2px)"}},variants:{solid:e=>({bg:"dark"===e.colorMode?"secondary.600":"secondary.500",color:"white",_hover:{bg:"dark"===e.colorMode?"secondary.700":"secondary.600"}}),primary:e=>({bg:"dark"===e.colorMode?"brand.600":"brand.500",color:"white",_hover:{bg:"dark"===e.colorMode?"brand.700":"brand.600"}}),error:{bg:"error.500",color:"white"},ghost:e=>({bg:"transparent",color:"dark"===e.colorMode?"gray.200":"gray.700",_hover:{bg:"dark"===e.colorMode?"whiteAlpha.200":"blackAlpha.100"}})},defaultProps:{variant:"solid"}},Heading:{baseStyle:e=>({color:"dark"===e.colorMode?"gray.100":"dark.600"})},Table:{variants:{simple:e=>({th:{bg:"dark"===e.colorMode?"gray.700":"gray.100",color:"dark"===e.colorMode?"gray.100":"dark.600",fontWeight:"bold"},tr:{_hover:{bg:"dark"===e.colorMode?"gray.600":"gray.50"}},td:{borderBottom:"1px solid",borderColor:"dark"===e.colorMode?"gray.600":"gray.200"}})},defaultProps:{variant:"simple"}},Box:{baseStyle:e=>({bg:"dark"===e.colorMode?"gray.800":"white"})},Flex:{baseStyle:e=>({bg:"dark"===e.colorMode?"gray.800":"white"})}},fonts:{body:"system-ui, sans-serif",heading:"system-ui, sans-serif"},config:{initialColorMode:"light",useSystemColorMode:!1}});var s=n(4976),i=n(7767),c=n(1083);let d=null,m=null;const u={setWebSocketHandler:async e=>{m=e,d||(()=>{if(d)return;const e=window.location.host,t=`${"https:"===window.location.protocol?"wss:":"ws:"}//${e}:443/ws/config`;console.log("Creating WebSocket connection to:",t),d=new WebSocket(t),d.onmessage=e=>{if(m)try{const t=JSON.parse(e.data);m(t)}catch(e){console.error("Error parsing WebSocket message:",e)}},d.onclose=()=>{console.log("WebSocket closed, reloading page"),window.location.reload()},d.onerror=e=>{console.error("WebSocket error:",e),d?.close()},d.onopen=()=>{console.log("WebSocket connected successfully")}})();try{const[t,n,r]=await Promise.all([c.A.get("/sources"),c.A.get("/sinks"),c.A.get("/routes")]);e({sources:t.data,sinks:n.data,routes:r.data})}catch(e){console.error("Error fetching initial state:",e)}},getSources:()=>c.A.get("/sources"),getSinks:()=>c.A.get("/sinks"),getRoutes:()=>c.A.get("/routes"),addSource:e=>c.A.post("/sources",e),addSink:e=>c.A.post("/sinks",e),addRoute:e=>c.A.post("/routes",e),updateSource:(e,t)=>c.A.put(`/sources/${e}`,t),updateSink:(e,t)=>c.A.put(`/sinks/${e}`,t),updateRoute:(e,t)=>c.A.put(`/routes/${e}`,t),deleteSource:e=>c.A.delete(`/sources/${e}`),deleteSink:e=>c.A.delete(`/sinks/${e}`),deleteRoute:e=>c.A.delete(`/routes/${e}`),enableSource:e=>c.A.get(`/sources/${e}/enable`),disableSource:e=>c.A.get(`/sources/${e}/disable`),enableSink:e=>c.A.get(`/sinks/${e}/enable`),disableSink:e=>c.A.get(`/sinks/${e}/disable`),enableRoute:e=>c.A.get(`/routes/${e}/enable`),disableRoute:e=>c.A.get(`/routes/${e}/disable`),updateSourceVolume:(e,t)=>c.A.get(`/sources/${e}/volume/${t}`),updateSinkVolume:(e,t)=>c.A.get(`/sinks/${e}/volume/${t}`),updateRouteVolume:(e,t)=>c.A.get(`/routes/${e}/volume/${t}`),updateSourceDelay:(e,t)=>c.A.get(`/sources/${e}/delay/${t}`),updateSinkDelay:(e,t)=>c.A.get(`/sinks/${e}/delay/${t}`),updateRouteDelay:(e,t)=>c.A.get(`/routes/${e}/delay/${t}`),updateSourceTimeshift:(e,t)=>c.A.get(`/sources/${e}/timeshift/${t}`),updateSinkTimeshift:(e,t)=>c.A.get(`/sinks/${e}/timeshift/${t}`),updateRouteTimeshift:(e,t)=>c.A.get(`/routes/${e}/timeshift/${t}`),updateSourceEqualizer:(e,t)=>c.A.post(`/sources/${e}/equalizer`,t),updateSinkEqualizer:(e,t)=>c.A.post(`/sinks/${e}/equalizer`,t),updateRouteEqualizer:(e,t)=>c.A.post(`/routes/${e}/equalizer`,t),reorderSource:(e,t)=>c.A.get(`/sources/${e}/reorder/${t}`),reorderSink:(e,t)=>c.A.get(`/sinks/${e}/reorder/${t}`),reorderRoute:(e,t)=>c.A.get(`/routes/${e}/reorder/${t}`),controlSource:(e,t)=>c.A.get(`/sources/${e}/${t}`),getSinkStreamUrl:e=>`/stream/${e}/?random=${Math.random()}`,getVncUrl:e=>`/site/vnc/${e}`,saveEqualizer:(e,t)=>{const n={...t};return n.name=e,c.A.post("/equalizers/",n)},listEqualizers:()=>c.A.get("/equalizers/"),deleteEqualizer:e=>c.A.delete(`/equalizers/${e}`),updateEqualizer:(e,t,n)=>c.A.post(`/equalizers/${e}/${t}`,n)},g=(0,r.createContext)(void 0),b=e=>{let{children:t}=e;const[n,a]=(0,r.useState)(null),[o,l]=(0,r.useState)(null),[s,i]=(0,r.useState)(null),[c,d]=(0,r.useState)([]),[m,b]=(0,r.useState)([]),[p,h]=(0,r.useState)([]),[f,E]=(0,r.useState)(null),[k,v]=(0,r.useState)(!1),[S,y]=(0,r.useState)(!1),[w,x]=(0,r.useState)(null),[C,z]=(0,r.useState)(null),[A,$]=(0,r.useState)(null),R=(0,r.useRef)(null),U=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:800,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:600;const r=(window.screen.width-t)/2,a=(window.screen.height-n)/2;window.open(e,"_blank",`width=${t},height=${n},left=${r},top=${a}`)};return(0,r.useEffect)((()=>{const e=localStorage.getItem("activeSource");e&&a(e),R.current=document.getElementById("audio"),(async()=>{try{const[e,t,n]=await Promise.all([u.getSources(),u.getSinks(),u.getRoutes()]);d(Object.values(e.data)),b(Object.values(t.data)),h(Object.values(n.data))}catch(e){console.error("Error fetching initial data:",e)}})(),u.setWebSocketHandler((e=>{e.sources&&d((t=>{const n=[...t];return Object.entries(e.sources||{}).forEach((e=>{let[t,r]=e;const a=n.findIndex((e=>e.name===t));-1!==a&&(n[a]=r)})),n})),e.sinks&&b((t=>{const n=[...t];return Object.entries(e.sinks||{}).forEach((e=>{let[t,r]=e;const a=n.findIndex((e=>e.name===t));-1!==a&&(n[a]=r)})),n})),e.routes&&h((t=>{const n=[...t];return Object.entries(e.routes||{}).forEach((e=>{let[t,r]=e;const a=n.findIndex((e=>e.name===t));-1!==a&&(n[a]=r)})),n}))}))}),[]),r.createElement(g.Provider,{value:{activeSource:n,listeningToSink:o,visualizingSink:s,sources:c,sinks:m,routes:p,onToggleActiveSource:e=>{const t=n===e?null:e;a(t),localStorage.setItem("activeSource",t||"")},onListenToSink:e=>{e?(l(e),R.current&&(R.current.src=u.getSinkStreamUrl(e.ip),R.current.play().catch((e=>{"AbortError"!==e.name&&console.error("Error playing audio:",e)})))):(l(null),R.current&&(R.current.pause(),R.current.src=""))},onVisualizeSink:e=>{e&&U(`/site/visualizer?ip=${e.ip}`,800,600),i(e)},toggleEnabled:async(e,t,n)=>{try{"sources"===e?await u.updateSource(t,{enabled:!n}):"sinks"===e?await u.updateSink(t,{enabled:!n}):"routes"===e&&await u.updateRoute(t,{enabled:!n})}catch(t){console.error(`Error toggling ${e} enabled status:`,t)}},updateVolume:async(e,t,n)=>{try{"sources"===e?await u.updateSourceVolume(t,n):"sinks"===e?await u.updateSinkVolume(t,n):await u.updateRouteVolume(t,n)}catch(t){console.error(`Error updating ${e} volume:`,t)}},updateTimeshift:async(e,t,n)=>{try{"sources"===e?await u.updateSourceTimeshift(t,n):"sinks"===e?await u.updateSinkTimeshift(t,n):await u.updateRouteTimeshift(t,n)}catch(t){console.error(`Error updating ${e} timeshift:`,t)}},controlSource:async(e,t)=>{try{await u.controlSource(e,t)}catch(e){console.error("Error controlling source:",e)}},setSelectedItem:E,setShowEqualizerModal:v,setSelectedItemType:x,getRoutesForSource:e=>p.filter((t=>t.source===e)),getRoutesForSink:e=>p.filter((t=>t.sink===e)),fetchSources:async()=>{try{const e=await u.getSources();d(Object.values(e.data))}catch(e){console.error("Error fetching sources:",e)}},fetchSinks:async()=>{try{const e=await u.getSinks();b(Object.values(e.data))}catch(e){console.error("Error fetching sinks:",e)}},fetchRoutes:async()=>{try{const e=await u.getRoutes();h(Object.values(e.data))}catch(e){console.error("Error fetching routes:",e)}},setPrimarySource:e=>{d((t=>t.map((t=>({...t,is_primary:t.name===e?.name})))))},openVNCModal:e=>{e.vnc_ip&&e.vnc_port&&U(`/site/vnc?ip=${e.vnc_ip}&port=${e.vnc_port}`,800,600)},showEqualizerModal:k,selectedEqualizerItem:C,selectedEqualizerType:A,openEqualizerModal:(e,t)=>{z(e),$(t),v(!0)},closeEqualizerModal:()=>{z(null),$(null),v(!1)},showEditModal:S,setShowEditModal:y,editItem:(e,t)=>{E(t),x(e),y(!0)},selectedItem:f,selectedItemType:w,navigateToItem:(e,t)=>{x(e);const n=("sources"===e?c:"sinks"===e?m:p).find((e=>e.name===t));n&&E(n)}}},t)},p=()=>{const e=(0,r.useContext)(g);if(void 0===e)throw new Error("useAppContext must be used within an AppProvider");return e};var h=n(3840),f=n(7234),E=n(4466),k=n(6944),v=n(1175),S=n(8137),y=n(9146);const w=e=>{let{source:t,onClose:n}=e;const a=(0,r.useRef)(null),[o,l]=(0,r.useState)(null),s=u.getVncUrl(t.name);(0,r.useEffect)((()=>{document.title=`ScreamRouter - ${t.name}`}),[t.name]),(0,r.useEffect)((()=>{document.body.style.overflow="hidden"}),[t.name]);const i=(0,h.dU)("gray.50","gray.900"),c=(0,h.dU)("gray.200","gray.700"),d=(0,h.dU)("gray.300","gray.600");return r.createElement(f.s,{direction:"column",height:"100vh",width:"100%",bg:i,position:"relative"},o&&r.createElement(E.F,{status:"error",mb:4},r.createElement(k._,null),r.createElement(v.X,null,o)),n&&r.createElement(S.$,{position:"absolute",top:4,right:4,zIndex:10,onClick:n,bg:c,_hover:{bg:d},size:"md"},"Close"),r.createElement(y.a,{as:"iframe",ref:a,src:s,title:`${t.name}`,flex:"1",border:"none",width:"100%",height:"100%",onError:e=>{console.error("Error loading VNC iframe:",e),l("Failed to load VNC connection. Please try again.")}}))};var x=n(7176),C=n(1052),z=n(5187),A=n(7347),$=n.n(A),R=n(5814),U=n.n(R),T=n(937);const N=e=>{let{ip:t}=e;const{sources:n,activeSource:a,controlSource:o}=p(),[l,s]=(0,r.useState)(!1),[i,c]=(0,r.useState)(!1),[d,m]=(0,r.useState)(0),[g,b]=(0,r.useState)(!0),[E,k]=(0,r.useState)(!0),[v,w]=(0,r.useState)(15),[A,R]=(0,r.useState)(!1),[N,_]=(0,r.useState)(!0),M=(0,r.useRef)(null),I=(0,r.useRef)(null),q=(0,r.useRef)(null),V=(0,r.useRef)(null),P=(0,r.useRef)(null),O=(0,r.useRef)(null),W=(0,r.useRef)({}),F=(0,r.useRef)([]),j=(0,r.useRef)([]),D=(0,r.useRef)(null),L=(0,r.useRef)(null),J=(0,r.useRef)(null);(0,r.useEffect)((()=>{if(document.title="ScreamRouter - Visualizer",document.body.style.overflow="hidden",W.current={...U().getPresets()},W.current=Object.entries(W.current).sort(((e,t)=>{let[n]=e,[r]=t;return n.toLowerCase().localeCompare(r.toLowerCase())})).reduce(((e,t)=>{let[n,r]=t;return{...e,[n]:r}}),{}),F.current=Object.keys(W.current),m(Math.floor(Math.random()*F.current.length)),M.current){const e=window.devicePixelRatio||1,t=window.innerWidth,n=window.innerHeight;M.current.style.width=`${t}px`,M.current.style.height=`${n}px`,M.current.width=t*e,M.current.height=n*e}const e=()=>{if(M.current&&q.current){const e=window.devicePixelRatio||1,t=window.innerWidth,n=window.innerHeight;if(M.current.style.width=`${t}px`,M.current.style.height=`${n}px`,M.current.width=t*e,M.current.height=n*e,V.current){console.log(`Resizing visualizer, maintaining preset: ${L.current}`);const t=L.current?JSON.parse(JSON.stringify(W.current[L.current])):null;q.current=$().createVisualizer(V.current,M.current,{width:M.current.width,height:M.current.height,pixelRatio:e,textureRatio:2}),O.current&&q.current.connectAudio(O.current),t&&q.current.loadPreset(t,0)}else q.current.setRendererSize(M.current.width,M.current.height)}};window.addEventListener("resize",e);const t=e=>{switch(_(!0),J.current&&clearTimeout(J.current),J.current=setTimeout((()=>{_(!1)}),2e3),e.key.toLowerCase()){case"f":X();break;case"n":H();break;case"p":K();break;case"r":Q();break;case"c":R((e=>!e));break;case"arrowleft":ne&&o(ne.name,"prevtrack");break;case"arrowright":ne&&o(ne.name,"nexttrack");break;case" ":ne&&o(ne.name,"play")}};return document.addEventListener("keydown",t),()=>{window.removeEventListener("resize",e),document.removeEventListener("keydown",t),P.current&&P.current.disconnect(),O.current&&O.current.disconnect(),V.current&&"closed"!==V.current.state&&V.current.close(),D.current&&clearInterval(D.current),document.title="ScreamRouter",document.body.style.overflow=""}}),[]),(0,r.useEffect)((()=>{if(l&&E)return D.current&&clearInterval(D.current),D.current=setInterval((()=>{g?Q():H()}),1e3*v),()=>{D.current&&clearInterval(D.current)}}),[l,E,g,v]);const G=()=>{q.current&&q.current.render(),requestAnimationFrame(G)},B=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5.7;if(q.current&&F.current[e]){const n=F.current[e];L.current=n,console.log(`Loading preset: ${n}`),q.current.loadPreset(W.current[n],t)}},H=()=>{j.current.push(d);const e=g?Math.floor(Math.random()*F.current.length):(d+1)%F.current.length;m(e),B(e)},K=()=>{const e=j.current.length>0?j.current.pop()||0:(d-1+F.current.length)%F.current.length;m(e),B(e)},Q=()=>{j.current.push(d);const e=Math.floor(Math.random()*F.current.length);m(e),B(e)},X=()=>{if(i)document.exitFullscreen&&document.fullscreenElement&&document.exitFullscreen().then((()=>{setTimeout((()=>{const e=new Event("resize");window.dispatchEvent(e)}),100)})).catch((e=>{console.error("Error attempting to exit fullscreen:",e)}));else{const e=document.documentElement;e.requestFullscreen&&e.requestFullscreen().then((()=>{setTimeout((()=>{const e=new Event("resize");window.dispatchEvent(e)}),100)})).catch((e=>{console.error("Error attempting to enable fullscreen:",e)}))}c(!i),R(!1)},Y=(0,h.dU)("blue.500","blue.400"),Z=(0,h.dU)("blue.600","blue.500"),ee=(0,h.dU)("white","white"),te=(0,h.dU)("rgba(255, 255, 255, 0.8)","rgba(0, 0, 0, 0.8)"),ne=n.find((e=>e.name===a&&e.vnc_ip&&e.vnc_port));return(0,r.useEffect)((()=>{if(!ne)return;let e;const t=()=>{_(!0),clearTimeout(e),e=setTimeout((()=>{_(!1)}),2e3)},n=e=>{console.log(`Key pressed: ${e.key}`),"ArrowLeft"===e.key?(console.log("Left arrow pressed - Previous track"),o(ne.name,"prevtrack")):"ArrowRight"===e.key?(console.log("Right arrow pressed - Next track"),o(ne.name,"nexttrack")):" "===e.key&&(console.log("Space pressed - Play/Pause"),o(ne.name,"play"))};return window.addEventListener("mousemove",t),window.addEventListener("keydown",n),e=setTimeout((()=>{_(!1)}),2e3),()=>{window.removeEventListener("mousemove",t),window.removeEventListener("keydown",n),clearTimeout(e)}}),[ne,o]),r.createElement(y.a,{width:"100vw",height:"100vh",margin:0,padding:0,overflow:"hidden",bg:"black",onClick:()=>{R(!A),_(!0);const e=setTimeout((()=>{_(!1)}),2e3);return()=>clearTimeout(e)}},ne&&N&&r.createElement(f.s,{position:"fixed",bottom:"20px",left:"50%",transform:"translateX(-50%)",bg:"rgba(0, 0, 0, 0.7)",borderRadius:"md",padding:"10px",zIndex:1e3,gap:4,onClick:e=>e.stopPropagation(),opacity:1,transition:"opacity 0.3s ease-in-out"},r.createElement(x.K,{"aria-label":"Previous Track",icon:r.createElement(T.ttb,null),onClick:()=>o(ne.name,"prevtrack"),colorScheme:"blue",size:"lg"}),r.createElement(x.K,{"aria-label":"Play/Pause",icon:r.createElement(T.gSK,null),onClick:()=>o(ne.name,"play"),colorScheme:"blue",size:"lg"}),r.createElement(x.K,{"aria-label":"Next Track",icon:r.createElement(T.FH8,null),onClick:()=>o(ne.name,"nexttrack"),colorScheme:"blue",size:"lg"})),!l&&r.createElement(S.$,{onClick:()=>{const e=u.getSinkStreamUrl(t);if(!I.current||!M.current)return;I.current.src=e,I.current.play().catch((e=>{console.error("Error playing audio:",e)})),V.current=new AudioContext,q.current=$().createVisualizer(V.current,M.current,{width:M.current.width,height:M.current.height,pixelRatio:window.devicePixelRatio||1,textureRatio:2}),P.current=V.current.createMediaElementSource(I.current),O.current=V.current.createDelay(),O.current.delayTime.value=.26,P.current.connect(O.current),q.current.connectAudio(O.current);const n=F.current[d];L.current=n,B(d,0),requestAnimationFrame(G),s(!0)},position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",padding:"20px 40px",fontSize:"18px",bg:Y,color:ee,_hover:{bg:Z},borderRadius:"md"},"Start Visualization"),r.createElement(y.a,{as:"canvas",ref:M,id:"canvas",width:window.innerWidth,height:window.innerHeight,display:"block"}),r.createElement(y.a,{as:"audio",ref:I,id:"audio_visualizer",display:"none"}),l&&A&&N&&r.createElement(y.a,{position:"fixed",top:"10px",right:"10px",p:4,borderRadius:"md",bg:te,zIndex:1e3,onClick:e=>e.stopPropagation(),opacity:1,transition:"opacity 0.3s ease-in-out"},r.createElement(f.s,{direction:"column",gap:3},r.createElement(f.s,{align:"center",justify:"space-between"},r.createElement(C.E,{fontWeight:"bold"},"Preset:"),r.createElement(z.l,{value:d,onChange:e=>{const t=parseInt(e.target.value,10);m(t),B(t)},width:"250px",size:"sm"},F.current.map(((e,t)=>r.createElement("option",{key:e,value:t},e.length>40?`${e.substring(0,40)}...`:e))))),r.createElement(f.s,{align:"center",justify:"space-between"},r.createElement(C.E,{fontWeight:"bold"},"Cycle Presets:"),r.createElement("input",{type:"checkbox",checked:E,onChange:()=>k(!E)})),r.createElement(f.s,{align:"center",justify:"space-between"},r.createElement(C.E,{fontWeight:"bold"},"Cycle Length (seconds):"),r.createElement("input",{type:"number",value:v,onChange:e=>{w(parseInt(e.target.value,10))},min:1,max:60,style:{width:"60px"}})),r.createElement(f.s,{align:"center",justify:"space-between"},r.createElement(C.E,{fontWeight:"bold"},"Random Presets:"),r.createElement("input",{type:"checkbox",checked:g,onChange:()=>b(!g)})),r.createElement(f.s,{justify:"space-between",mt:2},r.createElement(S.$,{size:"sm",onClick:K},"Previous"),r.createElement(S.$,{size:"sm",onClick:H},"Next"),r.createElement(S.$,{size:"sm",onClick:Q},"Random")),r.createElement(S.$,{size:"sm",onClick:X,mt:2},i?"Exit Fullscreen":"Fullscreen"),r.createElement(C.E,{fontSize:"xs",mt:2},"Keyboard shortcuts: F (fullscreen), N (next), P (prev), R (random), C (controls)"))))};var _=n(5353),M=n(4178);const I={"📦Flat":{b1:1,b2:1,b3:1,b4:1,b5:1,b6:1,b7:1,b8:1,b9:1,b10:1,b11:1,b12:1,b13:1,b14:1,b15:1,b16:1,b17:1,b18:1},"📦Classical":{b1:1.2,b2:1.2,b3:1,b4:1,b5:1,b6:1,b7:.9,b8:.9,b9:.9,b10:.8,b11:.8,b12:.8,b13:.8,b14:.8,b15:.8,b16:.8,b17:.8,b18:.8},"📦Rock":{b1:1.2,b2:1.1,b3:.8,b4:.9,b5:1,b6:1.2,b7:1.4,b8:1.4,b9:1.4,b10:1.3,b11:1.2,b12:1.1,b13:1,b14:1,b15:1,b16:1.1,b17:1.2,b18:1.2},"📦Pop":{b1:.8,b2:.9,b3:1,b4:1.1,b5:1.2,b6:1.2,b7:1.1,b8:1,b9:1,b10:1,b11:1,b12:1.1,b13:1.2,b14:1.2,b15:1.1,b16:1,b17:.9,b18:.8},"📦Jazz":{b1:1.1,b2:1.1,b3:1,b4:1,b5:1,b6:1.1,b7:1.2,b8:1.2,b9:1.2,b10:1.1,b11:1,b12:.9,b13:.9,b14:.9,b15:1,b16:1.1,b17:1.1,b18:1.1},"📦Electronic":{b1:1.4,b2:1.3,b3:1.2,b4:1,b5:.8,b6:1,b7:1.2,b8:1.3,b9:1.4,b10:1.4,b11:1.3,b12:1.2,b13:1.1,b14:1,b15:1.1,b16:1.2,b17:1.3,b18:1.4}},q={...I};class V{constructor(){this.a0=this.b0=1,this.a1=this.a2=this.b1=this.b2=0}setParams(e,t,n,r){const a=Math.pow(10,Math.abs(n)/20),o=Math.tan(Math.PI*e/r);if(n>=0){const e=1/(1+1/t*o+o*o);this.b0=(1+a/t*o+o*o)*e,this.b1=2*(o*o-1)*e,this.b2=(1-a/t*o+o*o)*e,this.a1=this.b1,this.a2=(1-1/t*o+o*o)*e}else{const e=1/(1+a/t*o+o*o);this.b0=(1+1/t*o+o*o)*e,this.b1=2*(o*o-1)*e,this.b2=(1-1/t*o+o*o)*e,this.a1=this.b1,this.a2=(1-a/t*o+o*o)*e}this.a0=1}}const P=e=>{let{item:t,type:n,onClose:a,onDataChange:o}=e;const[l,s]=(0,r.useState)(t.equalizer),[i,c]=(0,r.useState)(null),[d,m]=(0,r.useState)("Custom"),[g,b]=(0,r.useState)({}),p=(0,r.useRef)(null);(0,r.useEffect)((()=>{(async()=>{try{const e=(await u.listEqualizers()).data.equalizers,n={};e.forEach((e=>{if(null==e.name)return;const t=`🛠️${e.name}`;n[t]=e,q[t]=e})),b(n),v(t.equalizer),console.log(q)}catch(e){console.error("Error loading equalizers:",e),c("Failed to load equalizers. Please try again.")}console.log(q)})()}),[]);const v=e=>{const t=Object.entries({...q,...g}).find((t=>{let[n,r]=t;return Object.entries(r).every((t=>{let[n,r]=t;if("name"===n)return!0;const a=e[n];return"number"==typeof a&&Math.abs(a-r)<.01}))}));m(t?t[0]:"Custom")},w=Object.entries(l).filter((e=>{let[t]=e;return"name"!==t})).sort(((e,t)=>parseInt(e[0].slice(1),10)-parseInt(t[0].slice(1),10))),x=[65.406392,92.498606,130.81278,184.99721,261.62557,369.99442,523.25113,739.9884,1046.5023,1479.9768,2093.0045,2959.9536,4186.0091,5919.9072,8372.0181,11839.814,16744.036,2e4],A=(e,t)=>{let n=1;return w.forEach(((r,a)=>{let[o,l]=r;console.log(o);const s=new V;s.setParams(x[a],1.41,20*Math.log10(Math.max(l,.001)),t);const i=2*Math.PI*e/t,c=Math.pow(Math.sin(i/2),2),d=s.b0,m=s.b1,u=s.b2,g=s.a0,b=s.a1,p=s.a2,h=Math.sqrt(Math.pow(d+m+u,2)-4*(d*m+4*d*u+m*u)*c+16*d*u*c*c)/Math.sqrt(Math.pow(g+b+p,2)-4*(g*b+4*g*p+b*p)*c+16*g*p*c*c);n*=h})),20*Math.log10(n)};(0,r.useEffect)((()=>{const e=p.current;if(e){const t=e.getContext("2d");if(t){t.clearRect(0,0,e.width,e.height),t.fillStyle="#1e1e1e",t.fillRect(0,0,e.width,e.height),t.strokeStyle="rgba(255, 255, 255, 0.1)",t.lineWidth=1,[20,50,100,200,500,1e3,2e3,5e3,1e4,2e4,24e3].forEach((n=>{const r=Math.log2(n/20)/Math.log2(1200)*e.width;t.beginPath(),t.moveTo(r,0),t.lineTo(r,e.height-20),t.stroke(),t.fillStyle="rgba(255, 255, 255, 0.7)",t.font="10px Arial",t.textAlign="center",t.fillText(n>=1e3?n/1e3+"k":n.toString(),r,e.height-5)}));const n=12;[-12,-9,-6,-3,0,3,6,9,12].forEach((r=>{const a=e.height/2-10-r/n*((e.height-20)/2);t.beginPath(),t.moveTo(0,a),t.lineTo(e.width,a),t.stroke(),t.fillStyle="rgba(255, 255, 255, 0.7)",t.font="10px Arial",t.textAlign="right",t.fillText(`${r} dB`,e.width-5,a+3)})),t.strokeStyle="#2ecc71",t.lineWidth=2,t.beginPath();const r=48e3,a=200;for(let o=0;o<a;o++){const l=Math.exp(Math.log(20)+(Math.log(24e3)-Math.log(20))*(o/(a-1))),s=A(l,r),i=Math.log2(l/20)/Math.log2(1200)*e.width,c=e.height/2-10-s/n*((e.height-20)/2);0===o?t.moveTo(i,c):t.lineTo(i,c)}t.stroke(),t.fillStyle="rgba(255, 255, 255, 0.9)",t.font="12px Arial",t.textAlign="center",t.fillText("Frequency (Hz)",e.width/2,e.height-20),t.save(),t.translate(10,e.height/2),t.rotate(-Math.PI/2),t.textAlign="center",t.fillText("Gain (dB)",0,0),t.restore()}}}),[l]),(0,r.useEffect)((()=>{let e=null;return i&&(e=setTimeout((()=>{c(null)}),1e4)),()=>{e&&clearTimeout(e)}}),[i]);const $=(0,h.dU)("white","gray.800"),R=(0,h.dU)("gray.200","gray.700"),U=(0,h.dU)("gray.800","white"),T=(0,h.dU)("gray.300","gray.600"),N=(0,h.dU)("blue.100","blue.900"),P=(0,h.dU)("blue.500","blue.300"),O=(0,h.dU)("blue.600","blue.400");return r.createElement(y.a,{p:4,bg:$,borderWidth:"1px",borderColor:R,borderRadius:"md",maxW:"800px",mx:"auto"},r.createElement(_.D,{as:"h3",size:"md",mb:4,textAlign:"center"},t.name," ",n.replace(/s$/,"").replace(/^(.)/,(function(e){return e.toUpperCase()}))," Equalizer"),i&&r.createElement(E.F,{status:"error",mb:4,borderRadius:"md"},r.createElement(k._,null),i),r.createElement(y.a,{mb:4,textAlign:"center"},r.createElement(y.a,{as:"canvas",ref:p,width:"600",height:"310",borderWidth:"1px",borderColor:T,borderRadius:"md",mx:"auto"})),r.createElement(y.a,{mb:4},r.createElement(f.s,{mb:4,alignItems:"center",justifyContent:"center",gap:2},r.createElement(C.E,{fontWeight:"medium",mr:2},"Preset:"),r.createElement(z.l,{value:d,onChange:e=>{const t=e.target.value;m(t),"Custom"!==t&&s({...q[t],...g[t]})},width:"auto",minW:"200px"},r.createElement("option",{value:"Custom"},"Custom"),Object.keys({...q,...g}).map((e=>r.createElement("option",{key:e,value:e},e)))),r.createElement(S.$,{colorScheme:"blue",size:"sm",onClick:async()=>{const e=prompt("Enter a name for the new equalizer preset:");if(e)if(q[e]||g[e])c("Preset name already exists.");else try{c(null),await u.saveEqualizer(e,l),b((t=>({...t,[`🛠️${e}`]:l}))),m(`🛠️${e}`)}catch(e){console.error("Error saving equalizer:",e),c("Failed to save equalizer. Please try again.")}else c("Name is required.")},ml:2},"Save"),r.createElement(S.$,{colorScheme:"red",size:"sm",onClick:async()=>{if(d in I)c("Cannot delete a hard-coded preset.");else try{c(null),await u.deleteEqualizer(d.replace("🛠️","")),b((e=>{const t={...e};return delete t[d],t})),m("Custom")}catch(e){console.error("Error deleting equalizer:",e),c("Failed to delete equalizer. Please try again.")}}},"Delete")),r.createElement(f.s,{justifyContent:"space-between",alignItems:"flex-end",height:"200px",position:"relative",px:4},w.map(((e,t)=>{let[n,a]=e;return r.createElement(f.s,{key:n,direction:"column",alignItems:"center",height:"100%",width:100/w.length+"%"},r.createElement(M.Ap,{id:n,orientation:"vertical",min:0,max:2,step:.1,value:a,onChange:e=>((e,t)=>{s((n=>{const r={...n,[e]:t};return v(r),r}))})(n,e),height:"180px"},r.createElement(M.hB,{bg:N,width:"8px"},r.createElement(M.hJ,{bg:P})),r.createElement(M.OQ,{bg:O,boxSize:"16px"})),r.createElement(C.E,{fontSize:"xs",mt:2,color:U},x[t].toFixed(0)))})),r.createElement(C.E,{position:"absolute",bottom:"-25px",right:"0",fontSize:"sm",color:U},"Hz"))),r.createElement(f.s,{justifyContent:"center",gap:4,mt:6},r.createElement(S.$,{colorScheme:"green",onClick:async()=>{try{switch(c(null),n){case"sources":await u.updateSourceEqualizer(t.name,l);break;case"sinks":await u.updateSinkEqualizer(t.name,l);break;case"routes":await u.updateRouteEqualizer(t.name,l)}}catch(e){console.error("Error updating equalizer:",e),c("Failed to update equalizer. Please try again.")}}},"Apply"),r.createElement(S.$,{variant:"outline",onClick:()=>{a(),o()}},"Close")))};var O=n(9290),W=n(5958),F=n(7584),j=n(6277),D=n(1570),L=n(6756),J=n(7486),G=n(5639),B=n(3738),H=n(5311);const K=e=>{let{value:t,onChange:n}=e;const[a,o]=(0,r.useState)(!1),l=(0,h.dU)("gray.100","gray.700"),s=(0,h.dU)("green.500","green.300"),i=(0,h.dU)("white","gray.200"),c=(0,h.dU)("gray.700","gray.200");return r.createElement(y.a,{width:"100%",maxWidth:"300px"},r.createElement(f.s,{direction:"column",width:"100%"},r.createElement(M.Ap,{id:"volume-slider","aria-label":"Volume slider",min:0,max:1,step:.01,value:t,onChange:n,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),mr:3,flex:"1"},r.createElement(M.hB,{bg:l},r.createElement(M.hJ,{bg:s})),r.createElement(G.m,{hasArrow:!0,bg:"green.500",color:"white",placement:"top",isOpen:a,label:`${Math.round(100*t)}%`},r.createElement(M.OQ,{boxSize:6,bg:i},r.createElement(B.I,{as:H.M,color:"green.500"})))),r.createElement(C.E,{fontSize:"sm",width:"40px",textAlign:"right",color:c},Math.round(100*t),"%")))},Q=e=>{let{value:t,onChange:n}=e;const[a,o]=(0,r.useState)(t),[l,s]=(0,r.useState)(!1),i=(0,r.useRef)(null),c=(0,h.dU)("gray.100","gray.700"),d=(0,h.dU)("blue.500","blue.300"),m=(0,h.dU)("white","gray.200"),u=(0,h.dU)("gray.700","gray.200");(0,r.useEffect)((()=>{o(t)}),[t]);const g=(0,r.useCallback)((e=>{i.current&&clearTimeout(i.current),i.current=setTimeout((()=>{n(e)}),300)}),[n]),b=e=>{const t=Math.abs(e);return`${Math.floor(t/60)}:${Math.round(t%60).toString().padStart(2,"0")}`};return r.createElement(y.a,{width:"100%",maxWidth:"300px"},r.createElement(f.s,{direction:"column",width:"100%"},r.createElement(M.Ap,{id:"timeshift-slider","aria-label":"Timeshift slider",min:-300,max:0,step:.1,value:-a,onChange:e=>{const t=-e;o(t),g(t)},onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1)},r.createElement(M.hB,{bg:c},r.createElement(M.hJ,{bg:d})),r.createElement(G.m,{hasArrow:!0,bg:"blue.500",color:"white",placement:"top",isOpen:l,label:`-${b(a)}`},r.createElement(M.OQ,{bg:m}))),r.createElement(C.E,{mt:2,fontSize:"sm",color:u,alignSelf:"flex-end"},"-",b(a))))},X=()=>{const[e]=(0,s.ok)(),t=e.get("name"),n=!!t,[a,o]=(0,r.useState)(null),[l,i]=(0,r.useState)(""),[c,d]=(0,r.useState)(""),[m,g]=(0,r.useState)(!0),[b,p]=(0,r.useState)(!1),[v,w]=(0,r.useState)([]),[x,C]=(0,r.useState)(100),[z,A]=(0,r.useState)(0),[$,R]=(0,r.useState)(0),[U,T]=(0,r.useState)(""),[N,M]=(0,r.useState)("5900"),[I,q]=(0,r.useState)(null),[V,P]=(0,r.useState)(null),G=(0,h.dU)("white","gray.800"),B=(0,h.dU)("gray.200","gray.700"),H=(0,h.dU)("white","gray.700");return(0,r.useEffect)((()=>{(async()=>{if(t)try{const e=await u.getSources(),n=Object.values(e.data).find((e=>e.name===t));n?(o(n),i(n.name),d(n.ip||""),g(n.enabled),p(n.is_group),w(n.group_members||[]),C(n.volume||100),A(n.delay||0),R(n.timeshift||0),T(n.vnc_ip||""),M(n.vnc_port?.toString()||"5900")):q(`Source "${t}" not found.`)}catch(e){console.error("Error fetching source:",e),q("Failed to fetch source data. Please try again.")}})()}),[t]),r.createElement(O.m,{maxW:"container.md",py:8},r.createElement(y.a,{bg:G,borderColor:B,borderWidth:"1px",borderRadius:"lg",p:6,boxShadow:"md"},r.createElement(_.D,{as:"h1",size:"lg",mb:6},n?"Edit Source":"Add Source"),I&&r.createElement(E.F,{status:"error",mb:4,borderRadius:"md"},r.createElement(k._,null),I),V&&r.createElement(E.F,{status:"success",mb:4,borderRadius:"md"},r.createElement(k._,null),V),r.createElement(W.B,{spacing:4},r.createElement(F.MJ,{isRequired:!0},r.createElement(j.l,null,"Source Name"),r.createElement(D.p,{value:l,onChange:e=>i(e.target.value),bg:H})),r.createElement(F.MJ,{isRequired:!0},r.createElement(j.l,null,"Source IP"),r.createElement(D.p,{value:c,onChange:e=>d(e.target.value),bg:H})),r.createElement(F.MJ,{display:"flex",alignItems:"center"},r.createElement(j.l,{htmlFor:"enabled",mb:"0"},"Enabled"),r.createElement(L.d,{id:"enabled",isChecked:m,onChange:e=>g(e.target.checked)})),r.createElement(F.MJ,null,r.createElement(j.l,null,"Volume"),r.createElement(K,{value:x,onChange:e=>C(e)})),r.createElement(F.MJ,null,r.createElement(j.l,null,"Delay (ms)"),r.createElement(J.Q7,{value:z,onChange:e=>A(parseInt(e)),min:0,max:5e3,bg:H},r.createElement(J.OO,null),r.createElement(J.lw,null,r.createElement(J.Q0,null),r.createElement(J.Sh,null)))),r.createElement(F.MJ,null,r.createElement(j.l,null,"Timeshift"),r.createElement(Q,{value:$,onChange:R})),r.createElement(_.D,{as:"h3",size:"md",mt:4,mb:2},"VNC Settings (Optional)"),r.createElement(F.MJ,null,r.createElement(j.l,null,"VNC IP"),r.createElement(D.p,{value:U,onChange:e=>T(e.target.value),bg:H,placeholder:"Leave empty if not using VNC"})),r.createElement(F.MJ,null,r.createElement(j.l,null,"VNC Port"),r.createElement(J.Q7,{value:N,onChange:e=>M(e),min:1,max:65535,bg:H,isDisabled:!U},r.createElement(J.OO,null),r.createElement(J.lw,null,r.createElement(J.Q0,null),r.createElement(J.Sh,null))))),r.createElement(f.s,{mt:8,gap:3,justifyContent:"flex-end"},r.createElement(S.$,{colorScheme:"blue",onClick:async()=>{const e={name:l,ip:c,enabled:m,is_group:b,group_members:v,volume:x,delay:z,timeshift:$,vnc_ip:U||void 0,vnc_port:U?parseInt(N):void 0};try{n?(await u.updateSource(t,e),P(`Source "${l}" updated successfully.`)):(await u.addSource(e),P(`Source "${l}" added successfully.`)),n||(i(""),d(""),g(!0),p(!1),w([]),C(100),A(0),R(0),T(""),M("5900"))}catch(e){console.error("Error submitting source:",e),q("Failed to submit source. Please try again.")}}},n?"Update Source":"Add Source"),r.createElement(S.$,{variant:"outline",onClick:()=>{window.close()}},"Close"))))};var Y=n(8059);const Z=()=>{const[e]=(0,s.ok)(),t=e.get("name"),n=!!t,[a,o]=(0,r.useState)(null),[l,i]=(0,r.useState)(""),[c,d]=(0,r.useState)(""),[m,g]=(0,r.useState)("4010"),[b,p]=(0,r.useState)("32"),[v,w]=(0,r.useState)("48000"),[x,C]=(0,r.useState)("2"),[A,$]=(0,r.useState)("stereo"),[R,U]=(0,r.useState)(1),[T,N]=(0,r.useState)(0),[M,I]=(0,r.useState)(!1),[q,V]=(0,r.useState)("0"),[P,L]=(0,r.useState)(null),[G,B]=(0,r.useState)(null),H=(0,h.dU)("white","gray.800"),X=(0,h.dU)("gray.200","gray.700"),Z=(0,h.dU)("white","gray.700");return(0,r.useEffect)((()=>{(async()=>{if(t)try{const e=await u.getSinks(),n=Object.values(e.data).find((e=>e.name===t));n?(o(n),i(n.name),d(n.ip||""),g(n.port?.toString()||"4010"),p(n.bit_depth?.toString()||"32"),w(n.sample_rate?.toString()||"48000"),C(n.channels?.toString()||"2"),$(n.channel_layout||"stereo"),U(n.volume||1),N(n.delay||0),I(n.time_sync||!1),V(n.time_sync_delay?.toString()||"0")):L(`Sink "${t}" not found.`)}catch(e){console.error("Error fetching sink:",e),L("Failed to fetch sink data. Please try again.")}})()}),[t]),r.createElement(O.m,{maxW:"container.md",py:8},r.createElement(y.a,{bg:H,borderColor:X,borderWidth:"1px",borderRadius:"lg",p:6,boxShadow:"md"},r.createElement(_.D,{as:"h1",size:"lg",mb:6},n?"Edit Sink":"Add Sink"),P&&r.createElement(E.F,{status:"error",mb:4,borderRadius:"md"},r.createElement(k._,null),P),G&&r.createElement(E.F,{status:"success",mb:4,borderRadius:"md"},r.createElement(k._,null),G),r.createElement(W.B,{spacing:4},r.createElement(F.MJ,{isRequired:!0},r.createElement(j.l,null,"Sink Name"),r.createElement(D.p,{value:l,onChange:e=>i(e.target.value),bg:Z})),r.createElement(F.MJ,{isRequired:!0},r.createElement(j.l,null,"Sink IP"),r.createElement(D.p,{value:c,onChange:e=>d(e.target.value),bg:Z})),r.createElement(F.MJ,{isRequired:!0},r.createElement(j.l,null,"Sink Port"),r.createElement(J.Q7,{value:m,onChange:e=>g(e),min:1,max:65535,bg:Z},r.createElement(J.OO,null),r.createElement(J.lw,null,r.createElement(J.Q0,null),r.createElement(J.Sh,null)))),r.createElement(F.MJ,null,r.createElement(j.l,null,"Bit Depth"),r.createElement(z.l,{value:b,onChange:e=>p(e.target.value),bg:Z},r.createElement("option",{value:"16"},"16"),r.createElement("option",{value:"24"},"24"),r.createElement("option",{value:"32"},"32"))),r.createElement(F.MJ,null,r.createElement(j.l,null,"Sample Rate"),r.createElement(z.l,{value:v,onChange:e=>w(e.target.value),bg:Z},r.createElement("option",{value:"44100"},"44100"),r.createElement("option",{value:"48000"},"48000"),r.createElement("option",{value:"88200"},"88200"),r.createElement("option",{value:"96000"},"96000"),r.createElement("option",{value:"192000"},"192000"))),r.createElement(F.MJ,{isRequired:!0},r.createElement(j.l,null,"Channels"),r.createElement(J.Q7,{value:x,onChange:e=>C(e),min:1,max:8,bg:Z},r.createElement(J.OO,null),r.createElement(J.lw,null,r.createElement(J.Q0,null),r.createElement(J.Sh,null)))),r.createElement(F.MJ,null,r.createElement(j.l,null,"Channel Layout"),r.createElement(z.l,{value:A,onChange:e=>$(e.target.value),bg:Z},r.createElement("option",{value:"mono"},"Mono"),r.createElement("option",{value:"stereo"},"Stereo"),r.createElement("option",{value:"quad"},"Quad"),r.createElement("option",{value:"surround"},"Surround"),r.createElement("option",{value:"5.1"},"5.1"),r.createElement("option",{value:"7.1"},"7.1"))),r.createElement(F.MJ,null,r.createElement(j.l,null,"Volume"),r.createElement(K,{value:R,onChange:U})),r.createElement(F.MJ,null,r.createElement(j.l,null,"Timeshift"),r.createElement(Q,{value:T,onChange:N})),r.createElement(F.MJ,null,r.createElement(f.s,{alignItems:"center"},r.createElement(Y.S,{isChecked:M,onChange:e=>I(e.target.checked),mr:2}),r.createElement(j.l,{mb:0},"Time Sync"))),r.createElement(F.MJ,null,r.createElement(j.l,null,"Time Sync Delay (ms)"),r.createElement(J.Q7,{value:q,onChange:e=>V(e),min:0,max:5e3,bg:Z,isDisabled:!M},r.createElement(J.OO,null),r.createElement(J.lw,null,r.createElement(J.Q0,null),r.createElement(J.Sh,null))))),r.createElement(f.s,{mt:8,gap:3,justifyContent:"flex-end"},r.createElement(S.$,{colorScheme:"blue",onClick:async()=>{const e={name:l,ip:c,port:parseInt(m),bit_depth:parseInt(b),sample_rate:parseInt(v),channels:parseInt(x),channel_layout:A,volume:R,delay:T,time_sync:M,time_sync_delay:parseInt(q)};try{n?(await u.updateSink(t,e),B(`Sink "${l}" updated successfully.`)):(await u.addSink(e),B(`Sink "${l}" added successfully.`)),n||(i(""),d(""),g("4010"),p("32"),w("48000"),C("2"),$("stereo"),U(1),N(0),I(!1),V("0"))}catch(e){console.error("Error submitting sink:",e),L("Failed to submit sink. Please try again.")}}},n?"Update Sink":"Add Sink"),r.createElement(S.$,{variant:"outline",onClick:()=>{window.close()}},"Close"))))},ee=()=>{const[e]=(0,s.ok)(),t=e.get("name"),n=e.get("source"),a=e.get("sink"),o=!!t,[l,i]=(0,r.useState)(null),[c,d]=(0,r.useState)(""),[m,g]=(0,r.useState)(!1),[b,p]=(0,r.useState)(""),[v,w]=(0,r.useState)(""),[x,C]=(0,r.useState)(!0),[A,$]=(0,r.useState)(100),[R,U]=(0,r.useState)(0),[T,N]=(0,r.useState)(0),[M,I]=(0,r.useState)([]),[q,V]=(0,r.useState)([]),[P,J]=(0,r.useState)(null),[G,B]=(0,r.useState)(null),H=(0,h.dU)("white","gray.800"),X=(0,h.dU)("gray.200","gray.700"),Y=(0,h.dU)("white","gray.700");return(0,r.useEffect)((()=>{(async()=>{try{const[e,t]=await Promise.all([u.getSources(),u.getSinks()]);I(Object.values(e.data)),V(Object.values(t.data)),n&&!o&&Object.values(e.data).some((e=>e.name===n))&&p(n),a&&!o&&Object.values(t.data).some((e=>e.name===a))&&w(a)}catch(e){console.error("Error fetching sources and sinks:",e),J("Failed to fetch sources and sinks. Please try again.")}})()}),[n,a,o]),(0,r.useEffect)((()=>{(async()=>{if(t)try{const e=await u.getRoutes(),n=Object.values(e.data).find((e=>e.name===t));n?(i(n),d(n.name),p(n.source),w(n.sink),C(n.enabled),$(n.volume||100),U(n.delay||0),N(n.timeshift||0)):J(`Route "${t}" not found.`)}catch(e){console.error("Error fetching route:",e),J("Failed to fetch route data. Please try again.")}})()}),[t]),(0,r.useEffect)((()=>{!o&&!m&&b&&v&&d(`${b} to ${v}`)}),[b,v,m,o]),r.createElement(O.m,{maxW:"container.md",py:8},r.createElement(y.a,{bg:H,borderColor:X,borderWidth:"1px",borderRadius:"lg",p:6,boxShadow:"md"},r.createElement(_.D,{as:"h1",size:"lg",mb:6},o?"Edit Route":"Add Route"),P&&r.createElement(E.F,{status:"error",mb:4,borderRadius:"md"},r.createElement(k._,null),P),G&&r.createElement(E.F,{status:"success",mb:4,borderRadius:"md"},r.createElement(k._,null),G),r.createElement(W.B,{spacing:4},r.createElement(F.MJ,{isRequired:!0},r.createElement(j.l,null,"Route Name"),r.createElement(D.p,{value:c,onChange:e=>{d(e.target.value),g(""!==e.target.value)},bg:Y})),r.createElement(F.MJ,{isRequired:!0},r.createElement(j.l,null,"Source"),r.createElement(z.l,{value:b,onChange:e=>p(e.target.value),bg:Y,placeholder:"Select a source"},M.map((e=>r.createElement("option",{key:e.name,value:e.name},e.name))))),r.createElement(F.MJ,{isRequired:!0},r.createElement(j.l,null,"Sink"),r.createElement(z.l,{value:v,onChange:e=>w(e.target.value),bg:Y,placeholder:"Select a sink"},q.map((e=>r.createElement("option",{key:e.name,value:e.name},e.name))))),r.createElement(F.MJ,{display:"flex",alignItems:"center"},r.createElement(j.l,{htmlFor:"enabled",mb:"0"},"Enabled"),r.createElement(L.d,{id:"enabled",isChecked:x,onChange:e=>C(e.target.checked)})),r.createElement(F.MJ,null,r.createElement(j.l,null,"Volume"),r.createElement(K,{value:A,onChange:e=>$(e)})),r.createElement(F.MJ,null,r.createElement(j.l,null,"Delay (ms)"),r.createElement(Q,{value:R,onChange:U})),r.createElement(F.MJ,null,r.createElement(j.l,null,"Timeshift"),r.createElement(Q,{value:T,onChange:N}))),r.createElement(f.s,{mt:8,gap:3,justifyContent:"flex-end"},r.createElement(S.$,{colorScheme:"blue",onClick:async()=>{if(!b)return void J("Please select a source.");if(!v)return void J("Please select a sink.");const e={name:c,source:b,sink:v,enabled:x,volume:A,delay:R,timeshift:T};try{o?(await u.updateRoute(t,e),B(`Route "${c}" updated successfully.`)):(await u.addRoute(e),B(`Route "${c}" added successfully.`)),o||(d(""),p(""),w(""),C(!0),$(100),U(0),N(0))}catch(e){console.error("Error submitting route:",e),J("Failed to submit route. Please try again.")}}},o?"Update Route":"Add Route"),r.createElement(S.$,{variant:"outline",onClick:()=>{window.close()}},"Close"))))};var te=n(2961),ne=n(551);const re=()=>{const[e]=(0,s.ok)(),t=e.get("name"),n=e.get("type")||"source",a=!!t,[o,l]=(0,r.useState)(null),[i,c]=(0,r.useState)(""),[d,m]=(0,r.useState)(!0),[g,b]=(0,r.useState)([]),[p,v]=(0,r.useState)([]),[w,x]=(0,r.useState)(null),[C,z]=(0,r.useState)(null),A=(0,h.dU)("white","gray.800"),$=(0,h.dU)("gray.200","gray.700"),R=(0,h.dU)("white","gray.700");return(0,r.useEffect)((()=>{(async()=>{try{if("source"===n){const e=await u.getSources(),t=Object.values(e.data).filter((e=>!e.is_group));v(t)}else{const e=await u.getSinks(),t=Object.values(e.data).filter((e=>!e.is_group));v(t)}}catch(e){console.error(`Error fetching ${n}s:`,e),x(`Failed to fetch ${n}s. Please try again.`)}})()}),[n]),(0,r.useEffect)((()=>{(async()=>{if(t)try{if("source"===n){const e=await u.getSources(),n=Object.values(e.data).find((e=>e.name===t));n?(l(n),c(n.name),m(n.enabled),b(n.group_members||[])):x(`Source group "${t}" not found.`)}else{const e=await u.getSinks(),n=Object.values(e.data).find((e=>e.name===t));n?(l(n),c(n.name),m(n.enabled),b(n.group_members||[])):x(`Sink group "${t}" not found.`)}}catch(e){console.error(`Error fetching ${n} group:`,e),x(`Failed to fetch ${n} group data. Please try again.`)}})()}),[t,n]),r.createElement(O.m,{maxW:"container.md",py:8},r.createElement(y.a,{bg:A,borderColor:$,borderWidth:"1px",borderRadius:"lg",p:6,boxShadow:"md"},r.createElement(_.D,{as:"h1",size:"lg",mb:6},a?`Edit ${n.charAt(0).toUpperCase()+n.slice(1)} Group`:`Add ${n.charAt(0).toUpperCase()+n.slice(1)} Group`),w&&r.createElement(E.F,{status:"error",mb:4,borderRadius:"md"},r.createElement(k._,null),w),C&&r.createElement(E.F,{status:"success",mb:4,borderRadius:"md"},r.createElement(k._,null),C),r.createElement(W.B,{spacing:4},r.createElement(F.MJ,{isRequired:!0},r.createElement(j.l,null,"Group Name"),r.createElement(D.p,{value:i,onChange:e=>c(e.target.value),bg:R})),r.createElement(F.MJ,{display:"flex",alignItems:"center"},r.createElement(j.l,{htmlFor:"enabled",mb:"0"},"Enabled"),r.createElement(L.d,{id:"enabled",isChecked:d,onChange:e=>m(e.target.checked)})),r.createElement(F.MJ,{isRequired:!0},r.createElement(j.l,null,"Group Members"),r.createElement(y.a,{borderWidth:"1px",borderRadius:"md",p:4,bg:R,maxH:"300px",overflowY:"auto"},r.createElement(te.$,{colorScheme:"blue",value:g,onChange:e=>b(e)},r.createElement(ne.T,{align:"start",spacing:2},p.map((e=>r.createElement(Y.S,{key:e.name,value:e.name},e.name)))))))),r.createElement(f.s,{mt:8,gap:3,justifyContent:"flex-end"},r.createElement(S.$,{colorScheme:"blue",onClick:async()=>{if(0===g.length)return void x("Please select at least one member for the group.");const e={name:i,enabled:d,is_group:!0,group_members:g};try{a?("source"===n?await u.updateSource(t,e):await u.updateSink(t,e),z(`${n.charAt(0).toUpperCase()+n.slice(1)} group "${i}" updated successfully.`)):("source"===n?await u.addSource(e):await u.addSink(e),z(`${n.charAt(0).toUpperCase()+n.slice(1)} group "${i}" added successfully.`)),a||(c(""),m(!0),b([]))}catch(e){console.error(`Error submitting ${n} group:`,e),x(`Failed to submit ${n} group. Please try again.`)}}},a?"Update Group":"Add Group"),r.createElement(S.$,{variant:"outline",onClick:()=>{window.close()}},"Close"))))};var ae=n(5790),oe=n(3246),le=n(5800),se=n(548),ie=n(7998),ce=n(1994),de=n(9546),me=n(2609);function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ue.apply(null,arguments)}const ge=e=>{let{icon:t,onClick:n,isActive:a=!1,...o}=e;return r.createElement(x.K,ue({"aria-label":t,icon:r.createElement(B.I,{name:t}),size:"xs",colorScheme:a?"blue":"gray",onClick:n,_hover:{opacity:.8},transition:"all 0.2s ease"},o))},be=e=>{let{value:t,onChange:n}=e;const a=(0,h.dU)("gray.100","gray.700"),o=(0,h.dU)("green.500","green.300"),l=(0,h.dU)("white","gray.200");return r.createElement(y.a,{width:"100%",maxWidth:"100px"},r.createElement(M.Ap,{"aria-label":"Volume control",min:0,max:1,step:.01,value:t,onChange:n,size:"sm"},r.createElement(M.hB,{bg:a,height:"4px"},r.createElement(M.hJ,{bg:o})),r.createElement(M.OQ,{boxSize:3,bg:l})))},pe=e=>{let{routes:t,onNavigate:n}=e;const[a,o]=(0,r.useState)(!1),l=(0,h.dU)("blue.600","blue.300");if(!t||0===t.length)return null;const s=a?t:t.slice(0,2),i=t.length>2;return r.createElement(y.a,{mt:1,fontSize:"sm"},r.createElement(f.s,{wrap:"wrap",alignItems:"center"},s.map(((e,t)=>r.createElement(r.Fragment,{key:e.name},r.createElement(C.E,{onClick:()=>n(e.name),cursor:"pointer",textDecoration:"underline",color:l,opacity:e.enabled?1:.6,mr:t<s.length-1?1:0},e.name),t<s.length-1&&r.createElement(C.E,{mr:1},",")))),i&&!a&&r.createElement(ge,{icon:"chevron-down",onClick:()=>o(!0),size:"xs",ml:1}),a&&r.createElement(ge,{icon:"chevron-up",onClick:()=>o(!1),size:"xs",ml:1})))},he=e=>{let{source:t,isStarred:n,isActive:a,actions:o,isSelected:l=!1,routes:s}=e;const i=(0,h.dU)("blue.50","blue.900");return r.createElement(se.Tr,{bg:l?i:void 0,id:`sources-${encodeURIComponent(t.name)}`},r.createElement(de.Td,null,r.createElement(ge,{icon:"star",isActive:n,onClick:()=>o.toggleStar("sources",t.name)})),r.createElement(de.Td,null,r.createElement(C.E,{fontWeight:"medium"},t.name),s.length>0&&r.createElement(pe,{routes:s,onNavigate:e=>o.navigate("routes",e)})),r.createElement(de.Td,null,r.createElement(ge,{icon:t.enabled?"check":"x",isActive:t.enabled,onClick:()=>o.toggleEnabled("sources",t.name)})),r.createElement(de.Td,null,r.createElement(be,{value:t.volume,onChange:e=>o.updateVolume("sources",t.name,e)})),r.createElement(de.Td,null,r.createElement(me.z,{spacing:1},r.createElement(ge,{icon:"equalizer",onClick:()=>o.showEqualizer(!0,"sources",t)}),t.vnc_ip&&r.createElement(ge,{icon:"desktop",onClick:()=>o.showVNC(!0,t)}),r.createElement(ge,{icon:"play",isActive:a,onClick:()=>o.toggleActiveSource(t.name)}))))},fe=e=>{let{sources:t,routes:n,starredSources:a,activeSource:o,actions:l,selectedItem:s}=e;const i=(0,h.dU)("gray.50","gray.700");return r.createElement(y.a,{overflowX:"auto",width:"100%"},r.createElement(oe.X,{variant:"simple",size:"sm",width:"100%"},r.createElement(le.d,null,r.createElement(se.Tr,null,r.createElement(ie.Th,{bg:i,width:"40px"},"★"),r.createElement(ie.Th,{bg:i},"Name"),r.createElement(ie.Th,{bg:i,width:"40px"},"Status"),r.createElement(ie.Th,{bg:i,width:"100px"},"Volume"),r.createElement(ie.Th,{bg:i,width:"120px"},"Actions"))),r.createElement(ce.N,null,t.map((e=>{return r.createElement(he,{key:e.name,source:e,isStarred:a.includes(e.name),isActive:o===e.name,actions:l,isSelected:s===e.name,routes:(t=e.name,n.filter((e=>e.source===t)))});var t})))))},Ee=e=>{let{sink:t,isStarred:n,isListening:a,isVisualizing:o,actions:l,isSelected:s=!1,routes:i}=e;const c=(0,h.dU)("blue.50","blue.900");return r.createElement(se.Tr,{bg:s?c:void 0,id:`sinks-${encodeURIComponent(t.name)}`},r.createElement(de.Td,null,r.createElement(ge,{icon:"star",isActive:n,onClick:()=>l.toggleStar("sinks",t.name)})),r.createElement(de.Td,null,r.createElement(C.E,{fontWeight:"medium"},t.name),i.length>0&&r.createElement(pe,{routes:i,onNavigate:e=>l.navigate("routes",e)})),r.createElement(de.Td,null,r.createElement(ge,{icon:t.enabled?"check":"x",isActive:t.enabled,onClick:()=>l.toggleEnabled("sinks",t.name)})),r.createElement(de.Td,null,r.createElement(be,{value:t.volume,onChange:e=>l.updateVolume("sinks",t.name,e)})),r.createElement(de.Td,null,r.createElement(me.z,{spacing:1},r.createElement(ge,{icon:"equalizer",onClick:()=>l.showEqualizer(!0,"sinks",t)}),r.createElement(ge,{icon:"headphones",isActive:a,onClick:()=>l.listenToSink(a?null:t.name)}),r.createElement(ge,{icon:"waveform",isActive:o,onClick:()=>l.visualizeSink(o?null:t.name)}))))},ke=e=>{let{sinks:t,routes:n,starredSinks:a,listeningToSink:o,visualizingSink:l,actions:s,selectedItem:i}=e;const c=(0,h.dU)("gray.50","gray.700");return r.createElement(y.a,{overflowX:"auto",width:"100%"},r.createElement(oe.X,{variant:"simple",size:"sm",width:"100%"},r.createElement(le.d,null,r.createElement(se.Tr,null,r.createElement(ie.Th,{bg:c,width:"40px"},"★"),r.createElement(ie.Th,{bg:c},"Name"),r.createElement(ie.Th,{bg:c,width:"40px"},"Status"),r.createElement(ie.Th,{bg:c,width:"100px"},"Volume"),r.createElement(ie.Th,{bg:c,width:"120px"},"Actions"))),r.createElement(ce.N,null,t.map((e=>{return r.createElement(Ee,{key:e.name,sink:e,isStarred:a.includes(e.name),isListening:o===e.name,isVisualizing:l===e.name,actions:s,isSelected:i===e.name,routes:(t=e.name,n.filter((e=>e.sink===t)))});var t})))))},ve=e=>{let{route:t,isStarred:n,actions:a,isSelected:o=!1}=e;const l=(0,h.dU)("blue.50","blue.900");return r.createElement(se.Tr,{bg:o?l:void 0,id:`routes-${encodeURIComponent(t.name)}`},r.createElement(de.Td,null,r.createElement(ge,{icon:"star",isActive:n,onClick:()=>a.toggleStar("routes",t.name)})),r.createElement(de.Td,null,r.createElement(C.E,{fontWeight:"medium"},t.name)),r.createElement(de.Td,null,r.createElement(C.E,{fontSize:"sm"},r.createElement(C.E,{as:"span",fontWeight:"medium"},"From:")," ",t.source),r.createElement(C.E,{fontSize:"sm"},r.createElement(C.E,{as:"span",fontWeight:"medium"},"To:")," ",t.sink)),r.createElement(de.Td,null,r.createElement(ge,{icon:t.enabled?"check":"x",isActive:t.enabled,onClick:()=>a.toggleEnabled("routes",t.name)})),r.createElement(de.Td,null,r.createElement(me.z,{spacing:1},r.createElement(ge,{icon:"equalizer",onClick:()=>a.showEqualizer(!0,"routes",t)}),r.createElement(ge,{icon:"arrow-right",onClick:()=>{a.navigate("sources",t.source)}}),r.createElement(ge,{icon:"arrow-left",onClick:()=>{a.navigate("sinks",t.sink)}}))))},Se=e=>{let{routes:t,starredRoutes:n,actions:a,selectedItem:o}=e;const l=(0,h.dU)("gray.50","gray.700");return r.createElement(y.a,{overflowX:"auto",width:"100%"},r.createElement(oe.X,{variant:"simple",size:"sm",width:"100%"},r.createElement(le.d,null,r.createElement(se.Tr,null,r.createElement(ie.Th,{bg:l,width:"40px"},"★"),r.createElement(ie.Th,{bg:l},"Name"),r.createElement(ie.Th,{bg:l},"Source → Sink"),r.createElement(ie.Th,{bg:l,width:"40px"},"Status"),r.createElement(ie.Th,{bg:l,width:"120px"},"Actions"))),r.createElement(ce.N,null,t.map((e=>r.createElement(ve,{key:e.name,route:e,isStarred:n.includes(e.name),actions:a,isSelected:o===e.name}))))))};let ye=function(e){return e[e.Main=0]="Main",e[e.NowListening=1]="NowListening",e[e.Sources=2]="Sources",e[e.Sinks=3]="Sinks",e[e.Routes=4]="Routes",e[e.AllSources=5]="AllSources",e[e.AllSinks=6]="AllSinks",e[e.AllRoutes=7]="AllRoutes",e}({});const we=()=>{const{sources:e,sinks:t,routes:n,activeSource:a,listeningToSink:o,visualizingSink:l,onListenToSink:s,onVisualizeSink:i,onToggleActiveSource:c}=p(),[d,m]=(0,r.useState)((()=>{const e=localStorage.getItem("currentMenu");return e?parseInt(e,10):ye.Main})),[u,g]=(0,r.useState)([]),[b,v]=(0,r.useState)([]),[w,x]=(0,r.useState)([]),[C,z]=(0,r.useState)(null),[A,$]=(0,r.useState)(null),R=r.useRef(null),U=(0,h.dU)("white","gray.800"),T=(0,h.dU)("gray.200","gray.700"),N=(0,h.dU)("blue.500","blue.300"),_=(0,h.dU)("gray.100","gray.700"),M=(0,h.dU)("white","gray.900"),I=(0,h.dU)("gray.800","white");(0,r.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("starredSources")||"[]"),t=JSON.parse(localStorage.getItem("starredSinks")||"[]"),n=JSON.parse(localStorage.getItem("starredRoutes")||"[]");g(e),v(t),x(n)}),[]),(0,r.useEffect)((()=>{localStorage.setItem("currentMenu",d.toString())}),[d]),(0,r.useEffect)((()=>{if(C&&R.current){const e=document.getElementById(`${ye[d].toLowerCase()}-${C}`);e&&e.scrollIntoView({behavior:"smooth",block:"center"})}}),[C,d]);const q=(e,t)=>{let n;switch(e){case"sources":n=ye.AllSources;break;case"sinks":n=ye.AllSinks;break;case"routes":n=ye.AllRoutes;break;default:n=ye.Main}m(n),z(t)},V=(e,t)=>{"sources"===e?g(t):"sinks"===e?v(t):"routes"===e&&x(t)},P=(0,r.useMemo)((()=>((e,t,n,r,a,o)=>{const l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:800,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:600;const r=(window.screen.width-t)/2,a=(window.screen.height-n)/2;window.open(e,"_blank",`width=${t},height=${n},left=${r},top=${a}`)};return{toggleStar:(n,r)=>{e(n,(e=>e.includes(r)?e.filter((e=>e!==r)):[...e,r]));const a=`starred${n.charAt(0).toUpperCase()+n.slice(1)}`;try{const e=JSON.parse(localStorage.getItem(a)||"[]");e.includes(r)?localStorage.setItem(a,JSON.stringify(e.filter((e=>e!==r)))):localStorage.setItem(a,JSON.stringify([...e,r]))}catch(e){console.error(`Error saving starred ${n} to localStorage:`,e),t(`Error saving starred ${n}`)}},toggleEnabled:async(e,n)=>{try{if(!(await fetch(`/api/${e}/${n}/toggle_enabled`,{method:"POST"})).ok)throw new Error(`Failed to toggle ${e} enabled status`)}catch(n){console.error(`Error toggling ${e} enabled status:`,n),t(`Error toggling ${e} enabled status`)}},updateVolume:async(e,n,r)=>{try{if(!(await fetch(`/api/${e}/${n}/volume`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({volume:r})})).ok)throw new Error(`Failed to update ${e} volume`)}catch(n){console.error(`Error updating ${e} volume:`,n),t(`Error updating ${e} volume`)}},updateTimeshift:async(e,n,r)=>{try{if(!(await fetch(`/api/${e}/${n}/timeshift`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({timeshift:r})})).ok)throw new Error(`Failed to update ${e} timeshift`)}catch(n){console.error(`Error updating ${e} timeshift:`,n),t(`Error updating ${e} timeshift`)}},showEqualizer:(e,t,n)=>{e&&n&&l(`/site/equalizer?type=${t}&name=${encodeURIComponent(n.name)}`)},showVNC:(e,t)=>{e&&t&&t.vnc_ip&&t.vnc_port&&l(`/site/vnc?ip=${t.vnc_ip}&port=${t.vnc_port}`)},toggleActiveSource:e=>{n(e)},listenToSink:e=>{r(e)},visualizeSink:e=>{a(e)},controlSource:async(e,n)=>{try{if(!(await fetch(`/api/sources/${e}/control`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:n})})).ok)throw new Error("Failed to control source")}catch(e){console.error("Error controlling source:",e),t("Error controlling source")}},navigate:(e,t)=>{o(e,t)}}})(V,$,c,(e=>s(e&&t.find((t=>t.name===e))||null)),(e=>i(e&&t.find((t=>t.name===e))||null)),q)),[c,s,i,t]);return r.createElement(y.a,{bg:U,borderWidth:"1px",borderColor:T,borderRadius:"md",p:2,width:"100%",height:"100%",display:"flex",flexDirection:"column",className:"desktop-menu"},A&&r.createElement(E.F,{status:"error",mb:2,borderRadius:"md",size:"sm"},r.createElement(k._,null),A),r.createElement(f.s,{as:"nav",mb:2,p:1,bg:T,borderRadius:"md",wrap:"wrap",gap:1},r.createElement(ae.e,{variant:"outline",isAttached:!0,spacing:0,size:"sm"},r.createElement(S.$,{bg:d===ye.Main?N:_,color:d===ye.Main?M:I,onClick:()=>m(ye.Main),_hover:{opacity:.8},size:"xs"},"Primary"),r.createElement(S.$,{bg:d===ye.NowListening?N:_,color:d===ye.NowListening?M:I,onClick:()=>m(ye.NowListening),_hover:{opacity:.8},size:"xs"},"Listening"),r.createElement(S.$,{bg:d===ye.Sources?N:_,color:d===ye.Sources?M:I,onClick:()=>m(ye.Sources),_hover:{opacity:.8},size:"xs"},"★ Sources"),r.createElement(S.$,{bg:d===ye.Sinks?N:_,color:d===ye.Sinks?M:I,onClick:()=>m(ye.Sinks),_hover:{opacity:.8},size:"xs"},"★ Sinks"),r.createElement(S.$,{bg:d===ye.Routes?N:_,color:d===ye.Routes?M:I,onClick:()=>m(ye.Routes),_hover:{opacity:.8},size:"xs"},"★ Routes"),r.createElement(S.$,{bg:d===ye.AllSources?N:_,color:d===ye.AllSources?M:I,onClick:()=>m(ye.AllSources),_hover:{opacity:.8},size:"xs"},"All Sources"),r.createElement(S.$,{bg:d===ye.AllSinks?N:_,color:d===ye.AllSinks?M:I,onClick:()=>m(ye.AllSinks),_hover:{opacity:.8},size:"xs"},"All Sinks"),r.createElement(S.$,{bg:d===ye.AllRoutes?N:_,color:d===ye.AllRoutes?M:I,onClick:()=>m(ye.AllRoutes),_hover:{opacity:.8},size:"xs"},"All Routes"),r.createElement(S.$,{onClick:()=>{window.open("/","_blank")},_hover:{opacity:.8},size:"xs"},"Full View"))),r.createElement(y.a,{flex:"1",overflow:"auto",ref:R,borderWidth:"1px",borderColor:T,borderRadius:"md",p:1},(()=>{const s=e.find((e=>e.name===a));switch(d){case ye.Sources:return r.createElement(fe,{sources:e.filter((e=>u.includes(e.name))),routes:n,starredSources:u,activeSource:a,actions:P,selectedItem:C});case ye.Sinks:return r.createElement(ke,{sinks:t.filter((e=>b.includes(e.name))),routes:n,starredSinks:b,listeningToSink:o?.name||null,visualizingSink:l?.name||null,actions:P,selectedItem:C});case ye.Routes:return r.createElement(Se,{routes:n.filter((e=>w.includes(e.name))),starredRoutes:w,actions:P,selectedItem:C});case ye.AllSources:return r.createElement(fe,{sources:e,routes:n,starredSources:u,activeSource:a,actions:P,selectedItem:C});case ye.AllSinks:return r.createElement(ke,{sinks:t,routes:n,starredSinks:b,listeningToSink:o?.name||null,visualizingSink:l?.name||null,actions:P,selectedItem:C});case ye.AllRoutes:return r.createElement(Se,{routes:n,starredRoutes:w,actions:P,selectedItem:C});case ye.NowListening:return r.createElement(ke,{sinks:o?[o]:[],routes:n,starredSinks:b,listeningToSink:o?.name||null,visualizingSink:l?.name||null,actions:P,selectedItem:C});default:return r.createElement(fe,{sources:s?[s]:[],routes:n,starredSources:u,activeSource:a,actions:P,selectedItem:C})}})()))},xe=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:800,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:600;const r=(window.screen.width-t)/2,a=(window.screen.height-n)/2;window.open(e,"_blank",`width=${t},height=${n},left=${r},top=${a}`)},Ce=e=>{let t;switch(e){case"sources":t="/site/add-source";break;case"sinks":t="/site/add-sink";break;case"routes":t="/site/add-route";break;case"group-sink":t="/site/add-group?type=sink";break;case"group-source":t="/site/add-group?type=source";break;default:return}xe(t,800,700)},ze=(e,t)=>{const n=`/site/add-route?${e}=${encodeURIComponent(t)}`;xe(n,800,700)},Ae=(e,t,n,r,a,o,l,s,i,c,d,m)=>({toggleEnabled:async(n,r)=>{try{const t="sources"===n?await u.getSources():"sinks"===n?await u.getSinks():await u.getRoutes(),a=Object.values(t.data).find((e=>e.name===r));if(!a)throw new Error(`${n} not found`);const o="sources"===n?u.updateSource:"sinks"===n?u.updateSink:u.updateRoute;await o(r,{enabled:!a.enabled}),e()}catch(e){console.error(`Error toggling ${n} status:`,e),t(`Failed to update ${n} status. Please try again.`)}},deleteItem:async(n,r)=>{try{const t="sources"===n?u.deleteSource:"sinks"===n?u.deleteSink:u.deleteRoute;await t(r),e()}catch(e){console.error(`Error deleting ${n}:`,e),t(`Failed to delete ${n}. Please try again.`)}},updateVolume:async(n,r,a)=>{try{const t="sources"===n?u.updateSourceVolume:"sinks"===n?u.updateSinkVolume:u.updateRouteVolume;await t(r,a),e()}catch(e){console.error(`Error updating ${n} volume:`,e),t(`Failed to update ${n} volume. Please try again.`)}},updateTimeshift:async(n,r,a)=>{try{const t="sources"===n?u.updateSourceTimeshift:"sinks"===n?u.updateSinkTimeshift:u.updateRouteTimeshift;await t(r,a),e()}catch(e){console.error(`Error updating ${n} timeshift:`,e),t(`Failed to update ${n} timeshift. Please try again.`)}},toggleStar:(e,t)=>{n(e,(n=>{const r=n.includes(t)?n.filter((e=>e!==t)):[...n,t];return localStorage.setItem(`starred${e.charAt(0).toUpperCase()+e.slice(1)}`,JSON.stringify(r)),r}))},editItem:(e,t)=>{((e,t)=>{let n;switch(e){case"sources":n=`/site/edit-source?name=${encodeURIComponent(t.name)}`;break;case"sinks":n=`/site/edit-sink?name=${encodeURIComponent(t.name)}`;break;case"routes":n=`/site/edit-route?name=${encodeURIComponent(t.name)}`;break;case"group-sink":n=`/site/edit-group?type=sink&name=${encodeURIComponent(t.name)}`;break;case"group-source":n=`/site/edit-group?type=source&name=${encodeURIComponent(t.name)}`;break;default:return}xe(n,800,700)})(e,t)},showEqualizer:(e,t,n)=>{a(n),o(t),r(e,t,n)},showVNC:(e,t)=>{a(t),l(e,t)},controlSource:async(n,r)=>{try{await u.controlSource(n,r),e()}catch(e){console.error("Error controlling source:",e),t("Failed to control source. Please try again.")}},toggleActiveSource:e=>{s((t=>t===e?null:e))},listenToSink:i,visualizeSink:c,navigateToItem:m});var $e=n(4459),Re=n(7593),Ue=n(8772),Te=n(7701),Ne=n(332),_e=n(9296),Me=n(457),Ie=n(536),qe=n(8129),Ve=n(6364),Pe=n(4983),Oe=n(879),We=n(9378),Fe=n(954),je=n(6466);const De=e=>{let{sources:t,sinks:n,routes:a,navigate:o}=e;const[l,s]=(0,r.useState)(""),[i,c]=(0,r.useState)(!1),[d,m]=(0,r.useState)([]),u=(0,r.useRef)(null),g=(0,r.useRef)(null),b=(0,h.dU)("white","gray.800"),p=(0,h.dU)("gray.100","gray.700"),E=(0,h.dU)("gray.800","gray.200"),k=(0,h.dU)("gray.600","gray.400");return(0,Ne.j)({ref:g,handler:()=>c(!1)}),r.createElement(y.a,{width:"100%",maxW:"400px",position:"relative",ref:g},r.createElement(_e.A,{isOpen:i&&d.length>0,autoFocus:!1,placement:"bottom-start",closeOnBlur:!1,isLazy:!0},r.createElement(Me.W,null,r.createElement(Ie.M,null,r.createElement(qe.W,{pointerEvents:"none"},r.createElement(je.W,{color:"gray.500"})),r.createElement(D.p,{ref:u,placeholder:"Search sources, sinks, routes...",value:l,onChange:e=>{const r=e.target.value;s(r),(e=>{if(!e.trim())return void m([]);const r=e.toLowerCase(),o=[],l=new Set;t.forEach((e=>{const t=e.name.toLowerCase().includes(r),n=e.ip?.toLowerCase().includes(r);if((t||n)&&(o.push({id:`source-${e.name}`,name:e.name,type:e.is_group?"group-source":"sources",enabled:e.enabled,volume:e.volume,ip:e.ip,isGroup:e.is_group}),l.add(`source-${e.name}`)),e.is_group&&e.group_members&&!l.has(`source-${e.name}`)){const t=e.group_members.find((e=>e.toLowerCase().includes(r)));t&&(o.push({id:`source-group-${e.name}`,name:e.name,type:"group-source",enabled:e.enabled,volume:e.volume,ip:e.ip,isGroup:!0,matchedMember:t}),l.add(`source-${e.name}`))}})),n.forEach((e=>{const t=e.name.toLowerCase().includes(r),n=e.ip?.toLowerCase().includes(r);if((t||n)&&(o.push({id:`sink-${e.name}`,name:e.name,type:e.is_group?"group-sink":"sinks",enabled:e.enabled,volume:e.volume,ip:e.ip,isGroup:e.is_group}),l.add(`sink-${e.name}`)),e.is_group&&e.group_members&&!l.has(`sink-${e.name}`)){const t=e.group_members.find((e=>e.toLowerCase().includes(r)));t&&(o.push({id:`sink-group-${e.name}`,name:e.name,type:"group-sink",enabled:e.enabled,volume:e.volume,ip:e.ip,isGroup:!0,matchedMember:t}),l.add(`sink-${e.name}`))}})),a.forEach((e=>{const t=e.name.toLowerCase().includes(r),n=e.source.toLowerCase().includes(r),a=e.sink.toLowerCase().includes(r);(t||n||a)&&o.push({id:`route-${e.name}`,name:e.name,type:"routes",enabled:e.enabled,volume:e.volume})})),m(o)})(r),c(!0)},onFocus:()=>{l&&d.length>0&&c(!0)},borderRadius:"md",_focus:{borderColor:"blue.400",boxShadow:"0 0 0 1px var(--chakra-colors-blue-400)"}}))),r.createElement(Ve.Z,null,r.createElement(Pe.h,{width:"400px",maxH:"400px",overflowY:"auto",bg:b,borderColor:"gray.200",boxShadow:"lg",_dark:{borderColor:"gray.600"}},r.createElement(Oe.e,{p:0},r.createElement(ne.T,{spacing:0,align:"stretch",divider:r.createElement(We.c,null)},d.map((e=>{return r.createElement(y.a,{key:e.id,p:3,cursor:"pointer",_hover:{bg:p},onClick:()=>(e=>{o(e.type,e.name),c(!1),s(""),m([]),u.current&&u.current.blur()})(e)},r.createElement(f.s,{justifyContent:"space-between",alignItems:"center",mb:1},r.createElement(me.z,null,r.createElement(Fe.E,{colorScheme:(n=e.type,"sources"===n?"green":"sinks"===n?"blue":"routes"===n?"red":"group-source"===n||"group-sink"===n?"purple":"gray")},(e=>"sources"===e?"Source":"sinks"===e?"Sink":"routes"===e?"Route":"group-source"===e?"Source Group":"group-sink"===e?"Sink Group":e)(e.type)),r.createElement(Fe.E,{colorScheme:e.enabled?"green":"red"},e.enabled?"Enabled":"Disabled")),void 0!==e.volume&&r.createElement(C.E,{fontSize:"sm",color:k},"Vol: ",void 0===(t=e.volume)?"100%":`${Math.round(t)}%`)),r.createElement(C.E,{fontWeight:"bold",color:E},e.name),e.ip&&r.createElement(C.E,{fontSize:"sm",color:k},"IP: ",e.ip),e.matchedMember&&r.createElement(f.s,{alignItems:"center",mt:1},r.createElement(Fe.E,{colorScheme:"orange",size:"sm",mr:1},"Member match"),r.createElement(C.E,{fontSize:"sm",color:k},"Contains: ",r.createElement(C.E,{as:"span",fontWeight:"bold"},e.matchedMember))));var t,n}))))))))},Le=e=>{let{isDarkMode:t,sources:n,sinks:a,routes:o,navigate:l}=e;const{toggleColorMode:s}=(0,h.G6)(),i=(0,h.dU)("blue.500","blue.700"),c=(0,h.dU)("white","white"),d=(0,h.dU)("blue.600","blue.800");return r.createElement(f.s,{as:"header",align:"center",justify:"space-between",py:3,px:5,bg:i,color:c,boxShadow:"md"},r.createElement(f.s,{align:"center"},r.createElement(y.a,{mr:2,fontSize:"xl"},r.createElement("i",{className:"fas fa-broadcast-tower"})),r.createElement(C.E,{fontSize:"xl",fontWeight:"bold"},"ScreamRouter")),r.createElement(y.a,{flex:"1",mx:6},r.createElement(De,{sources:n,sinks:a,routes:o,navigate:l})),r.createElement(me.z,{spacing:2},r.createElement(x.K,{"aria-label":"Refresh",icon:r.createElement($e.H,null),variant:"ghost",color:"white",_hover:{bg:d}}),r.createElement(x.K,{"aria-label":"Settings",icon:r.createElement(Re.Z,null),variant:"ghost",color:"white",_hover:{bg:d}}),r.createElement(x.K,{"aria-label":"Toggle color mode",icon:t?r.createElement(Ue.g,null):r.createElement(Te.r,null),variant:"ghost",color:"white",_hover:{bg:d},onClick:s})))};var Je=n(5486),Ge=n(7071);const Be=e=>{let{icon:t,label:n,isActive:a=!1,badge:o,onClick:l}=e;const s=(0,h.dU)("blue.100","blue.700"),i=(0,h.dU)("gray.100","gray.700"),c=(0,h.dU)("blue.700","white"),d=(0,h.dU)("gray.700","gray.200"),m=(0,h.dU)("blue.500","blue.300"),u=(0,h.dU)("white","gray.800");return r.createElement(S.$,{variant:"ghost",justifyContent:"flex-start",alignItems:"center",width:"100%",py:3,px:4,borderRadius:"md",fontWeight:"normal",bg:a?s:"transparent",color:a?c:d,_hover:{bg:a?s:i},onClick:l,"aria-current":a?"page":void 0,leftIcon:r.createElement("i",{className:`fas fa-${t}`,"aria-hidden":"true"})},r.createElement(f.s,{width:"100%",justify:"space-between",align:"center"},r.createElement(C.E,null,n),void 0!==o&&r.createElement(Fe.E,{ml:2,borderRadius:"full",px:2,bg:m,color:u},o)))},He=e=>{let{currentCategory:t,setCurrentCategory:n,sources:a,sinks:o,routes:l,starredSources:s,starredSinks:i,starredRoutes:c,sidebarOpen:d,toggleSidebar:m,openDesktopMenu:u}=e;const g=(0,h.dU)("white","gray.800"),b=(0,h.dU)("gray.200","gray.700"),p=(0,h.dU)("gray.700","gray.100"),E=(0,h.dU)("gray.500","gray.400");return r.createElement(r.Fragment,null,r.createElement(y.a,{as:"aside",position:{base:"fixed",md:"relative"},left:{base:0,md:"auto"},top:{base:0,md:"auto"},bottom:{base:0,md:"auto"},w:["100%","100%","250px"],bg:g,borderRightWidth:"1px",borderColor:b,transform:{base:d?"translateX(0)":"translateX(-100%)",md:"translateX(0)"},transition:"transform 0.3s ease",zIndex:20,display:"flex",flexDirection:"column",overflowY:"auto",height:{md:"100%"}},r.createElement(f.s,{p:4,justify:"space-between",align:"center",borderBottomWidth:"1px",borderColor:b},r.createElement(_.D,{as:"h2",size:"md",color:p},"Navigation"),r.createElement(Je.J,{display:{base:"block",md:"none"},onClick:m})),r.createElement(ne.T,{as:"nav",spacing:6,align:"stretch",flex:"1",p:4,overflowY:"auto"},r.createElement(y.a,null,r.createElement(_.D,{as:"h3",size:"sm",mb:2,color:E,fontWeight:"medium"},"Overview"),r.createElement(ne.T,{spacing:1,align:"stretch"},r.createElement(Be,{icon:"dashboard",label:"Dashboard",isActive:"dashboard"===t,onClick:()=>n("dashboard")}),r.createElement(Be,{icon:"broadcast-tower",label:"Active Source",isActive:"active-source"===t,onClick:()=>n("active-source")}),r.createElement(Be,{icon:"headphones",label:"Now Listening",isActive:"now-listening"===t,onClick:()=>n("now-listening")}))),r.createElement(We.c,null),r.createElement(y.a,null,r.createElement(_.D,{as:"h3",size:"sm",mb:2,color:E,fontWeight:"medium"},"Resources"),r.createElement(ne.T,{spacing:1,align:"stretch"},r.createElement(Be,{icon:"microphone",label:"Sources",isActive:"sources"===t,badge:a.length,onClick:()=>n("sources")}),r.createElement(Be,{icon:"volume-up",label:"Sinks",isActive:"sinks"===t,badge:o.length,onClick:()=>n("sinks")}),r.createElement(Be,{icon:"route",label:"Routes",isActive:"routes"===t,badge:l.length,onClick:()=>n("routes")}))),r.createElement(We.c,null),r.createElement(y.a,null,r.createElement(_.D,{as:"h3",size:"sm",mb:2,color:E,fontWeight:"medium"},"Favorites"),r.createElement(ne.T,{spacing:1,align:"stretch"},r.createElement(Be,{icon:"star",label:"Starred Items",isActive:"favorites"===t,badge:s.length+i.length+c.length,onClick:()=>n("favorites")})))),r.createElement(y.a,{p:4,borderTopWidth:"1px",borderColor:b},r.createElement(S.$,{leftIcon:r.createElement(Ge.p,null),colorScheme:"blue",variant:"outline",size:"sm",width:"full",onClick:u},"Desktop Menu"))),d&&r.createElement(y.a,{position:"fixed",top:0,left:0,right:0,bottom:0,bg:"blackAlpha.600",zIndex:10,display:{base:"block",md:"none"},onClick:m}))};var Ke=n(3842),Qe=n(8151),Xe=n(931),Ye=n(770),Ze=n(4927),et=n(895),tt=n(4154),nt=n(1835),rt=n(6226),at=n(9821);const ot=e=>{let{sortConfig:t,onSort:n,options:a,label:o="Sort by"}=e;const l=(0,h.dU)("white","gray.800"),s=(0,h.dU)("gray.200","gray.600"),i=(0,h.dU)("white","gray.800"),c=(0,h.dU)("gray.200","gray.600"),d=(0,h.dU)("gray.100","gray.700"),m=(0,h.dU)("blue.50","blue.900"),u=(0,h.dU)("blue.600","blue.200"),g=(0,h.dU)("gray.600","gray.400"),b=a.find((e=>e.key===t.key));return r.createElement(Ye.W,{closeOnSelect:!0},r.createElement(Ze.I,{as:S.$,rightIcon:r.createElement(nt.D,null),bg:l,borderColor:s,borderWidth:"1px",_hover:{bg:d},_active:{bg:d},size:"md",width:"100%"},r.createElement(f.s,{alignItems:"center",justifyContent:"space-between"},r.createElement(C.E,{fontSize:"sm",color:g,mr:2},o,":"),r.createElement(f.s,{alignItems:"center"},r.createElement(C.E,{fontWeight:"medium",mr:1},b?b.label:"Name"),"asc"===t.direction?r.createElement(B.I,{as:rt.K,boxSize:3}):r.createElement(B.I,{as:at.Z,boxSize:3})))),r.createElement(et.c,{bg:i,borderColor:c,minWidth:"200px"},a.map((e=>r.createElement(tt.D,{key:e.key,onClick:()=>n(e.key),bg:e.key===t.key?m:"transparent",color:e.key===t.key?u:"inherit",_hover:{bg:d}},r.createElement(f.s,{alignItems:"center",width:"100%"},r.createElement(C.E,{flex:"1"},e.label),e.key===t.key&&r.createElement(B.I,{as:"asc"===t.direction?rt.K:at.Z,color:u,ml:2,boxSize:3})))))))},lt=e=>{let{value:t,onChange:n}=e;const[a,o]=(0,r.useState)(t),[l,s]=(0,r.useState)(!1),i=(0,r.useRef)(null),c=(0,h.dU)("gray.100","gray.700"),d=(0,h.dU)("blue.500","blue.300"),m=(0,h.dU)("white","gray.200"),u=(0,h.dU)("gray.700","gray.200");(0,r.useEffect)((()=>{o(t)}),[t]);const g=(0,r.useCallback)((e=>{i.current&&clearTimeout(i.current),i.current=setTimeout((()=>{n(e)}),300)}),[n]),b=e=>{const t=Math.abs(e);return`${Math.floor(t/60)}:${Math.round(t%60).toString().padStart(2,"0")}`};return r.createElement(y.a,{width:"100%",maxWidth:"300px"},r.createElement(f.s,{direction:"column",width:"100%"},r.createElement(M.Ap,{id:"timeshift-slider","aria-label":"Timeshift slider",min:-300,max:0,step:.1,value:-a,onChange:e=>{const t=-e;o(t),g(t)},onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1)},r.createElement(M.hB,{bg:c},r.createElement(M.hJ,{bg:d})),r.createElement(G.m,{hasArrow:!0,bg:"blue.500",color:"white",placement:"top",isOpen:l,label:`-${b(a)}`},r.createElement(M.OQ,{bg:m}))),r.createElement(C.E,{mt:2,fontSize:"sm",color:u,alignSelf:"flex-end"},"-",b(a))))},st=e=>{let{viewMode:t,onChange:n}=e;const a=(0,h.dU)("white","gray.800"),o=(0,h.dU)("gray.200","gray.600"),l=(0,h.dU)("blue.500","blue.400"),s="white",i=(0,h.dU)("gray.600","gray.400");return r.createElement(ae.e,{size:"sm",isAttached:!0,variant:"outline"},r.createElement(S.$,{leftIcon:r.createElement(B.I,{as:T.x7F}),onClick:()=>n("grid"),bg:"grid"===t?l:a,color:"grid"===t?s:i,borderColor:o,_hover:{bg:"grid"===t?l:(0,h.dU)("gray.100","gray.700")},"aria-label":"Grid view",title:"Grid view"},"Grid"),r.createElement(S.$,{leftIcon:r.createElement(B.I,{as:T.svy}),onClick:()=>n("list"),bg:"list"===t?l:a,color:"list"===t?s:i,borderColor:o,_hover:{bg:"list"===t?l:(0,h.dU)("gray.100","gray.700")},"aria-label":"List view",title:"List view"},"List"))},it=e=>{let{value:t,onChange:n}=e;const[a,o]=(0,r.useState)(!1),l=(0,h.dU)("gray.100","gray.700"),s=(0,h.dU)("green.500","green.300"),i=(0,h.dU)("white","gray.200"),c=(0,h.dU)("gray.700","gray.200");return r.createElement(y.a,{width:"100%",maxWidth:"300px"},r.createElement(f.s,{direction:"column",width:"100%"},r.createElement(M.Ap,{id:"volume-slider","aria-label":"Volume slider",min:0,max:1,step:.01,value:t,onChange:n,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),mr:3,flex:"1"},r.createElement(M.hB,{bg:l},r.createElement(M.hJ,{bg:s})),r.createElement(G.m,{hasArrow:!0,bg:"green.500",color:"white",placement:"top",isOpen:a,label:`${Math.round(100*t)}%`},r.createElement(M.OQ,{boxSize:6,bg:i},r.createElement(B.I,{as:H.M,color:"green.500"})))),r.createElement(C.E,{fontSize:"sm",width:"40px",textAlign:"right",color:c},Math.round(100*t),"%")))},ct=e=>{let{currentCategory:t,viewMode:n,setViewMode:a,sortConfig:o,onSort:l}=e;const s=(0,h.dU)("white","gray.800"),i=(0,h.dU)("gray.200","gray.700"),c=["sources","sinks","routes"].includes(t),d=["sources","sinks","routes"].includes(t),m=[{key:"name",label:"Name"},{key:"enabled",label:"Status"},..."routes"!==t?[{key:"active",label:"Active"}]:[],{key:"favorite",label:"Favorite"}];return r.createElement(f.s,{p:4,bg:s,borderBottomWidth:"1px",borderColor:i,justify:"space-between",align:"center",flexWrap:["wrap","nowrap"]},r.createElement(f.s,{align:"center"},r.createElement(Ke.Q,{separator:"/",mb:[2,0]},r.createElement(Qe.J,null,r.createElement(Xe.w,null,"ScreamRouter")),r.createElement(Qe.J,{isCurrentPage:!0},r.createElement(Xe.w,{fontWeight:"semibold"},(e=>{switch(e){case"dashboard":return"Dashboard";case"active-source":return"Active Source";case"now-listening":return"Now Listening";case"sources":return"Sources";case"sinks":return"Sinks";case"routes":return"Routes";case"favorites":return"Favorites";default:return"ScreamRouter"}})(t)))),d&&r.createElement(me.z,{spacing:2,ml:4},r.createElement(S.$,{size:"sm",colorScheme:"blue",leftIcon:r.createElement("i",{className:"fas fa-plus"}),onClick:()=>{switch(t){case"sources":Ce("sources");break;case"sinks":Ce("sinks");break;case"routes":Ce("routes")}}},"Add ","sources"===t?"Source":"sinks"===t?"Sink":"Route"),("sources"===t||"sinks"===t)&&r.createElement(S.$,{size:"sm",colorScheme:"purple",leftIcon:r.createElement("i",{className:"fas fa-object-group"}),onClick:()=>{switch(t){case"sources":Ce("group-source");break;case"sinks":Ce("group-sink")}}},"Add ","sources"===t?"Source":"Sink"," Group"))),c&&r.createElement(me.z,{spacing:4,width:["100%","auto"]},r.createElement(st,{viewMode:n,onChange:a}),r.createElement(ot,{sortConfig:o,onSort:l,options:m,label:"Sort by"})))};var dt=n(7286),mt=n(2862);const ut=e=>{let{item:t,type:n,isStarred:a,isActive:o,onStar:l,onActivate:s,onEdit:i,onEqualizer:c,onVnc:d,onListen:m,onVisualize:u,onUpdateVolume:g,onUpdateTimeshift:b,routes:p=[],allSources:E=[],allSinks:k=[],navigate:v,onToggleActiveSource:w,onControlSource:z}=e;const A=e=>"sources"===n,$=e=>"sinks"===n,R=e=>"routes"===n,U=A()?p.filter((e=>e.source===t.name&&e.enabled)).map((e=>e.name)):$()?p.filter((e=>e.sink===t.name&&e.enabled)).map((e=>e.name)):[],N=A()?p.filter((e=>e.source===t.name&&!e.enabled)).map((e=>e.name)):$()?p.filter((e=>e.sink===t.name&&!e.enabled)).map((e=>e.name)):[],M=(()=>{const e=[];return A()?E.forEach((n=>{n.is_group&&n.group_members&&n.group_members.includes(t.name)&&e.push({name:n.name,type:"sources"})})):$()&&k.forEach((n=>{n.is_group&&n.group_members&&n.group_members.includes(t.name)&&e.push({name:n.name,type:"sinks"})})),e})(),I=(0,h.dU)("white","gray.800"),q=(0,h.dU)("gray.800","white"),V=(0,h.dU)("gray.600","gray.300"),P=(0,h.dU)("yellow.400","yellow.500");return r.createElement(y.a,{id:`${n.slice(0,-1)}-${t.name}`,borderWidth:"1px",borderRadius:"lg",overflow:"hidden",bg:I,boxShadow:"md",transition:"all 0.2s",_hover:{boxShadow:"lg",cursor:v?"pointer":"default"},position:"relative",onClick:v?()=>{v&&(A()?v("sources",t.name):$()?v("sinks",t.name):R()&&v("routes",t.name))}:void 0},r.createElement(f.s,{p:4,justify:"space-between",align:"center",borderBottomWidth:"1px",borderColor:"transparent"},r.createElement(_.D,{as:"h3",size:"md",color:q},t.name),r.createElement(me.z,null,r.createElement(x.K,{"aria-label":a?"Remove from favorites":"Add to favorites",title:a?"Remove from favorites":"Add to favorites",icon:r.createElement(mt.G,{color:a?P:"gray.400"}),onClick:l,variant:"ghost",size:"sm"}),i&&r.createElement(x.K,{"aria-label":"Edit",title:"Edit",icon:r.createElement(Re.Z,null),onClick:i,variant:"ghost",size:"sm"}))),r.createElement(y.a,{p:4},r.createElement(f.s,{mb:4,justify:"flex-start",flexWrap:"wrap",gap:1},(()=>{const e=[];return A()?e.push(r.createElement(Fe.E,{key:"type",colorScheme:"green",mr:1,borderRadius:"full",px:2,py:1},"Source")):$()?e.push(r.createElement(Fe.E,{key:"type",colorScheme:"blue",mr:1,borderRadius:"full",px:2,py:1},"Sink")):R()&&e.push(r.createElement(Fe.E,{key:"type",colorScheme:"red",mr:1,borderRadius:"full",px:2,py:1},"Route")),a&&e.push(r.createElement(Fe.E,{key:"starred",colorScheme:"yellow",mr:1,borderRadius:"full",px:2,py:1},"Favorite")),A()&&o&&e.push(r.createElement(Fe.E,{key:"active-source",colorScheme:"cyan",mr:1,borderRadius:"full",px:2,py:1},"Active Source")),$()&&o&&e.push(r.createElement(Fe.E,{key:"active-sink",colorScheme:"purple",mr:1,borderRadius:"full",px:2,py:1},"Listening")),e})(),r.createElement(Fe.E,{colorScheme:t.enabled?"green":"red",px:2,py:1,borderRadius:"full"},t.enabled?"Enabled":"Disabled")),r.createElement(ne.T,{spacing:4,align:"stretch"},A()&&r.createElement(y.a,null,t.ip&&r.createElement(me.z,{mb:2},r.createElement(y.a,{as:"i",className:"fas fa-network-wired"}),r.createElement(C.E,{color:V},t.ip)),r.createElement(ne.T,{spacing:3,align:"stretch"},r.createElement(y.a,null,r.createElement(f.s,{mb:1,align:"center"},r.createElement(y.a,{as:"i",className:"fas fa-volume-up",mr:2}),r.createElement(C.E,{fontWeight:"medium"},"Volume:")),r.createElement(it,{value:t.volume,onChange:e=>g&&g(e)})),void 0!==t.timeshift&&r.createElement(y.a,null,r.createElement(f.s,{mb:1,align:"center"},r.createElement(y.a,{as:"i",className:"fas fa-clock",mr:2}),r.createElement(C.E,{fontWeight:"medium"},"Timeshift:")),r.createElement(lt,{value:t.timeshift,onChange:e=>b&&b(e)})))),$()&&r.createElement(y.a,null,t.ip&&r.createElement(me.z,{mb:2},r.createElement(y.a,{as:"i",className:"fas fa-network-wired"}),r.createElement(C.E,{color:V},t.ip)),t.port&&r.createElement(me.z,{mb:2},r.createElement(y.a,{as:"i",className:"fas fa-plug"}),r.createElement(C.E,{color:V},"Port: ",t.port)),r.createElement(ne.T,{spacing:3,align:"stretch"},void 0!==t.volume&&r.createElement(y.a,null,r.createElement(f.s,{mb:1,align:"center"},r.createElement(y.a,{as:"i",className:"fas fa-volume-up",mr:2}),r.createElement(C.E,{fontWeight:"medium"},"Volume:")),r.createElement(it,{value:t.volume,onChange:e=>g&&g(e)})),r.createElement(y.a,null,r.createElement(f.s,{mb:1,align:"center"},r.createElement(y.a,{as:"i",className:"fas fa-clock",mr:2}),r.createElement(C.E,{fontWeight:"medium"},"Timeshift:")),r.createElement(lt,{value:t.timeshift||0,onChange:e=>b&&b(e)})))),R()&&r.createElement(y.a,null,r.createElement(f.s,{mb:2,align:"center"},r.createElement(y.a,{as:"i",className:"fas fa-microphone",mr:2}),r.createElement(C.E,{fontWeight:"medium",mr:1},"From:"),r.createElement(C.E,{color:V},t.source)),r.createElement(f.s,{mb:3,align:"center"},r.createElement(y.a,{as:"i",className:"fas fa-volume-up",mr:2}),r.createElement(C.E,{fontWeight:"medium",mr:1},"To:"),r.createElement(C.E,{color:V},t.sink)),r.createElement(ne.T,{spacing:3,align:"stretch"},r.createElement(y.a,null,r.createElement(f.s,{mb:1,align:"center"},r.createElement(y.a,{as:"i",className:"fas fa-volume-up",mr:2}),r.createElement(C.E,{fontWeight:"medium"},"Volume:")),r.createElement(it,{value:t.volume||100,onChange:e=>g&&g(e)})),r.createElement(y.a,null,r.createElement(f.s,{mb:1,align:"center"},r.createElement(y.a,{as:"i",className:"fas fa-clock",mr:2}),r.createElement(C.E,{fontWeight:"medium"},"Timeshift:")),r.createElement(lt,{value:t.timeshift||0,onChange:e=>b&&b(e)})))))),r.createElement(y.a,{p:4,borderTopWidth:"1px",borderColor:"transparent",bg:(0,h.dU)("gray.50","gray.900")},r.createElement(f.s,{justify:"flex-start",wrap:"wrap",gap:2,mb:3},r.createElement(me.z,{spacing:2},r.createElement(S.$,{colorScheme:t.enabled?"red":"green",size:"sm",onClick:s,"aria-label":t.enabled?"Disable":"Enable"},t.enabled?"Disable":"Enable")),A()&&t.vnc_ip&&r.createElement(r.Fragment,null,d&&r.createElement(S.$,{leftIcon:r.createElement(y.a,{as:"i",className:"fas fa-desktop"}),colorScheme:"purple",variant:"outline",size:"sm",onClick:d,"aria-label":"Open VNC",title:"Open VNC"},"VNC"),z&&r.createElement(me.z,{spacing:1,ml:2},r.createElement(x.K,{"aria-label":"Previous Track",icon:r.createElement(T.ttb,null),size:"sm",colorScheme:"purple",variant:"outline",onClick:e=>{e.stopPropagation(),z("prevtrack")}}),r.createElement(x.K,{"aria-label":"Play/Pause",icon:r.createElement(T.gSK,null),size:"sm",colorScheme:"purple",variant:"outline",onClick:e=>{e.stopPropagation(),z("play")}}),r.createElement(x.K,{"aria-label":"Next Track",icon:r.createElement(T.FH8,null),size:"sm",colorScheme:"purple",variant:"outline",onClick:e=>{e.stopPropagation(),z("nexttrack")}}))),$()&&m&&r.createElement(S.$,{leftIcon:r.createElement(y.a,{as:"i",className:"fas fa-headphones"}),colorScheme:"teal",variant:"outline",size:"sm",onClick:m,"aria-label":"Listen",title:"Listen"},o?"Stop Listening":"Listen"),$()&&u&&r.createElement(S.$,{leftIcon:r.createElement(y.a,{as:"i",className:"fas fa-chart-bar"}),colorScheme:"cyan",variant:"outline",size:"sm",onClick:u,"aria-label":"Visualize",title:"Visualize"},"Visualize"),c&&r.createElement(S.$,{leftIcon:r.createElement(y.a,{as:"i",className:"fas fa-sliders-h"}),colorScheme:"blue",variant:"outline",size:"sm",onClick:c,"aria-label":"Open Equalizer",title:"Open Equalizer"},"EQ"),A()&&r.createElement(S.$,{leftIcon:r.createElement(y.a,{as:"i",className:"fas fa-broadcast-tower"}),colorScheme:o?"cyan":"gray",variant:o?"solid":"outline",size:"sm",onClick:e=>{e.stopPropagation(),w&&w()},"aria-label":o?"Unmark Source Active":"Mark Source Active",title:o?"Unmark Source Active":"Mark Source Active"},o?"Unmark Active":"Mark Active")),R()&&r.createElement(y.a,{mt:2,fontSize:"sm"},r.createElement(C.E,{fontWeight:"semibold",fontSize:"xs",color:(0,h.dU)("gray.600","gray.400")},"Connection:"),r.createElement(f.s,{flexWrap:"wrap",gap:1,mt:1},r.createElement(Fe.E,{colorScheme:"green",cursor:v?"pointer":"default",_hover:v?{bg:"green.500"}:{},onClick:e=>{e.stopPropagation(),v&&v("sources",t.source)},borderRadius:"full",px:2,py:1},"Source: ",t.source,v&&r.createElement(y.a,{as:"span",ml:1},r.createElement("i",{className:"fas fa-external-link-alt",style:{fontSize:"0.7em"}}))),r.createElement(Fe.E,{colorScheme:"blue",cursor:v?"pointer":"default",_hover:v?{bg:"blue.500"}:{},onClick:e=>{e.stopPropagation(),v&&v("sinks",t.sink)},borderRadius:"full",px:2,py:1},"Sink: ",t.sink,v&&r.createElement(y.a,{as:"span",ml:1},r.createElement("i",{className:"fas fa-external-link-alt",style:{fontSize:"0.7em"}}))))),(A()||$())&&r.createElement(y.a,{mt:2,fontSize:"sm"},(A()||$())&&t.is_group&&t.group_members&&t.group_members.length>0&&r.createElement(y.a,{mb:2},r.createElement(C.E,{fontWeight:"semibold",fontSize:"xs",color:(0,h.dU)("gray.600","gray.400")},"Group Members (",t.group_members.length,"):"),r.createElement(f.s,{flexWrap:"wrap",gap:1,mt:1},t.group_members.map(((e,t)=>r.createElement(Fe.E,{key:t,colorScheme:"purple",cursor:v?"pointer":"default",_hover:v?{bg:"purple.500"}:{},onClick:t=>{t.stopPropagation(),v&&v(A()?"sources":"sinks",e)},borderRadius:"full",px:2,py:1},e,v&&r.createElement(y.a,{as:"span",ml:1},r.createElement("i",{className:"fas fa-external-link-alt",style:{fontSize:"0.7em"}}))))))),(A()||$())&&!t.is_group&&M.length>0&&r.createElement(y.a,{mb:2},r.createElement(C.E,{fontWeight:"semibold",fontSize:"xs",color:(0,h.dU)("gray.600","gray.400")},"Member of Groups (",M.length,"):"),r.createElement(f.s,{flexWrap:"wrap",gap:1,mt:1},M.map(((e,t)=>r.createElement(Fe.E,{key:t,colorScheme:"sources"===e.type?"green":"blue",cursor:v?"pointer":"default",_hover:v?{bg:"sources"===e.type?"green.500":"blue.500"}:{},onClick:t=>{t.stopPropagation(),v&&v("sources"===e.type?"group-source":"group-sink",e.name)},borderRadius:"full",px:2,py:1},e.name,v&&r.createElement(y.a,{as:"span",ml:1},r.createElement("i",{className:"fas fa-external-link-alt",style:{fontSize:"0.7em"}}))))))),U.length>0&&r.createElement(y.a,{mb:2},r.createElement(C.E,{fontWeight:"semibold",fontSize:"xs",color:(0,h.dU)("gray.600","gray.400")},"Active Routes (",U.length,"):"),r.createElement(f.s,{flexWrap:"wrap",gap:1,mt:1},U.map(((e,t)=>r.createElement(Fe.E,{key:t,colorScheme:"green",cursor:v?"pointer":"default",_hover:v?{bg:"green.500"}:{},onClick:t=>{t.stopPropagation(),v&&v("routes",e)},borderRadius:"full",px:2,py:1},e,v&&r.createElement(y.a,{as:"span",ml:1},r.createElement("i",{className:"fas fa-external-link-alt",style:{fontSize:"0.7em"}}))))))),N.length>0&&r.createElement(y.a,null,r.createElement(C.E,{fontWeight:"semibold",fontSize:"xs",color:(0,h.dU)("gray.600","gray.400")},"Disabled Routes (",N.length,"):"),r.createElement(f.s,{flexWrap:"wrap",gap:1,mt:1},N.map(((e,t)=>r.createElement(Fe.E,{key:t,colorScheme:"red",variant:"outline",cursor:v?"pointer":"default",_hover:v?{bg:"red.100"}:{},onClick:t=>{t.stopPropagation(),v&&v("routes",e)},borderRadius:"full",px:2,py:1},e,v&&r.createElement(y.a,{as:"span",ml:1},r.createElement("i",{className:"fas fa-external-link-alt",style:{fontSize:"0.7em"}}))))))))))},gt=e=>{let{title:t,icon:n,subtitle:a,status:o,isPositive:l=!0,children:s,onClick:i}=e;const c=(0,h.dU)("white","gray.800"),d=(0,h.dU)("gray.200","gray.700"),m=(0,h.dU)("gray.50","gray.700"),u=(0,h.dU)("gray.800","white"),g=(0,h.dU)("gray.600","gray.400");return r.createElement(y.a,{p:4,borderWidth:"1px",borderRadius:"lg",borderColor:d,bg:c,boxShadow:"sm",transition:"all 0.2s",_hover:i?{boxShadow:"md",bg:m}:{},onClick:i,role:i?"button":void 0,tabIndex:i?0:void 0,cursor:i?"pointer":"default"},r.createElement(f.s,{justify:"space-between",align:"center",mb:a?2:0},r.createElement(f.s,{align:"center"},r.createElement(y.a,{as:"i",className:`fas fa-${n}`,fontSize:"xl",color:u,mr:2,"aria-hidden":"true"}),r.createElement(_.D,{as:"h3",size:"md",color:u},t)),o&&r.createElement(Fe.E,{colorScheme:l?"green":"red",px:2,py:1,borderRadius:"full"},o)),a&&r.createElement(C.E,{color:g,fontSize:"sm",mb:s?4:0},a),s&&r.createElement(y.a,{mt:2},s))},bt=e=>{let{sources:t,sinks:n,routes:a,starredSources:o,starredSinks:l,starredRoutes:s,contextActiveSource:i,listeningToSink:c,setCurrentCategory:d,handleStar:m,handleToggleSource:u,handleToggleSink:g,handleToggleRoute:b,handleOpenSourceEqualizer:p,handleOpenSinkEqualizer:E,handleOpenRouteEqualizer:k,handleOpenVnc:v,handleUpdateSourceVolume:w,handleUpdateSinkVolume:x,handleUpdateSourceTimeshift:z,handleUpdateSinkTimeshift:A,handleUpdateRouteVolume:$,handleUpdateRouteTimeshift:R,handleControlSource:U}=e;const T=t.find((e=>e.name===i)),N=(0,h.dU)("white","gray.800"),M=(0,h.dU)("gray.200","gray.700"),I=(0,h.dU)("gray.700","white"),q=(0,h.dU)("gray.100","gray.700"),V=(0,h.dU)("gray.200","gray.600");return r.createElement(y.a,null,r.createElement(dt.r,{columns:{base:1,md:3},spacing:4,mb:6},r.createElement(gt,{title:"Active Source",icon:"broadcast-tower",status:T?"Active":"None",isPositive:!!T,onClick:()=>d("active-source")},T&&r.createElement(y.a,null,r.createElement(C.E,{fontWeight:"bold",mb:1},T.name),r.createElement(C.E,null,"Volume: ",T.volume,"%"),void 0!==T.timeshift&&r.createElement(C.E,null,"Timeshift: ",T.timeshift,"ms"))),r.createElement(gt,{title:"Now Listening",icon:"headphones",status:c?"Active":"None",isPositive:!!c,onClick:()=>d("now-listening")},c&&r.createElement(y.a,null,r.createElement(C.E,{fontWeight:"bold",mb:1},c.name),void 0!==c.volume&&r.createElement(C.E,null,"Volume: ",c.volume,"%"))),r.createElement(gt,{title:"System Status",icon:"server",status:"Online",isPositive:!0},r.createElement(y.a,null,r.createElement(C.E,null,"Active Sources: ",t.filter((e=>e.enabled)).length),r.createElement(C.E,null,"Active Sinks: ",n.filter((e=>e.enabled)).length),r.createElement(C.E,null,"Active Routes: ",a.filter((e=>e.enabled)).length)))),T&&r.createElement(y.a,{mb:6,p:4,borderWidth:"1px",borderRadius:"lg",borderColor:M,bg:N},r.createElement(f.s,{justify:"space-between",align:"center",mb:4},r.createElement(f.s,{align:"center"},r.createElement(y.a,{as:"i",className:"fas fa-broadcast-tower",mr:2}),r.createElement(_.D,{as:"h3",size:"md",color:I},"Active Source: ",T.name)),r.createElement(S.$,{size:"sm",onClick:()=>d("active-source"),bg:q,_hover:{bg:V}},"View Details")),r.createElement(ut,{key:`primary-source-${T.name}`,item:T,type:"sources",isStarred:o.includes(T.name),isActive:!0,onStar:()=>m("sources",T.name),onActivate:()=>u(T.name),onEqualizer:()=>p(T.name),onVnc:T.vnc_ip?()=>v(T.name):void 0,onUpdateVolume:e=>w(T.name,e),onUpdateTimeshift:e=>z(T.name,e),onControlSource:T.vnc_ip?e=>U&&U(T.name,e):void 0,onToggleActiveSource:()=>u(T.name),routes:a,allSources:t,allSinks:n,navigate:(e,t)=>{"routes"===e?(d("routes"),console.log(`Navigating to route: ${t}`)):"sources"===e||"group-source"===e?(d("sources"),console.log(`Navigating to source: ${t}`)):"sinks"!==e&&"group-sink"!==e||(d("sinks"),console.log(`Navigating to sink: ${t}`))}})),r.createElement(y.a,{mb:6,p:4,borderWidth:"1px",borderRadius:"lg",borderColor:M,bg:N},r.createElement(f.s,{justify:"space-between",align:"center",mb:4},r.createElement(f.s,{align:"center"},r.createElement(B.I,{as:mt.G,mr:2,color:"yellow.400"}),r.createElement(_.D,{as:"h3",size:"md",color:I},"Favorites")),r.createElement(S.$,{size:"sm",onClick:()=>d("favorites"),bg:q,_hover:{bg:V}},"View All")),r.createElement(dt.r,{columns:{base:1,md:2,lg:3,"2xl":4},spacing:4},o.slice(0,3).map((e=>{const o=t.find((t=>t.name===e));return o?r.createElement(ut,{key:`source-${o.name}`,item:o,type:"sources",isStarred:!0,isActive:i===o.name,onStar:()=>m("sources",o.name),onActivate:()=>u(o.name),onEqualizer:()=>p(o.name),onVnc:o.vnc_ip?()=>v(o.name):void 0,onUpdateVolume:e=>w(o.name,e),onUpdateTimeshift:e=>z(o.name,e),onControlSource:o.vnc_ip?e=>U&&U(o.name,e):void 0,onToggleActiveSource:()=>u(o.name),routes:a,allSources:t,allSinks:n,navigate:(e,t)=>{"routes"===e?(d("routes"),console.log(`Navigating to route: ${t}`)):"sources"===e||"group-source"===e?(d("sources"),console.log(`Navigating to source: ${t}`)):"sinks"!==e&&"group-sink"!==e||(d("sinks"),console.log(`Navigating to sink: ${t}`))}}):null})),l.slice(0,3).map((e=>{const o=n.find((t=>t.name===e));return o?r.createElement(ut,{key:`sink-${o.name}`,item:o,type:"sinks",isStarred:!0,isActive:c?.name===o.name,onStar:()=>m("sinks",o.name),onActivate:()=>g(o.name),onEqualizer:()=>E(o.name),onUpdateVolume:e=>x(o.name,e),onUpdateTimeshift:e=>A(o.name,e),routes:a,allSources:t,allSinks:n,navigate:(e,t)=>{"routes"===e?(d("routes"),console.log(`Navigating to route: ${t}`)):"sources"===e||"group-source"===e?(d("sources"),console.log(`Navigating to source: ${t}`)):"sinks"!==e&&"group-sink"!==e||(d("sinks"),console.log(`Navigating to sink: ${t}`))}}):null})),s.slice(0,3).map((e=>{const o=a.find((t=>t.name===e));return o?r.createElement(ut,{key:`route-${o.name}`,item:o,type:"routes",isStarred:!0,isActive:o.enabled,onStar:()=>m("routes",o.name),onActivate:()=>b(o.name),onEqualizer:()=>k(o.name),onUpdateVolume:e=>$(o.name,e),onUpdateTimeshift:e=>R(o.name,e),routes:a,allSources:t,allSinks:n,navigate:(e,t)=>{"routes"===e?(d("routes"),console.log(`Navigating to route: ${t}`)):"sources"===e||"group-source"===e?(d("sources"),console.log(`Navigating to source: ${t}`)):"sinks"!==e&&"group-sink"!==e||(d("sinks"),console.log(`Navigating to sink: ${t}`))}}):null})))),r.createElement(y.a,{mb:6,p:4,borderWidth:"1px",borderRadius:"lg",borderColor:M,bg:N},r.createElement(f.s,{justify:"space-between",align:"center",mb:4},r.createElement(f.s,{align:"center"},r.createElement(y.a,{as:"i",className:"fas fa-broadcast-tower",mr:2}),r.createElement(_.D,{as:"h3",size:"md",color:I},"Active Sources")),r.createElement(S.$,{size:"sm",onClick:()=>d("sources"),bg:q,_hover:{bg:V}},"View All")),r.createElement(dt.r,{columns:{base:1,md:2,lg:3,"2xl":4},spacing:4},t.filter((e=>e.enabled)).slice(0,10).map((e=>r.createElement(ut,{key:`active-source-${e.name}`,item:e,type:"sources",isStarred:o.includes(e.name),isActive:i===e.name,onStar:()=>m("sources",e.name),onActivate:()=>u(e.name),onEqualizer:()=>p(e.name),onVnc:e.vnc_ip?()=>v(e.name):void 0,onUpdateVolume:t=>w(e.name,t),onUpdateTimeshift:t=>z(e.name,t),onControlSource:e.vnc_ip?t=>U&&U(e.name,t):void 0,onToggleActiveSource:()=>u(e.name),routes:a,allSources:t,allSinks:n,navigate:(e,t)=>{"routes"===e?(d("routes"),console.log(`Navigating to route: ${t}`)):"sources"===e||"group-source"===e?(d("sources"),console.log(`Navigating to source: ${t}`)):"sinks"!==e&&"group-sink"!==e||(d("sinks"),console.log(`Navigating to sink: ${t}`))}}))))),r.createElement(y.a,{mb:6,p:4,borderWidth:"1px",borderRadius:"lg",borderColor:M,bg:N},r.createElement(f.s,{justify:"space-between",align:"center",mb:4},r.createElement(f.s,{align:"center"},r.createElement(y.a,{as:"i",className:"fas fa-volume-up",mr:2}),r.createElement(_.D,{as:"h3",size:"md",color:I},"Active Sinks")),r.createElement(S.$,{size:"sm",onClick:()=>d("sinks"),bg:q,_hover:{bg:V}},"View All")),r.createElement(dt.r,{columns:{base:1,md:2,lg:3,"2xl":4},spacing:4},n.filter((e=>e.enabled)).slice(0,10).map((e=>r.createElement(ut,{key:`active-sink-${e.name}`,item:e,type:"sinks",isStarred:l.includes(e.name),isActive:c?.name===e.name,onStar:()=>m("sinks",e.name),onActivate:()=>g(e.name),onEqualizer:()=>E(e.name),onUpdateVolume:t=>x(e.name,t),onUpdateTimeshift:t=>A(e.name,t),routes:a,allSources:t,allSinks:n,navigate:(e,t)=>{"routes"===e?(d("routes"),console.log(`Navigating to route: ${t}`)):"sources"===e||"group-source"===e?(d("sources"),console.log(`Navigating to source: ${t}`)):"sinks"!==e&&"group-sink"!==e||(d("sinks"),console.log(`Navigating to sink: ${t}`))}}))))),r.createElement(y.a,{mb:6,p:4,borderWidth:"1px",borderRadius:"lg",borderColor:M,bg:N},r.createElement(f.s,{justify:"space-between",align:"center",mb:4},r.createElement(f.s,{align:"center"},r.createElement(y.a,{as:"i",className:"fas fa-route",mr:2}),r.createElement(_.D,{as:"h3",size:"md",color:I},"Active Routes")),r.createElement(S.$,{size:"sm",onClick:()=>d("routes"),bg:q,_hover:{bg:V}},"View All")),r.createElement(dt.r,{columns:{base:1,md:2,lg:3,"2xl":4},spacing:4},a.filter((e=>e.enabled)).slice(0,10).map((e=>r.createElement(ut,{key:`active-route-${e.name}`,item:e,type:"routes",isStarred:s.includes(e.name),isActive:e.enabled,onStar:()=>m("routes",e.name),onActivate:()=>b(e.name),onEqualizer:()=>k(e.name),onUpdateVolume:t=>$(e.name,t),onUpdateTimeshift:t=>R(e.name,t),routes:a,allSources:t,allSinks:n,navigate:(e,t)=>{"routes"===e?(d("routes"),console.log(`Navigating to route: ${t}`)):"sources"===e||"group-source"===e?(d("sources"),console.log(`Navigating to source: ${t}`)):"sinks"!==e&&"group-sink"!==e||(d("sinks"),console.log(`Navigating to sink: ${t}`))}}))))))},pt=e=>{let{icon:t,title:n,message:a,actionText:o,onAction:l}=e;const s=(0,h.dU)("gray.50","gray.700"),i=(0,h.dU)("gray.200","gray.600"),c=(0,h.dU)("blue.500","blue.300");return r.createElement(y.a,{p:8,borderWidth:"1px",borderRadius:"lg",borderColor:i,bg:s,textAlign:"center",width:"100%",maxWidth:"500px",mx:"auto",my:8},r.createElement(ne.T,{spacing:4},r.createElement(y.a,{fontSize:"4xl",color:c},r.createElement("i",{className:`fas fa-${t}`})),r.createElement(_.D,{as:"h3",size:"lg"},n),r.createElement(C.E,{color:(0,h.dU)("gray.600","gray.300")},a),o&&l&&r.createElement(S.$,{colorScheme:"blue",onClick:l,mt:2},o)))},ht=e=>{let{sources:t,sinks:n,routes:a,starredSources:o,contextActiveSource:l,setCurrentCategory:s,handleStar:i,handleToggleSource:c,handleToggleRoute:d,handleOpenSourceEqualizer:m,handleOpenVnc:u,handleUpdateSourceVolume:g,handleUpdateSourceTimeshift:b,handleUpdateRouteVolume:p,handleUpdateRouteTimeshift:E,handleControlSource:k}=e;const v=t.find((e=>e.name===l)),w=(0,h.dU)("gray.700","white");return v?r.createElement(y.a,null,r.createElement(y.a,{mb:6},r.createElement(_.D,{as:"h2",size:"lg",color:w,mb:4},"Active Source"),r.createElement(ut,{key:`primary-source-${v.name}`,item:v,type:"sources",isStarred:o.includes(v.name),isActive:!0,onStar:()=>i("sources",v.name),onActivate:()=>c(v.name),onEqualizer:()=>m(v.name),onVnc:v.vnc_ip?()=>u(v.name):void 0,onUpdateVolume:e=>g(v.name,e),onUpdateTimeshift:e=>b(v.name,e),onControlSource:v.vnc_ip&&k?e=>k(v.name,e):void 0,onToggleActiveSource:()=>c(v.name),routes:a,allSources:t,allSinks:n,navigate:(e,t)=>{"routes"===e?(s("routes"),console.log(`Navigating to route: ${t}`)):"sources"===e||"group-source"===e?(s("sources"),console.log(`Navigating to source: ${t}`)):"sinks"!==e&&"group-sink"!==e||(s("sinks"),console.log(`Navigating to sink: ${t}`))}})),r.createElement(y.a,{mb:6},r.createElement(f.s,{align:"center",justify:"space-between",mb:4},r.createElement(f.s,{align:"center"},r.createElement(B.I,{as:T.$Fg,mr:2,color:w}),r.createElement(_.D,{as:"h3",size:"md",color:w},"Connected Routes")),r.createElement(S.$,{leftIcon:r.createElement(B.I,{as:T.OiG}),colorScheme:"blue",size:"sm",onClick:()=>ze("source",v.name)},"Add Route")),r.createElement(dt.r,{columns:{base:1,md:2,lg:3,"2xl":4},spacing:4},a.filter((e=>e.source===v.name)).map((e=>r.createElement(ut,{key:`source-route-${e.name}`,item:e,type:"routes",isStarred:o.includes(e.name),isActive:e.enabled,onStar:()=>i("routes",e.name),onActivate:()=>d(e.name),onEqualizer:()=>m(e.name),onUpdateVolume:t=>p(e.name,t),onUpdateTimeshift:t=>E(e.name,t),routes:a,allSources:t,allSinks:n,navigate:(e,t)=>{"routes"===e?(s("routes"),console.log(`Navigating to route: ${t}`)):"sources"===e||"group-source"===e?(s("sources"),console.log(`Navigating to source: ${t}`)):"sinks"!==e&&"group-sink"!==e||(s("sinks"),console.log(`Navigating to sink: ${t}`))}})))))):r.createElement(pt,{icon:"broadcast-tower",title:"No Active Source",message:"Select a source to make it active",actionText:"View Sources",onAction:()=>s("sources")})},ft=e=>{let{routes:t,starredSinks:n,listeningToSink:a,setCurrentCategory:o,handleStar:l,handleToggleSink:s,handleToggleRoute:i,handleOpenSinkEqualizer:c,handleOpenVisualizer:d,handleUpdateRouteVolume:m,handleUpdateRouteTimeshift:u,actions:g}=e;const b=(0,h.dU)("white","gray.800"),p=(0,h.dU)("gray.200","gray.700"),E=(0,h.dU)("gray.700","white"),k=(0,h.dU)("gray.600","gray.400"),v=(0,h.dU)("gray.800","white"),w=(0,h.dU)("gray.200","gray.600"),x=(0,h.dU)("blue.50","blue.900"),z=(0,h.dU)("blue.600","blue.200"),A=(0,h.dU)("yellow.400","yellow.300");return a?r.createElement(y.a,null,r.createElement(y.a,{p:5,borderWidth:"1px",borderRadius:"lg",borderColor:p,bg:b,mb:6,boxShadow:"sm"},r.createElement(f.s,{justify:"space-between",align:"center",mb:4},r.createElement(_.D,{as:"h2",size:"lg",color:E},a.name),r.createElement(S.$,{variant:"ghost",onClick:()=>l("sinks",a.name),"aria-label":n.includes(a.name)?"Unstar":"Star",color:n.includes(a.name)?A:"gray.400",_hover:{bg:"transparent"}},r.createElement(B.I,{as:mt.G,boxSize:5}))),r.createElement(We.c,{mb:4}),r.createElement(dt.r,{columns:{base:1,md:2},spacing:4,mb:6},r.createElement(f.s,{direction:"column"},r.createElement(C.E,{fontWeight:"bold",color:k,mb:1},"Status"),r.createElement(Fe.E,{colorScheme:a.enabled?"green":"red",alignSelf:"flex-start",px:2,py:1,borderRadius:"full"},a.enabled?"Enabled":"Disabled")),a.ip&&r.createElement(f.s,{direction:"column"},r.createElement(C.E,{fontWeight:"bold",color:k,mb:1},"IP Address"),r.createElement(C.E,{color:v},a.ip)),a.port&&r.createElement(f.s,{direction:"column"},r.createElement(C.E,{fontWeight:"bold",color:k,mb:1},"Port"),r.createElement(C.E,{color:v},a.port)),void 0!==a.volume&&r.createElement(f.s,{direction:"column"},r.createElement(C.E,{fontWeight:"bold",color:k,mb:1},"Volume"),r.createElement(C.E,{color:v},a.volume,"%"))),r.createElement(f.s,{wrap:"wrap",gap:3},r.createElement(S.$,{colorScheme:a.enabled?"red":"green",onClick:()=>s(a.name),size:"md",mr:2},a.enabled?"Disable":"Enable"),r.createElement(S.$,{leftIcon:r.createElement("i",{className:"fas fa-headphones-alt"}),colorScheme:"teal",onClick:()=>g.listenToSink(null),size:"md"},"Stop Listening"),r.createElement(S.$,{leftIcon:r.createElement(B.I,{as:T.QCN}),onClick:()=>c(a.name),bg:x,color:z,_hover:{bg:w},size:"md"},"Equalizer"),d&&r.createElement(S.$,{leftIcon:r.createElement(B.I,{as:T.v$b}),onClick:()=>d(a),bg:x,color:z,_hover:{bg:w},size:"md"},"Visualizer"))),r.createElement(y.a,{mb:6},r.createElement(f.s,{align:"center",justify:"space-between",mb:4},r.createElement(f.s,{align:"center"},r.createElement(B.I,{as:T.$Fg,mr:2,color:E}),r.createElement(_.D,{as:"h3",size:"md",color:E},"Connected Routes")),r.createElement(S.$,{leftIcon:r.createElement(B.I,{as:T.OiG}),colorScheme:"blue",size:"sm",onClick:()=>ze("sink",a.name)},"Add Route")),r.createElement(dt.r,{columns:{base:1,md:2,lg:3,"2xl":4},spacing:4},t.filter((e=>e.sink===a.name)).map((e=>r.createElement(ut,{key:`sink-route-${e.name}`,item:e,type:"routes",isStarred:!1,isActive:e.enabled,onStar:()=>l("routes",e.name),onActivate:()=>i(e.name),onUpdateVolume:t=>m(e.name,t),onUpdateTimeshift:t=>u(e.name,t),routes:t})))))):r.createElement(pt,{icon:"headphones",title:"Not Listening to Any Sink",message:"Select a sink to listen to",actionText:"View Sinks",onAction:()=>o("sinks")})};var Et=n(4856),kt=n(6922);const vt=e=>{let{item:t,type:n,isStarred:a,isActive:o,onStar:l,onActivate:s,onEdit:i,onEqualizer:c,onVnc:d,onListen:m,onVisualize:u,onUpdateVolume:g,onUpdateTimeshift:b,routes:p=[],allSources:E=[],allSinks:k=[],navigate:v,onToggleActiveSource:w,onControlSource:z}=e;const[A,$]=(0,r.useState)(!1),R=e=>"sources"===n,U=e=>"sinks"===n,N=e=>"routes"===n,_=R()?p.filter((e=>e.source===t.name&&e.enabled)).map((e=>e.name)):U()?p.filter((e=>e.sink===t.name&&e.enabled)).map((e=>e.name)):[],M=R()?p.filter((e=>e.source===t.name&&!e.enabled)).map((e=>e.name)):U()?p.filter((e=>e.sink===t.name&&!e.enabled)).map((e=>e.name)):[],I=(()=>{const e=[];return R()?E.forEach((n=>{n.is_group&&n.group_members&&n.group_members.includes(t.name)&&e.push({name:n.name,type:"sources"})})):U()&&k.forEach((n=>{n.is_group&&n.group_members&&n.group_members.includes(t.name)&&e.push({name:n.name,type:"sinks"})})),e})();return r.createElement(y.a,{id:`${n.slice(0,-1)}-${t.name}`,className:`resource-list-item ${o?"active":""} ${A?"expanded":""}`,borderWidth:"1px",borderRadius:"md",mb:2,overflow:"hidden",bg:(0,h.dU)("white","gray.800"),_hover:{boxShadow:"sm",cursor:v?"pointer":"default"},display:"flex",flexDirection:"column",width:"100%",position:"relative",onClick:v?e=>{e.target.closest("button")||v&&(R()?v("sources",t.name):U()?v("sinks",t.name):N()&&v("routes",t.name))}:void 0},r.createElement(f.s,{p:3,alignItems:"center",justifyContent:"space-between",borderBottomWidth:A?"1px":"0",borderColor:"transparent",width:"100%",cursor:"pointer",onClick:e=>{e.stopPropagation(),$(!A)}},r.createElement(f.s,{alignItems:"center",flex:"1"},r.createElement(x.K,{"aria-label":a?"Remove from favorites":"Add to favorites",icon:r.createElement(mt.G,{color:a?"yellow.400":"gray.300"}),size:"sm",variant:"ghost",mr:2,onClick:e=>{e.stopPropagation(),l()}}),r.createElement(me.z,{spacing:1,mr:3},(()=>{const e=[];return R()?e.push(r.createElement(Fe.E,{key:"type",colorScheme:"green",mr:1,borderRadius:"full",px:2,py:1},"Source")):U()?e.push(r.createElement(Fe.E,{key:"type",colorScheme:"blue",mr:1,borderRadius:"full",px:2,py:1},"Sink")):N()&&e.push(r.createElement(Fe.E,{key:"type",colorScheme:"red",mr:1,borderRadius:"full",px:2,py:1},"Route")),a&&e.push(r.createElement(Fe.E,{key:"starred",colorScheme:"yellow",mr:1,borderRadius:"full",px:2,py:1},"Favorite")),R()&&o&&e.push(r.createElement(Fe.E,{key:"active-source",colorScheme:"cyan",mr:1,borderRadius:"full",px:2,py:1},"Active Source")),U()&&o&&e.push(r.createElement(Fe.E,{key:"active-sink",colorScheme:"purple",mr:1,borderRadius:"full",px:2,py:1},"Listening")),e})(),r.createElement(Fe.E,{colorScheme:t.enabled?"green":"red",borderRadius:"full",px:2,py:1},t.enabled?"Enabled":"Disabled")),r.createElement(C.E,{fontWeight:"bold",mr:3},t.name),r.createElement(C.E,{color:(0,h.dU)("gray.600","gray.400"),fontSize:"sm"},"Volume: ",void 0===(V=t.volume)?"100":Math.round(V).toString(),"% | Delay: ",void 0===(q=t.timeshift)?"0":Math.round(q).toString(),"ms")),r.createElement(f.s,null,r.createElement(me.z,{spacing:2,mr:2},r.createElement(S.$,{size:"sm",colorScheme:t.enabled?"red":"green",onClick:e=>{e.stopPropagation(),s()}},t.enabled?"Disable":"Enable")),r.createElement(x.K,{"aria-label":A?"Collapse":"Expand",icon:A?r.createElement(H.M,null):r.createElement(nt.D,null),size:"sm",variant:"ghost"}))),r.createElement(Et.S,{in:A,animateOpacity:!0,style:{width:"100%"}},r.createElement(y.a,{p:4,width:"100%"},R()&&r.createElement(ne.T,{spacing:4,align:"stretch",width:"100%"},r.createElement(dt.r,{columns:{base:1,md:2},spacing:4},r.createElement(y.a,null,r.createElement(C.E,{fontWeight:"semibold",mb:2},"Volume"),r.createElement(it,{value:t.volume,onChange:e=>g&&g(e)})),r.createElement(y.a,null,r.createElement(C.E,{fontWeight:"semibold",mb:2},"Delay"),r.createElement(lt,{value:t.timeshift||0,onChange:e=>b&&b(e)}))),r.createElement(me.z,{spacing:2,wrap:"wrap"},c&&r.createElement(S.$,{size:"sm",leftIcon:r.createElement("i",{className:"fas fa-sliders-h"}),colorScheme:"orange",onClick:e=>{e.stopPropagation(),c()}},"Equalizer"),i&&r.createElement(S.$,{size:"sm",leftIcon:r.createElement(kt.q,null),colorScheme:"blue",onClick:e=>{e.stopPropagation(),i()}},"Edit"),R()&&t.vnc_ip&&r.createElement(r.Fragment,null,d&&r.createElement(S.$,{size:"sm",leftIcon:r.createElement("i",{className:"fas fa-desktop"}),colorScheme:"purple",onClick:e=>{e.stopPropagation(),d()}},"VNC"),z&&r.createElement(me.z,{spacing:1,ml:2},r.createElement(x.K,{"aria-label":"Previous Track",icon:r.createElement(T.ttb,null),size:"sm",colorScheme:"purple",variant:"outline",onClick:e=>{e.stopPropagation(),z("prevtrack")}}),r.createElement(x.K,{"aria-label":"Play/Pause",icon:r.createElement(T.gSK,null),size:"sm",colorScheme:"purple",variant:"outline",onClick:e=>{e.stopPropagation(),z("play")}}),r.createElement(x.K,{"aria-label":"Next Track",icon:r.createElement(T.FH8,null),size:"sm",colorScheme:"purple",variant:"outline",onClick:e=>{e.stopPropagation(),z("nexttrack")}}))),R()&&r.createElement(S.$,{size:"sm",leftIcon:r.createElement("i",{className:"fas fa-broadcast-tower"}),colorScheme:o?"cyan":"gray",variant:o?"solid":"outline",onClick:e=>{e.stopPropagation(),w&&w()},"aria-label":o?"Unmark Source Active":"Mark Source Active",title:o?"Unmark Source Active":"Mark Source Active"},o?"Unmark Active":"Mark Active")),(t.ip||t.sample_rate||t.bit_depth)&&r.createElement(y.a,null,r.createElement(C.E,{fontWeight:"semibold",mb:2},"Technical Details"),r.createElement(dt.r,{columns:{base:1,md:2,lg:3,"2xl":4},spacing:2},t.ip&&r.createElement(C.E,{fontSize:"sm"},r.createElement("i",{className:"fas fa-network-wired"})," IP: ",t.ip),t.sample_rate&&r.createElement(C.E,{fontSize:"sm"},r.createElement("i",{className:"fas fa-wave-square"})," Sample Rate: ",t.sample_rate,"Hz"),t.bit_depth&&r.createElement(C.E,{fontSize:"sm"},r.createElement("i",{className:"fas fa-microchip"})," Bit Depth: ",t.bit_depth,"-bit"))),t.is_group&&t.group_members&&t.group_members.length>0&&r.createElement(y.a,null,r.createElement(C.E,{fontWeight:"semibold",mb:2},"Group Members"),r.createElement(ne.T,{align:"stretch",spacing:1,width:"100%"},t.group_members.map(((e,t)=>r.createElement(y.a,{key:t,p:2,borderWidth:"1px",borderRadius:"md",cursor:v?"pointer":"default",_hover:v?{bg:(0,h.dU)("gray.100","gray.700")}:{},onClick:t=>{t.stopPropagation(),v&&v("sources",e)},bg:(0,h.dU)("purple.50","purple.900"),borderColor:(0,h.dU)("purple.200","purple.700")},r.createElement(C.E,{fontSize:"sm"},e,v&&r.createElement(y.a,{as:"span",ml:1,color:(0,h.dU)("blue.500","blue.300")},r.createElement("i",{className:"fas fa-external-link-alt",style:{fontSize:"0.7em"}})))))))),!t.is_group&&I.length>0&&r.createElement(y.a,null,r.createElement(C.E,{fontWeight:"semibold",mb:2},"Member of Groups"),r.createElement(ne.T,{align:"stretch",spacing:1,width:"100%"},I.map(((e,t)=>r.createElement(y.a,{key:t,p:2,borderWidth:"1px",borderRadius:"md",cursor:v?"pointer":"default",_hover:v?{bg:(0,h.dU)("gray.100","gray.700")}:{},onClick:t=>{t.stopPropagation(),v&&v("sources"===e.type?"group-source":"group-sink",e.name)},bg:(0,h.dU)("sources"===e.type?"green.50":"blue.50","sources"===e.type?"green.900":"blue.900"),borderColor:(0,h.dU)("sources"===e.type?"green.200":"blue.200","sources"===e.type?"green.700":"blue.700")},r.createElement(C.E,{fontSize:"sm"},e.name,v&&r.createElement(y.a,{as:"span",ml:1,color:(0,h.dU)("blue.500","blue.300")},r.createElement("i",{className:"fas fa-external-link-alt",style:{fontSize:"0.7em"}})))))))),r.createElement(y.a,null,r.createElement(C.E,{fontWeight:"semibold",mb:2},"Active Routes"),_.length>0?r.createElement(ne.T,{align:"stretch",spacing:1,width:"100%"},_.map(((e,t)=>r.createElement(y.a,{key:t,p:2,borderWidth:"1px",borderRadius:"md",cursor:v?"pointer":"default",_hover:v?{bg:(0,h.dU)("gray.100","gray.700")}:{},onClick:t=>{t.stopPropagation(),v&&v("routes",e)}},r.createElement(C.E,{fontSize:"sm"},e,v&&r.createElement(y.a,{as:"span",ml:1,color:(0,h.dU)("blue.500","blue.300")},r.createElement("i",{className:"fas fa-external-link-alt",style:{fontSize:"0.7em"}}))))))):r.createElement(C.E,{fontSize:"sm",color:"gray.500"},"No active routes")),r.createElement(y.a,null,r.createElement(C.E,{fontWeight:"semibold",mb:2},"Disabled Routes"),M.length>0?r.createElement(ne.T,{align:"stretch",spacing:1,width:"100%"},M.map(((e,t)=>r.createElement(y.a,{key:t,p:2,borderWidth:"1px",borderRadius:"md",cursor:v?"pointer":"default",_hover:v?{bg:(0,h.dU)("gray.100","gray.700")}:{},onClick:t=>{t.stopPropagation(),v&&v("routes",e)}},r.createElement(C.E,{fontSize:"sm"},e,v&&r.createElement(y.a,{as:"span",ml:1,color:(0,h.dU)("blue.500","blue.300")},r.createElement("i",{className:"fas fa-external-link-alt",style:{fontSize:"0.7em"}}))))))):r.createElement(C.E,{fontSize:"sm",color:"gray.500"},"No disabled routes"))),U()&&r.createElement(ne.T,{spacing:4,align:"stretch",width:"100%"},r.createElement(dt.r,{columns:{base:1,md:2},spacing:4},r.createElement(y.a,null,r.createElement(C.E,{fontWeight:"semibold",mb:2},"Volume"),r.createElement(it,{value:t.volume,onChange:e=>g&&g(e)})),r.createElement(y.a,null,r.createElement(C.E,{fontWeight:"semibold",mb:2},"Delay"),r.createElement(lt,{value:t.timeshift||0,onChange:e=>b&&b(e)}))),r.createElement(me.z,{spacing:2,wrap:"wrap"},m&&r.createElement(S.$,{size:"sm",leftIcon:r.createElement("i",{className:"fas fa-headphones"}),colorScheme:"teal",onClick:e=>{e.stopPropagation(),m()}},o?"Stop Listening":"Listen"),u&&r.createElement(S.$,{size:"sm",leftIcon:r.createElement("i",{className:"fas fa-chart-bar"}),colorScheme:"cyan",onClick:e=>{e.stopPropagation(),u()}},"Visualize"),c&&r.createElement(S.$,{size:"sm",leftIcon:r.createElement("i",{className:"fas fa-sliders-h"}),colorScheme:"orange",onClick:e=>{e.stopPropagation(),c()}},"Equalizer"),i&&r.createElement(S.$,{size:"sm",leftIcon:r.createElement(kt.q,null),colorScheme:"blue",onClick:e=>{e.stopPropagation(),i()}},"Edit")),(t.ip||t.port||t.sample_rate||t.bit_depth)&&r.createElement(y.a,null,r.createElement(C.E,{fontWeight:"semibold",mb:2},"Technical Details"),r.createElement(dt.r,{columns:{base:1,md:2,lg:3,"2xl":4},spacing:2},t.ip&&r.createElement(C.E,{fontSize:"sm"},r.createElement("i",{className:"fas fa-network-wired"})," IP: ",t.ip),t.port&&r.createElement(C.E,{fontSize:"sm"},r.createElement("i",{className:"fas fa-plug"})," Port: ",t.port),t.sample_rate&&r.createElement(C.E,{fontSize:"sm"},r.createElement("i",{className:"fas fa-wave-square"})," Sample Rate: ",t.sample_rate,"Hz"),t.bit_depth&&r.createElement(C.E,{fontSize:"sm"},r.createElement("i",{className:"fas fa-microchip"})," Bit Depth: ",t.bit_depth,"-bit"))),t.is_group&&t.group_members&&t.group_members.length>0&&r.createElement(y.a,null,r.createElement(C.E,{fontWeight:"semibold",mb:2},"Group Members"),r.createElement(ne.T,{align:"stretch",spacing:1,width:"100%"},t.group_members.map(((e,t)=>r.createElement(y.a,{key:t,p:2,borderWidth:"1px",borderRadius:"md",cursor:v?"pointer":"default",_hover:v?{bg:(0,h.dU)("gray.100","gray.700")}:{},onClick:t=>{t.stopPropagation(),v&&v("sinks",e)},bg:(0,h.dU)("blue.50","blue.900"),borderColor:(0,h.dU)("blue.200","blue.700")},r.createElement(C.E,{fontSize:"sm"},e,v&&r.createElement(y.a,{as:"span",ml:1,color:(0,h.dU)("blue.500","blue.300")},r.createElement("i",{className:"fas fa-external-link-alt",style:{fontSize:"0.7em"}})))))))),!t.is_group&&I.length>0&&r.createElement(y.a,null,r.createElement(C.E,{fontWeight:"semibold",mb:2},"Member of Groups"),r.createElement(ne.T,{align:"stretch",spacing:1,width:"100%"},I.map(((e,t)=>r.createElement(y.a,{key:t,p:2,borderWidth:"1px",borderRadius:"md",cursor:v?"pointer":"default",_hover:v?{bg:(0,h.dU)("gray.100","gray.700")}:{},onClick:t=>{t.stopPropagation(),v&&v("sources"===e.type?"group-source":"group-sink",e.name)},bg:(0,h.dU)("sources"===e.type?"green.50":"blue.50","sources"===e.type?"green.900":"blue.900"),borderColor:(0,h.dU)("sources"===e.type?"green.200":"blue.200","sources"===e.type?"green.700":"blue.700")},r.createElement(C.E,{fontSize:"sm"},e.name,v&&r.createElement(y.a,{as:"span",ml:1,color:(0,h.dU)("blue.500","blue.300")},r.createElement("i",{className:"fas fa-external-link-alt",style:{fontSize:"0.7em"}})))))))),r.createElement(y.a,null,r.createElement(C.E,{fontWeight:"semibold",mb:2},"Active Routes"),_.length>0?r.createElement(ne.T,{align:"stretch",spacing:1,width:"100%"},_.map(((e,t)=>r.createElement(y.a,{key:t,p:2,borderWidth:"1px",borderRadius:"md",cursor:v?"pointer":"default",_hover:v?{bg:(0,h.dU)("gray.100","gray.700")}:{},onClick:t=>{t.stopPropagation(),v&&v("routes",e)}},r.createElement(C.E,{fontSize:"sm"},e,v&&r.createElement(y.a,{as:"span",ml:1,color:(0,h.dU)("blue.500","blue.300")},r.createElement("i",{className:"fas fa-external-link-alt",style:{fontSize:"0.7em"}}))))))):r.createElement(C.E,{fontSize:"sm",color:"gray.500"},"No active routes")),r.createElement(y.a,null,r.createElement(C.E,{fontWeight:"semibold",mb:2},"Disabled Routes"),M.length>0?r.createElement(ne.T,{align:"stretch",spacing:1,width:"100%"},M.map(((e,t)=>r.createElement(y.a,{key:t,p:2,borderWidth:"1px",borderRadius:"md",cursor:v?"pointer":"default",_hover:v?{bg:(0,h.dU)("gray.100","gray.700")}:{},onClick:t=>{t.stopPropagation(),v&&v("routes",e)}},r.createElement(C.E,{fontSize:"sm"},e,v&&r.createElement(y.a,{as:"span",ml:1,color:(0,h.dU)("blue.500","blue.300")},r.createElement("i",{className:"fas fa-external-link-alt",style:{fontSize:"0.7em"}}))))))):r.createElement(C.E,{fontSize:"sm",color:"gray.500"},"No disabled routes"))),N()&&r.createElement(ne.T,{spacing:4,align:"stretch",width:"100%"},r.createElement(dt.r,{columns:{base:1,md:2},spacing:4},r.createElement(y.a,null,r.createElement(C.E,{fontWeight:"semibold",mb:2},"Volume"),r.createElement(it,{value:t.volume||100,onChange:e=>g&&g(e)})),r.createElement(y.a,null,r.createElement(C.E,{fontWeight:"semibold",mb:2},"Delay"),r.createElement(lt,{value:t.timeshift||0,onChange:e=>b&&b(e)}))),r.createElement(dt.r,{columns:{base:1,md:2},spacing:4},r.createElement(y.a,{p:2,borderWidth:"1px",borderRadius:"md",cursor:v?"pointer":"default",_hover:v?{bg:(0,h.dU)("gray.100","gray.700")}:{},onClick:e=>{e.stopPropagation(),v&&v("sources",t.source)}},r.createElement(C.E,{fontWeight:"semibold"},r.createElement("i",{className:"fas fa-microphone"})," Source"),r.createElement(C.E,null,t.source,v&&r.createElement(y.a,{as:"span",ml:1,color:(0,h.dU)("blue.500","blue.300")},r.createElement("i",{className:"fas fa-external-link-alt",style:{fontSize:"0.7em"}})))),r.createElement(y.a,{p:2,borderWidth:"1px",borderRadius:"md",cursor:v?"pointer":"default",_hover:v?{bg:(0,h.dU)("gray.100","gray.700")}:{},onClick:e=>{e.stopPropagation(),v&&v("sinks",t.sink)}},r.createElement(C.E,{fontWeight:"semibold"},r.createElement("i",{className:"fas fa-volume-up"})," Sink"),r.createElement(C.E,null,t.sink,v&&r.createElement(y.a,{as:"span",ml:1,color:(0,h.dU)("blue.500","blue.300")},r.createElement("i",{className:"fas fa-external-link-alt",style:{fontSize:"0.7em"}}))))),r.createElement(me.z,{spacing:2,wrap:"wrap"},c&&r.createElement(S.$,{size:"sm",leftIcon:r.createElement("i",{className:"fas fa-sliders-h"}),colorScheme:"orange",onClick:e=>{e.stopPropagation(),c()}},"Equalizer"),i&&r.createElement(S.$,{size:"sm",leftIcon:r.createElement(kt.q,null),colorScheme:"blue",onClick:e=>{e.stopPropagation(),i()}},"Edit"))))));var q,V},St=e=>{let{sources:t,starredSources:n,contextActiveSource:a,viewMode:o,sortConfig:l,handleStar:s,handleToggleSource:i,handleOpenSourceEqualizer:c,handleOpenVnc:d,handleUpdateSourceVolume:m,handleUpdateSourceTimeshift:u,actions:g,routes:b,handleControlSource:p}=e;const f=((e,t,n,r)=>[...e].sort(((e,a)=>{if("favorite"===t.key){const r=n.includes(e.name),o=n.includes(a.name);return"asc"===t.direction?r===o?0:r?-1:1:r===o?0:r?1:-1}if("active"===t.key){const n=r===e.name,o=r===a.name;return"asc"===t.direction?n===o?0:n?-1:1:n===o?0:n?1:-1}const o=e[t.key],l=a[t.key];return void 0===o||void 0===l?0:"string"==typeof o&&"string"==typeof l?"asc"===t.direction?o.localeCompare(l):l.localeCompare(o):o<l?"asc"===t.direction?-1:1:o>l?"asc"===t.direction?1:-1:0})))(t,l,n,a),E=(0,h.dU)("white","gray.800");return r.createElement(y.a,null,"grid"===o?r.createElement(dt.r,{columns:{base:1,md:2,lg:3,"2xl":4},spacing:4},f.map((e=>r.createElement(ut,{key:`source-${e.name}`,item:e,type:"sources",isStarred:n.includes(e.name),isActive:a===e.name,onStar:()=>s("sources",e.name),onActivate:()=>i(e.name),onEqualizer:()=>c(e.name),onVnc:e.vnc_ip?()=>d(e.name):void 0,onUpdateVolume:t=>m(e.name,t),onUpdateTimeshift:t=>u(e.name,t),onEdit:()=>g.editItem(e.is_group?"group-source":"sources",e),routes:b,allSources:t,navigate:g.navigate,onToggleActiveSource:()=>g.toggleActiveSource(e.name),onControlSource:e.vnc_ip&&p?t=>p(e.name,t):void 0})))):r.createElement(ne.T,{spacing:2,align:"stretch",bg:E,borderRadius:"md"},f.map((e=>r.createElement(vt,{key:`source-${e.name}`,item:e,type:"sources",isStarred:n.includes(e.name),isActive:a===e.name,onStar:()=>s("sources",e.name),onActivate:()=>i(e.name),onEqualizer:()=>c(e.name),onVnc:e.vnc_ip?()=>d(e.name):void 0,onUpdateVolume:t=>m(e.name,t),onUpdateTimeshift:t=>u(e.name,t),onEdit:()=>g.editItem(e.is_group?"group-source":"sources",e),routes:b,allSources:t,navigate:g.navigate,onToggleActiveSource:()=>g.toggleActiveSource(e.name),onControlSource:e.vnc_ip&&p?t=>p(e.name,t):void 0})))))},yt=e=>{let{sinks:t,starredSinks:n,listeningToSink:a,viewMode:o,sortConfig:l,handleStar:s,handleToggleSink:i,handleOpenSinkEqualizer:c,handleUpdateSinkVolume:d,handleUpdateSinkTimeshift:m,handleOpenVisualizer:u,actions:g,routes:b}=e;const p=((e,t,n,r)=>[...e].sort(((e,a)=>{if("favorite"===t.key){const r=n.includes(e.name),o=n.includes(a.name);return"asc"===t.direction?r===o?0:r?-1:1:r===o?0:r?1:-1}if("active"===t.key){const n=r?.name===e.name,o=r?.name===a.name;return"asc"===t.direction?n===o?0:n?-1:1:n===o?0:n?1:-1}const o=e[t.key],l=a[t.key];return void 0===o||void 0===l?0:"string"==typeof o&&"string"==typeof l?"asc"===t.direction?o.localeCompare(l):l.localeCompare(o):o<l?"asc"===t.direction?-1:1:o>l?"asc"===t.direction?1:-1:0})))(t,l,n,a),f=(0,h.dU)("white","gray.800");return r.createElement(y.a,null,"grid"===o?r.createElement(dt.r,{columns:{base:1,md:2,lg:3,"2xl":4},spacing:4},p.map((e=>r.createElement(ut,{key:`sink-${e.name}`,item:e,type:"sinks",isStarred:n.includes(e.name),isActive:a?.name===e.name,onStar:()=>s("sinks",e.name),onActivate:()=>i(e.name),onEqualizer:()=>c(e.name),onUpdateVolume:t=>d(e.name,t),onUpdateTimeshift:t=>m(e.name,t),onEdit:()=>g.editItem(e.is_group?"group-sink":"sinks",e),onListen:()=>{a?.name===e.name?g.listenToSink(null):g.listenToSink(e)},onVisualize:()=>u?u(e):void 0,routes:b,allSinks:t,navigate:g.navigate})))):r.createElement(ne.T,{spacing:2,align:"stretch",bg:f,borderRadius:"md"},p.map((e=>r.createElement(vt,{key:`sink-${e.name}`,item:e,type:"sinks",isStarred:n.includes(e.name),isActive:a?.name===e.name,onStar:()=>s("sinks",e.name),onActivate:()=>i(e.name),onEqualizer:()=>c(e.name),onUpdateVolume:t=>d(e.name,t),onUpdateTimeshift:t=>m(e.name,t),onEdit:()=>g.editItem(e.is_group?"group-sink":"sinks",e),onListen:()=>{a?.name===e.name?g.listenToSink(null):g.listenToSink(e)},onVisualize:()=>u?u(e):void 0,routes:b,allSinks:t,navigate:g.navigate})))))},wt=e=>{let{routes:t,starredRoutes:n,viewMode:a,sortConfig:o,handleStar:l,handleToggleRoute:s,handleOpenRouteEqualizer:i,handleUpdateRouteVolume:c,handleUpdateRouteTimeshift:d,actions:m}=e;const u=((e,t,n)=>[...e].sort(((e,r)=>{if("favorite"===t.key){const a=n.includes(e.name),o=n.includes(r.name);return"asc"===t.direction?a===o?0:a?-1:1:a===o?0:a?1:-1}const a=e[t.key],o=r[t.key];return void 0===a||void 0===o?0:"string"==typeof a&&"string"==typeof o?"asc"===t.direction?a.localeCompare(o):o.localeCompare(a):a<o?"asc"===t.direction?-1:1:a>o?"asc"===t.direction?1:-1:0})))(t,o,n),g=(0,h.dU)("white","gray.800");return r.createElement(y.a,null,"grid"===a?r.createElement(dt.r,{columns:{base:1,md:2,lg:3,"2xl":4},spacing:4},u.map((e=>r.createElement(ut,{key:`route-${e.name}`,item:e,type:"routes",isStarred:n.includes(e.name),isActive:e.enabled,onStar:()=>l("routes",e.name),onActivate:()=>s(e.name),onEqualizer:()=>i(e.name),onUpdateVolume:t=>c(e.name,t),onUpdateTimeshift:t=>d(e.name,t),onEdit:()=>m.editItem("routes",e),routes:t,navigate:m.navigate})))):r.createElement(ne.T,{spacing:2,align:"stretch",bg:g,borderRadius:"md"},u.map((e=>r.createElement(vt,{key:`route-${e.name}`,item:e,type:"routes",isStarred:n.includes(e.name),isActive:e.enabled,onStar:()=>l("routes",e.name),onActivate:()=>s(e.name),onEqualizer:()=>i(e.name),onUpdateVolume:t=>c(e.name,t),onUpdateTimeshift:t=>d(e.name,t),onEdit:()=>m.editItem("routes",e),routes:t,navigate:m.navigate})))))},xt=e=>{let{sources:t,sinks:n,routes:a,starredSources:o,starredSinks:l,starredRoutes:s,contextActiveSource:i,listeningToSink:c,viewMode:d,handleStar:m,handleToggleSource:u,handleToggleSink:g,handleToggleRoute:b,handleOpenSourceEqualizer:p,handleOpenSinkEqualizer:E,handleOpenRouteEqualizer:k,handleOpenVnc:v}=e;const S=t.filter((e=>o.includes(e.name))),w=n.filter((e=>l.includes(e.name))),x=a.filter((e=>s.includes(e.name)));if(0===S.length&&0===w.length&&0===x.length)return r.createElement(pt,{icon:"star",title:"No Favorites",message:"Star items to add them to your favorites"});const C=(0,h.dU)("white","gray.800"),z=(0,h.dU)("gray.200","gray.700"),A=(0,h.dU)("gray.700","white"),$=(0,h.dU)("white","gray.800");return r.createElement(y.a,null,S.length>0&&r.createElement(y.a,{mb:6,p:4,borderWidth:"1px",borderRadius:"lg",borderColor:z,bg:C},r.createElement(f.s,{align:"center",mb:4},r.createElement(B.I,{as:T.i0t,mr:2,color:A}),r.createElement(_.D,{as:"h3",size:"md",color:A},"Favorite Sources")),r.createElement(y.a,null,"grid"===d?r.createElement(dt.r,{columns:{base:1,md:2,lg:3,"2xl":4},spacing:4},S.map((e=>r.createElement(ut,{key:`favorite-source-${e.name}`,item:e,type:"sources",isStarred:!0,isActive:i===e.name,onStar:()=>m("sources",e.name),onActivate:()=>u(e.name),onEqualizer:()=>p(e.name),onVnc:e.vnc_ip?()=>v(e.name):void 0})))):r.createElement(ne.T,{spacing:2,align:"stretch",bg:$,borderRadius:"md"},S.map((e=>r.createElement(vt,{key:`favorite-source-${e.name}`,item:e,type:"sources",isStarred:!0,isActive:i===e.name,onStar:()=>m("sources",e.name),onActivate:()=>u(e.name),onEqualizer:()=>p(e.name),onVnc:e.vnc_ip?()=>v(e.name):void 0})))))),w.length>0&&r.createElement(y.a,{mb:6,p:4,borderWidth:"1px",borderRadius:"lg",borderColor:z,bg:C},r.createElement(f.s,{align:"center",mb:4},r.createElement(B.I,{as:T.pPd,mr:2,color:A}),r.createElement(_.D,{as:"h3",size:"md",color:A},"Favorite Sinks")),r.createElement(y.a,null,"grid"===d?r.createElement(dt.r,{columns:{base:1,md:2,lg:3,"2xl":4},spacing:4},w.map((e=>r.createElement(ut,{key:`favorite-sink-${e.name}`,item:e,type:"sinks",isStarred:!0,isActive:c?.name===e.name,onStar:()=>m("sinks",e.name),onActivate:()=>g(e.name),onEqualizer:()=>E(e.name)})))):r.createElement(ne.T,{spacing:2,align:"stretch",bg:$,borderRadius:"md"},w.map((e=>r.createElement(vt,{key:`favorite-sink-${e.name}`,item:e,type:"sinks",isStarred:!0,isActive:c?.name===e.name,onStar:()=>m("sinks",e.name),onActivate:()=>g(e.name),onEqualizer:()=>E(e.name)})))))),x.length>0&&r.createElement(y.a,{mb:6,p:4,borderWidth:"1px",borderRadius:"lg",borderColor:z,bg:C},r.createElement(f.s,{align:"center",mb:4},r.createElement(B.I,{as:T.$Fg,mr:2,color:A}),r.createElement(_.D,{as:"h3",size:"md",color:A},"Favorite Routes")),r.createElement(y.a,null,"grid"===d?r.createElement(dt.r,{columns:{base:1,md:2,lg:3,"2xl":4},spacing:4},x.map((e=>r.createElement(ut,{key:`favorite-route-${e.name}`,item:e,type:"routes",isStarred:!0,isActive:e.enabled,onStar:()=>m("routes",e.name),onActivate:()=>b(e.name),onEqualizer:()=>k(e.name)})))):r.createElement(ne.T,{spacing:2,align:"stretch",bg:$,borderRadius:"md"},x.map((e=>r.createElement(vt,{key:`favorite-route-${e.name}`,item:e,type:"routes",isStarred:!0,isActive:e.enabled,onStar:()=>m("routes",e.name),onActivate:()=>b(e.name),onEqualizer:()=>k(e.name)})))))))},Ct=e=>{let{sources:t,sinks:n,routes:a,starredSources:o,contextActiveSource:l,setCurrentCategory:s,handleStar:i,handleToggleSource:c,handleToggleRoute:d,handleOpenSourceEqualizer:m,handleOpenVnc:u,handleUpdateSourceVolume:g,handleUpdateSourceTimeshift:b,handleUpdateRouteVolume:p,handleUpdateRouteTimeshift:E,handleControlSource:k}=e;const[v,w]=(0,r.useState)(null);(0,r.useEffect)((()=>{const e=localStorage.getItem("currentSourceName");e&&w(e)}),[]);const x=t.find((e=>e.name===v)),C=(0,h.dU)("gray.700","white");return x?r.createElement(y.a,null,r.createElement(y.a,{mb:6},r.createElement(_.D,{as:"h2",size:"lg",color:C,mb:4},"Source: ",x.name),r.createElement(ut,{key:`source-${x.name}`,item:x,type:"sources",isStarred:o.includes(x.name),isActive:l===x.name,onStar:()=>i("sources",x.name),onActivate:()=>c(x.name),onEqualizer:()=>m(x.name),onVnc:x.vnc_ip?()=>u(x.name):void 0,onUpdateVolume:e=>g(x.name,e),onUpdateTimeshift:e=>b(x.name,e),onControlSource:x.vnc_ip&&k?e=>k(x.name,e):void 0,onToggleActiveSource:()=>c(x.name),routes:a,allSources:t,allSinks:n,navigate:(e,t)=>{"routes"===e?(s("routes"),console.log(`Navigating to route: ${t}`)):"sources"===e||"group-source"===e?(s("sources"),console.log(`Navigating to source: ${t}`)):"sinks"!==e&&"group-sink"!==e||(s("sinks"),console.log(`Navigating to sink: ${t}`))}})),r.createElement(y.a,{mb:6},r.createElement(f.s,{align:"center",justify:"space-between",mb:4},r.createElement(f.s,{align:"center"},r.createElement(B.I,{as:T.$Fg,mr:2,color:C}),r.createElement(_.D,{as:"h3",size:"md",color:C},"Connected Routes")),r.createElement(S.$,{leftIcon:r.createElement(B.I,{as:T.OiG}),colorScheme:"blue",size:"sm",onClick:()=>ze("source",x.name)},"Add Route")),r.createElement(dt.r,{columns:{base:1,md:2,lg:3,"2xl":4},spacing:4},a.filter((e=>e.source===x.name)).map((e=>r.createElement(ut,{key:`source-route-${e.name}`,item:e,type:"routes",isStarred:o.includes(e.name),isActive:e.enabled,onStar:()=>i("routes",e.name),onActivate:()=>d(e.name),onEqualizer:()=>m(e.name),onUpdateVolume:t=>p(e.name,t),onUpdateTimeshift:t=>E(e.name,t),routes:a,allSources:t,allSinks:n,navigate:(e,t)=>{"routes"===e?(s("routes"),console.log(`Navigating to route: ${t}`)):"sources"===e||"group-source"===e?(s("sources"),console.log(`Navigating to source: ${t}`)):"sinks"!==e&&"group-sink"!==e||(s("sinks"),console.log(`Navigating to sink: ${t}`))}})))))):r.createElement(pt,{icon:"microphone",title:"Source Not Found",message:"The requested source could not be found",actionText:"View All Sources",onAction:()=>s("sources")})},zt=e=>{let{sources:t,sinks:n,routes:a,starredSinks:o,listeningToSink:l,setCurrentCategory:s,handleStar:i,handleToggleSink:c,handleToggleRoute:d,handleOpenSinkEqualizer:m,handleUpdateSinkVolume:u,handleUpdateSinkTimeshift:g,handleUpdateRouteVolume:b,handleUpdateRouteTimeshift:p}=e;const[E,k]=(0,r.useState)(null);(0,r.useEffect)((()=>{const e=localStorage.getItem("currentSinkName");e&&k(e)}),[]);const v=n.find((e=>e.name===E)),w=(0,h.dU)("gray.700","white");return v?r.createElement(y.a,null,r.createElement(y.a,{mb:6},r.createElement(_.D,{as:"h2",size:"lg",color:w,mb:4},"Sink: ",v.name),r.createElement(ut,{key:`sink-${v.name}`,item:v,type:"sinks",isStarred:o?.includes(v.name)||!1,isActive:l?.name===v.name,onStar:()=>i("sinks",v.name),onActivate:()=>c(v.name),onEqualizer:()=>m(v.name),onListen:()=>c(v.name),onUpdateVolume:e=>u(v.name,e),onUpdateTimeshift:e=>g(v.name,e),routes:a,allSources:t,allSinks:n,navigate:(e,t)=>{"routes"===e?(s("routes"),console.log(`Navigating to route: ${t}`)):"sources"===e||"group-source"===e?(s("sources"),console.log(`Navigating to source: ${t}`)):"sinks"!==e&&"group-sink"!==e||(s("sinks"),console.log(`Navigating to sink: ${t}`))}})),r.createElement(y.a,{mb:6},r.createElement(f.s,{align:"center",justify:"space-between",mb:4},r.createElement(f.s,{align:"center"},r.createElement(B.I,{as:T.$Fg,mr:2,color:w}),r.createElement(_.D,{as:"h3",size:"md",color:w},"Connected Routes")),r.createElement(S.$,{leftIcon:r.createElement(B.I,{as:T.OiG}),colorScheme:"blue",size:"sm",onClick:()=>ze("sink",v.name)},"Add Route")),r.createElement(dt.r,{columns:{base:1,md:2,lg:3,"2xl":4},spacing:4},a.filter((e=>e.sink===v.name)).map((e=>r.createElement(ut,{key:`sink-route-${e.name}`,item:e,type:"routes",isStarred:o?.includes(e.name)||!1,isActive:e.enabled,onStar:()=>i("routes",e.name),onActivate:()=>d(e.name),onEqualizer:()=>m(e.name),onUpdateVolume:t=>b(e.name,t),onUpdateTimeshift:t=>p(e.name,t),routes:a,allSources:t,allSinks:n,navigate:(e,t)=>{"routes"===e?(s("routes"),console.log(`Navigating to route: ${t}`)):"sources"===e||"group-source"===e?(s("sources"),console.log(`Navigating to source: ${t}`)):"sinks"!==e&&"group-sink"!==e||(s("sinks"),console.log(`Navigating to sink: ${t}`))}})))))):r.createElement(pt,{icon:"volume-up",title:"Sink Not Found",message:"The requested sink could not be found",actionText:"View All Sinks",onAction:()=>s("sinks")})},At=e=>{let{sources:t,sinks:n,routes:a,starredRoutes:o,setCurrentCategory:l,handleStar:s,handleToggleRoute:i,handleToggleSource:c,handleToggleSink:d,handleOpenRouteEqualizer:m,handleOpenSourceEqualizer:u,handleOpenSinkEqualizer:g,handleUpdateRouteVolume:b,handleUpdateRouteTimeshift:p,handleUpdateSourceVolume:E,handleUpdateSourceTimeshift:k,handleUpdateSinkVolume:v,handleUpdateSinkTimeshift:S,handleControlSource:w}=e;const[x,C]=(0,r.useState)(null);(0,r.useEffect)((()=>{const e=localStorage.getItem("currentRouteName");e&&C(e)}),[]);const z=a.find((e=>e.name===x)),A=(0,h.dU)("gray.700","white");if(!z)return r.createElement(pt,{icon:"route",title:"Route Not Found",message:"The requested route could not be found",actionText:"View All Routes",onAction:()=>l("routes")});const $=t.find((e=>e.name===z.source)),R=n.find((e=>e.name===z.sink));return r.createElement(y.a,null,r.createElement(y.a,{mb:6},r.createElement(_.D,{as:"h2",size:"lg",color:A,mb:4},"Route: ",z.name),r.createElement(ut,{key:`route-${z.name}`,item:z,type:"routes",isStarred:o?.includes(z.name)||!1,isActive:z.enabled,onStar:()=>s("routes",z.name),onActivate:()=>i(z.name),onEqualizer:()=>m(z.name),onUpdateVolume:e=>b(z.name,e),onUpdateTimeshift:e=>p(z.name,e),routes:a,allSources:t,allSinks:n,navigate:(e,t)=>{"routes"===e?(l("routes"),console.log(`Navigating to route: ${t}`)):"sources"===e||"group-source"===e?(l("sources"),console.log(`Navigating to source: ${t}`)):"sinks"!==e&&"group-sink"!==e||(l("sinks"),console.log(`Navigating to sink: ${t}`))}})),$&&r.createElement(y.a,{mb:6},r.createElement(f.s,{align:"center",mb:4},r.createElement(B.I,{as:T.i0t,mr:2,color:A}),r.createElement(_.D,{as:"h3",size:"md",color:A},"Source")),r.createElement(dt.r,{columns:{base:1,md:1,lg:1},spacing:4},r.createElement(ut,{key:`route-source-${$.name}`,item:$,type:"sources",isStarred:o?.includes($.name)||!1,isActive:$.enabled,onStar:()=>s("sources",$.name),onActivate:()=>c($.name),onEqualizer:()=>u($.name),onUpdateVolume:e=>E($.name,e),onUpdateTimeshift:e=>k($.name,e),onControlSource:$.vnc_ip&&w?e=>w($.name,e):void 0,onToggleActiveSource:()=>c($.name),routes:a,allSources:t,allSinks:n,navigate:(e,t)=>{"routes"===e?(l("routes"),console.log(`Navigating to route: ${t}`)):"sources"===e||"group-source"===e?(l("sources"),console.log(`Navigating to source: ${t}`)):"sinks"!==e&&"group-sink"!==e||(l("sinks"),console.log(`Navigating to sink: ${t}`))}}))),R&&r.createElement(y.a,{mb:6},r.createElement(f.s,{align:"center",mb:4},r.createElement(B.I,{as:T.pPd,mr:2,color:A}),r.createElement(_.D,{as:"h3",size:"md",color:A},"Sink")),r.createElement(dt.r,{columns:{base:1,md:1,lg:1},spacing:4},r.createElement(ut,{key:`route-sink-${R.name}`,item:R,type:"sinks",isStarred:o?.includes(R.name)||!1,isActive:R.enabled,onStar:()=>s("sinks",R.name),onActivate:()=>d(R.name),onEqualizer:()=>g(R.name),onUpdateVolume:e=>v(R.name,e),onUpdateTimeshift:e=>S(R.name,e),routes:a,allSources:t,allSinks:n,navigate:(e,t)=>{"routes"===e?(l("routes"),console.log(`Navigating to route: ${t}`)):"sources"===e||"group-source"===e?(l("sources"),console.log(`Navigating to source: ${t}`)):"sinks"!==e&&"group-sink"!==e||(l("sinks"),console.log(`Navigating to sink: ${t}`))}}))))},$t=e=>{let{currentCategory:t,viewMode:n,setViewMode:a,onSort:o,sortConfig:l,isDarkMode:s,actions:i,...c}=e;const d=(0,r.useRef)(null);return r.createElement("div",{className:"content-panel"},r.createElement(ct,{currentCategory:t,viewMode:n,setViewMode:a,sortConfig:l,onSort:o,isDarkMode:s}),r.createElement("div",{className:"content-body",ref:d},(()=>{const e={...c,viewMode:n,sortConfig:l,isDarkMode:s,actions:i};switch(t){case"dashboard":default:return r.createElement(bt,e);case"active-source":return r.createElement(ht,e);case"now-listening":return r.createElement(ft,e);case"sources":return r.createElement(St,e);case"sinks":return r.createElement(yt,e);case"routes":return r.createElement(wt,e);case"favorites":return r.createElement(xt,e);case"source":return r.createElement(Ct,e);case"sink":return r.createElement(zt,e);case"route":return r.createElement(At,e)}})()))};var Rt=n(5072),Ut=n.n(Rt),Tt=n(7825),Nt=n.n(Tt),_t=n(7659),Mt=n.n(_t),It=n(5056),qt=n.n(It),Vt=n(540),Pt=n.n(Vt),Ot=n(1113),Wt=n.n(Ot),Ft=n(6656),jt={};jt.styleTagTransform=Wt(),jt.setAttributes=qt(),jt.insert=Mt().bind(null,"head"),jt.domAPI=Nt(),jt.insertStyleElement=Pt(),Ut()(Ft.A,jt),Ft.A&&Ft.A.locals&&Ft.A.locals;const Dt=()=>{const{sources:e,sinks:t,routes:n,activeSource:a,listeningToSink:o,onListenToSink:l,onVisualizeSink:s,onToggleActiveSource:i,controlSource:c}=p(),[d,m]=(0,r.useState)((()=>localStorage.getItem("fullMenuCurrentCategory")||"dashboard")),[u,g]=(0,r.useState)((()=>localStorage.getItem("fullMenuViewMode")||"grid")),[b,f]=(0,r.useState)([]),[E,k]=(0,r.useState)([]),[v,S]=(0,r.useState)([]),[y,w]=(0,r.useState)({key:"name",direction:"asc"}),[x,C]=(0,r.useState)(null),{colorMode:z}=(0,h.G6)(),[A,$]=(0,r.useState)(!1);(0,r.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("starredSources")||"[]"),t=JSON.parse(localStorage.getItem("starredSinks")||"[]"),n=JSON.parse(localStorage.getItem("starredRoutes")||"[]");f(e),k(t),S(n)}),[]),(0,r.useEffect)((()=>{localStorage.setItem("fullMenuCurrentCategory",d)}),[d]),(0,r.useEffect)((()=>{localStorage.setItem("fullMenuViewMode",u)}),[u]),(0,r.useEffect)((()=>{document.body.classList.toggle("dark-mode","dark"===z)}),[z]);const R=(0,r.useMemo)((()=>({...Ae((()=>Promise.resolve()),C,((e,t)=>{"sources"===e?f(t):"sinks"===e?k(t):"routes"===e&&S(t)}),((e,t,n)=>{e&&t&&n&&xe(`/site/equalizer?type=${t}&name=${encodeURIComponent(n.name)}`)}),(()=>{}),(()=>{}),((e,t)=>{e&&t&&t.vnc_ip&&t.vnc_port&&xe(`/site/vnc?ip=${t.vnc_ip}&port=${t.vnc_port}`)}),(e=>{const t=e(a);null!==t?i(t):a&&i(a)}),l,s,0,(()=>{})),navigate:async(e,t)=>{switch(e){case"sources":case"group-source":m("source"),localStorage.setItem("currentSourceName",t);break;case"sinks":case"group-sink":m("sink"),localStorage.setItem("currentSinkName",t);break;case"routes":m("route"),localStorage.setItem("currentRouteName",t)}}})),[l,s,i,a]),U="dark"===z;return r.createElement("div",{className:"full-menu "+(U?"dark-mode":"")},x&&r.createElement("div",{className:"error-message"},x),r.createElement(Le,{isDarkMode:U,sources:e,sinks:t,routes:n,navigate:R.navigate}),r.createElement("div",{className:"main-content"},r.createElement(He,{currentCategory:d,setCurrentCategory:m,sources:e,sinks:t,routes:n,starredSources:b,starredSinks:E,starredRoutes:v,sidebarOpen:A,toggleSidebar:()=>{$((e=>!e))},openDesktopMenu:()=>{window.open("/site/desktopmenu","_blank")},isDarkMode:U}),r.createElement($t,{currentCategory:d,viewMode:u,setViewMode:g,sortConfig:y,onSort:e=>{w((t=>({key:e,direction:t.key===e&&"asc"===t.direction?"desc":"asc"})))},isDarkMode:U,sources:e,sinks:t,routes:n,starredSources:b,starredSinks:E,starredRoutes:v,contextActiveSource:a,listeningToSink:o,setCurrentCategory:m,handleStar:(e,t)=>{"sources"===e?f((e=>{const n=e.includes(t)?e.filter((e=>e!==t)):[...e,t];return localStorage.setItem("starredSources",JSON.stringify(n)),n})):"sinks"===e?k((e=>{const n=e.includes(t)?e.filter((e=>e!==t)):[...e,t];return localStorage.setItem("starredSinks",JSON.stringify(n)),n})):"routes"===e&&S((e=>{const n=e.includes(t)?e.filter((e=>e!==t)):[...e,t];return localStorage.setItem("starredRoutes",JSON.stringify(n)),n}))},handleToggleSource:t=>{e.find((e=>e.name===t))&&R.toggleEnabled("sources",t)},handleToggleSink:e=>{t.find((t=>t.name===e))&&R.toggleEnabled("sinks",e)},handleToggleRoute:e=>{n.find((t=>t.name===e))&&R.toggleEnabled("routes",e)},handleOpenSourceEqualizer:t=>{const n=e.find((e=>e.name===t));n&&R.showEqualizer(!0,"sources",n)},handleOpenSinkEqualizer:e=>{const n=t.find((t=>t.name===e));n&&R.showEqualizer(!0,"sinks",n)},handleOpenRouteEqualizer:e=>{const t=n.find((t=>t.name===e));t&&R.showEqualizer(!0,"routes",t)},handleOpenVnc:t=>{const n=e.find((e=>e.name===t));n&&R.showVNC(!0,n)},handleUpdateSourceVolume:(e,t)=>{R.updateVolume("sources",e,t)},handleUpdateSinkVolume:(e,t)=>{R.updateVolume("sinks",e,t)},handleUpdateSourceTimeshift:(e,t)=>{R.updateTimeshift("sources",e,t)},handleUpdateSinkTimeshift:(e,t)=>{R.updateTimeshift("sinks",e,t)},handleUpdateRouteVolume:(e,t)=>{R.updateVolume("routes",e,t)},handleUpdateRouteTimeshift:(e,t)=>{R.updateTimeshift("routes",e,t)},handleOpenVisualizer:e=>{e&&(xe(`/site/visualizer?ip=${e.ip}`,800,600),s(e))},handleControlSource:(e,t)=>{c(e,t)},actions:R})))};var Lt=n(1626),Jt={};Jt.styleTagTransform=Wt(),Jt.setAttributes=qt(),Jt.insert=Mt().bind(null,"head"),Jt.domAPI=Nt(),Jt.insertStyleElement=Pt(),Ut()(Lt.A,Jt),Lt.A&&Lt.A.locals&&Lt.A.locals;var Gt=n(2343),Bt={};Bt.styleTagTransform=Wt(),Bt.setAttributes=qt(),Bt.insert=Mt().bind(null,"head"),Bt.domAPI=Nt(),Bt.insertStyleElement=Pt(),Ut()(Gt.A,Bt),Gt.A&&Gt.A.locals&&Gt.A.locals;const Ht=()=>{const[e]=(0,s.ok)(),{sources:t,sinks:n,routes:a}=p(),o=e.get("type"),l=e.get("name");let i=null;return o&&l&&("sources"===o||"group-source"===o?i=t.find((e=>e.name===l))||null:"sinks"===o||"group-sink"===o?i=n.find((e=>e.name===l))||null:"routes"===o&&(i=a.find((e=>e.name===l))||null)),i?r.createElement(P,{item:i,type:o,onClose:()=>window.close(),onDataChange:()=>{}}):r.createElement("div",null,"Item not found")},Kt=()=>{const[e]=(0,s.ok)(),{sources:t}=p(),n=e.get("ip"),a=e.get("port"),o=t.find((e=>e.vnc_ip===n&&e.vnc_port===Number(a)));return o?r.createElement(w,{source:o,onClose:()=>window.close()}):r.createElement("div",null,"Source not found")},Qt=()=>{const[e]=(0,s.ok)(),t=e.get("ip");return t?r.createElement(N,{ip:t}):r.createElement("div",null,"IP not provided")},Xt=()=>{const{showEqualizerModal:e,selectedItem:t,selectedItemType:n,setShowEqualizerModal:a,setSelectedItem:o,fetchSources:l,fetchSinks:c,fetchRoutes:d}=p();return r.createElement(s.Kd,{basename:"/site"}," ",r.createElement(i.BV,null," ",r.createElement(i.qh,{path:"/desktopmenu",element:r.createElement(we,null)})," ",r.createElement(i.qh,{path:"/",element:r.createElement(Dt,null)})," ",r.createElement(i.qh,{path:"/equalizer",element:r.createElement(Ht,null)})," ",r.createElement(i.qh,{path:"/vnc",element:r.createElement(Kt,null)})," ",r.createElement(i.qh,{path:"/visualizer",element:r.createElement(Qt,null)})," ",r.createElement(i.qh,{path:"/add-source",element:r.createElement(X,null)})," ",r.createElement(i.qh,{path:"/edit-source",element:r.createElement(X,null)})," ",r.createElement(i.qh,{path:"/add-sink",element:r.createElement(Z,null)})," ",r.createElement(i.qh,{path:"/edit-sink",element:r.createElement(Z,null)})," ",r.createElement(i.qh,{path:"/add-route",element:r.createElement(ee,null)})," ",r.createElement(i.qh,{path:"/edit-route",element:r.createElement(ee,null)})," ",r.createElement(i.qh,{path:"/add-group",element:r.createElement(re,null)})," ",r.createElement(i.qh,{path:"/edit-group",element:r.createElement(re,null)})," "),e&&t&&n&&r.createElement(P,{item:t,type:n,onClose:()=>{a(!1),o(null)},onDataChange:()=>{"sources"===n&&l(),"sinks"===n&&c(),"routes"===n&&d()}}),r.createElement("audio",{id:"audio"})," ")},Yt=()=>r.createElement(o.s,{theme:l}," ",r.createElement(b,null," ",r.createElement(Xt,null)," ")),Zt=document.getElementById("root");var en;Zt&&(0,a.H)(Zt).render(r.createElement(r.StrictMode,null,r.createElement(o.s,{theme:l},r.createElement(Yt,null)))),en&&en instanceof Function&&n.e(364).then(n.bind(n,364)).then((e=>{let{getCLS:t,getFID:n,getFCP:r,getLCP:a,getTTFB:o}=e;t(en),n(en),r(en),a(en),o(en)}))},1626:(e,t,n)=>{n.d(t,{A:()=>u});var r=n(1601),a=n.n(r),o=n(6314),l=n.n(o),s=n(4417),i=n.n(s),c=new URL(n(1445),n.b),d=l()(a()),m=i()(c);d.push([e.id,`/* Global styles */\nbody {\n  font-family: 'Roboto', sans-serif; /* Sets the default font for the entire application */\n  line-height: 1.6; /* Sets the line height for better readability */\n  color: #333; /* Sets the default text color */\n  background-color: #f4f4f4; /* Sets the background color of the body */\n  margin: 0; /* Removes default margin from the body */\n  padding: 0; /* Removes default padding from the body */\n}\n\n/* Utility classes */\n.container {\n  max-width: 1200px; /* Limits the maximum width of the container */\n  margin: 0 auto; /* Centers the container horizontally */\n  padding: 0 15px; /* Adds horizontal padding to the container */\n}\n\n/* Buttons */\n.btn {\n  display: inline-block; /* Makes the button an inline block element */\n  background: #3498db; /* Sets the default background color of the button */\n  color: #fff; /* Sets the text color of the button */\n  padding: 0.5rem 1rem; /* Adds padding inside the button */\n  border: none; /* Removes the default border from the button */\n  border-radius: 4px; /* Rounds the corners of the button */\n  cursor: pointer; /* Changes the cursor to a pointer when hovering over the button */\n  font-size: 1rem; /* Sets the font size of the text inside the button */\n  transition: background-color 0.3s ease; /* Adds a smooth transition effect for background color changes */\n}\n\n.btn:hover {\n  background: #2980b9; /* Changes the background color when hovering over the button */\n}\n\n.btn-danger {\n  background: #e74c3c; /* Sets a different background color for danger buttons */\n}\n\n.btn-danger:hover {\n  background: #c0392b; /* Changes the background color of danger buttons on hover */\n}\n\n/* Form elements */\ninput[type="text"],\ninput[type="number"],\nselect {\n  width: 100%; /* Makes form inputs and selects take up full width */\n  padding: 0.5rem; /* Adds padding inside form inputs and selects */\n  margin-bottom: 1rem; /* Adds space below form inputs and selects */\n  border: 1px solid #ddd; /* Adds a light gray border around form inputs and selects */\n  border-radius: 4px; /* Rounds the corners of form inputs and selects */\n}\n\n/* Tables */\ntable {\n  width: 100%; /* Makes tables take up full width */\n  border-collapse: collapse; /* Collapses table borders into a single border */\n  margin-bottom: 1rem; /* Adds space below tables */\n}\n\nth, td {\n  text-align: left; /* Aligns table header and data cells to the left */\n  padding: 0.75rem; /* Adds padding inside table header and data cells */\n  border-bottom: 1px solid #ddd; /* Adds a light gray bottom border to table rows */\n}\n\nth {\n  background-color: #f2f2f2; /* Sets the background color of table headers */\n  font-weight: bold; /* Makes table headers bold */\n}\n\n/* Modal styles */\n.modal-backdrop {\n  position: fixed; /* Positions the modal backdrop as a fixed element */\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5); /* Sets a semi-transparent black background for the modal backdrop */\n  display: flex; /* Uses flexbox to center the modal content */\n  justify-content: center;\n  align-items: center;\n  z-index: 1000; /* Ensures the modal is above other elements */\n}\n\n.modal-content {\n  background-color: #fff; /* Sets a white background for the modal content */\n  padding: 2rem; /* Adds padding inside the modal content */\n  border-radius: 8px; /* Rounds the corners of the modal content */\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); /* Adds a subtle shadow to the modal content */\n  width: auto;\n  max-width: 100%;\n}\n\n/* Responsive design */\n@media (max-width: 768px) {\n  .container {\n    padding: 0 10px; /* Reduces horizontal padding on smaller screens */\n  }\n\n  table {\n    font-size: 0.9rem; /* Reduces the font size of tables on smaller screens */\n  }\n\n  th, td {\n    padding: 0.5rem; /* Reduces padding inside table cells on smaller screens */\n  }\n}\n\n/* Animations */\n@keyframes fadeIn {\n  from {\n    opacity: 0; /* Starts with full transparency */\n  }\n  to {\n    opacity: 1; /* Ends with full opacity */\n  }\n}\n\n.fade-in {\n  animation: fadeIn 0.3s ease-in; /* Applies the fade in animation */\n}\n\n/* Error message */\n.error-message {\n  background-color: #f8d7da; /* Sets a light red background for error messages */\n  color: #721c24; /* Sets the text color of error messages */\n  padding: 0.75rem; /* Adds padding inside error messages */\n  margin-bottom: 1rem; /* Adds space below error messages */\n  border: 1px solid #f5c6cb; /* Adds a red border around error messages */\n  border-radius: 4px; /* Rounds the corners of error messages */\n}\n\n/* Success message */\n.success-message {\n  background-color: #d4edda; /* Sets a light green background for success messages */\n  color: #155724; /* Sets the text color of success messages */\n  padding: 0.75rem; /* Adds padding inside success messages */\n  margin-bottom: 1rem; /* Adds space below success messages */\n  border: 1px solid #c3e6cb; /* Adds a green border around success messages */\n  border-radius: 4px; /* Rounds the corners of success messages */\n}\n\n/* Volume slider */\ninput[type="range"] {\n  -webkit-appearance: none;\n  appearance: none; /* Removes default styling from range inputs */\n  width: 100%; /* Makes range inputs take up full width */\n  height: 8px; /* Sets the height of range inputs */\n  border-radius: 5px; /* Rounds the corners of range inputs */\n  background: #d3d3d3; /* Sets a light gray background for range inputs */\n  outline: none; /* Removes default focus outline from range inputs */\n  opacity: 0.7; /* Sets the initial opacity of range inputs */\n  transition: opacity .2s; /* Adds a smooth transition effect for opacity changes */\n}\n\ninput[type="range"]:hover {\n  opacity: 1; /* Increases opacity on hover */\n}\n\ninput[type="range"]::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  appearance: none; /* Removes default styling from the slider thumb */\n  width: 20px; /* Sets the width of the slider thumb */\n  height: 20px; /* Sets the height of the slider thumb */\n  border-radius: 50%; /* Makes the slider thumb circular */\n  background: #3498db; /* Sets a blue background for the slider thumb */\n  cursor: pointer; /* Changes the cursor to a pointer when hovering over the slider thumb */\n}\n\ninput[type="range"]::-moz-range-thumb {\n  width: 20px; /* Sets the width of the slider thumb in Firefox */\n  height: 20px; /* Sets the height of the slider thumb in Firefox */\n  border-radius: 50%; /* Makes the slider thumb circular in Firefox */\n  background: #3498db; /* Sets a blue background for the slider thumb in Firefox */\n  cursor: pointer; /* Changes the cursor to a pointer when hovering over the slider thumb in Firefox */\n}\n\n/* Visualizer styles */\n.visualizer-container {\n  margin-top: 20px; /* Adds space above the visualizer container */\n  padding: 20px; /* Adds padding inside the visualizer container */\n  background-color: #f0f0f0; /* Sets a light gray background for the visualizer container */\n  border-radius: 8px; /* Rounds the corners of the visualizer container */\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Adds a subtle shadow to the visualizer container */\n}\n\n.visualizer-container h3 {\n  margin-bottom: 10px; /* Adds space below the heading inside the visualizer container */\n  color: #333; /* Sets the text color of headings inside the visualizer container */\n}\n\n.visualizer-container canvas {\n  width: 100%; /* Makes the canvas take up full width */\n  height: auto; /* Maintains aspect ratio for the canvas */\n  border-radius: 4px; /* Rounds the corners of the canvas */\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Adds a subtle shadow to the canvas */\n}\n\n/* Button styles */\nbutton {\n  padding: 8px 16px; /* Adds padding inside buttons */\n  margin: 4px; /* Adds space around buttons */\n  border: none; /* Removes default borders from buttons */\n  border-radius: 4px; /* Rounds the corners of buttons */\n  background-color: #3498db; /* Sets a blue background for buttons */\n  color: white; /* Sets the text color of buttons */\n  cursor: pointer; /* Changes the cursor to a pointer when hovering over buttons */\n  transition: background-color 0.3s ease; /* Adds a smooth transition effect for background color changes */\n}\n\nbutton:hover {\n  background-color: #2980b9; /* Changes the background color on hover */\n}\n\nbutton.delete-button {\n  background-color: #e74c3c; /* Sets a red background for delete buttons */\n}\n\nbutton.delete-button:hover {\n  background-color: #c0392b; /* Changes the background color of delete buttons on hover */\n}\n\nbutton.listening {\n  background-color: #2ecc71; /* Sets a green background for listening buttons */\n}\n\nbutton.listening:hover {\n  background-color: #27ae60; /* Changes the background color of listening buttons on hover */\n}\n\n/* Music-related design elements */\n.music-icon::before {\n  content: '♪'; /* Adds a music note icon before elements with this class */\n  margin-right: 5px; /* Adds space to the right of the music note icon */\n}\n\n/* Subtle green accents */\n.dashboard-item {\n  border-left: 4px solid #2ecc71; /* Adds a left border with a subtle green accent */\n}\n\n.favorite-section h3,\n.active-source-section h3 {\n  color: #27ae60; /* Sets the text color of headings in favorite and active source sections */\n}\n\n/* Improved flow and feel */\n.dashboard-content {\n  display: flex; /* Uses flexbox to arrange dashboard content */\n  flex-wrap: wrap; /* Allows items to wrap onto multiple lines if necessary */\n  gap: 20px; /* Adds space between items in the dashboard content */\n}\n\n.sources-column,\n.sinks-column {\n  flex: 1; /* Makes columns take up equal space */\n  min-width: 300px; /* Sets a minimum width for columns */\n}\n\n/* Waveform background */\n.waveform-background {\n  position: relative; /* Positions the waveform background relatively */\n}\n\n.waveform-background::before {\n  content: ''; /* Creates an empty pseudo-element */\n  position: absolute; /* Positions the pseudo-element absolutely within the waveform background */\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-image: url(${m}); /* Sets a waveform pattern as the background image */\n  background-repeat: repeat-x; /* Repeats the background image horizontally */\n  background-size: 100px 50px; /* Sets the size of the background image */\n  opacity: 0.1; /* Sets the initial opacity of the background image */\n  z-index: -1; /* Ensures the background image is behind other content */\n}\n\n/* Table hover effect */\ntr:hover {\n  background-color: #f5f5f5; /* Changes the background color on hover */\n  transition: background-color 0.3s ease; /* Adds a smooth transition effect for background color changes */\n}\n\n/* Favorite sources background color (light mode) */\n.favorite-sources,\n.favorite-sinks,\n.favorite-routes,\n.active-sources,\n.active-sinks,\n.active-routes {\n  background-color: #e8f4fd; /* Sets a light blue background for favorite and active sections */\n  border: 1px solid #bde0fe; /* Adds a blue border around favorite and active sections */\n  border-radius: 8px; /* Rounds the corners of favorite and active sections */\n  padding: 1rem; /* Adds padding inside favorite and active sections */\n  margin-bottom: 1rem; /* Adds space below favorite and active sections */\n}\n\n/* Now playing/active sink section (light mode) */\n.status-section {\n  background-color: #d4edda; /* Sets a light green background for the status section */\n  border: 1px solid #c3e6cb; /* Adds a green border around the status section */\n  border-radius: 8px; /* Rounds the corners of the status section */\n  padding: 1rem; /* Adds padding inside the status section */\n  margin-bottom: 1rem; /* Adds space below the status section */\n}\n\n.collapsible-section {\n  background-color: #fff; /* Sets a white background for collapsible sections */\n  border: 1px solid #d1d1d1; /* Adds a light gray border around collapsible sections */\n  border-radius: 8px; /* Rounds the corners of collapsible sections */\n  margin-bottom: 1rem; /* Adds space below collapsible sections */\n}\n\n.section-header {\n  background-color: #f8f9fa; /* Sets a light gray background for section headers */\n  padding: 0.5rem 1rem; /* Adds padding inside section headers */\n  border-bottom: 1px solid #d1d1d1; /* Adds a light gray bottom border to section headers */\n  border-radius: 8px 8px 0 0; /* Rounds the top corners of section headers */\n}\n\n.section-content {\n  padding: 1rem; /* Adds padding inside section content */\n}\n\niframe {\n  border: 0px; /* Removes default borders from iframes */\n}\n`,""]);const u=d},6656:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(1601),a=n.n(r),o=n(6314),l=n.n(o)()(a());l.push([e.id,"/**\n * Styles for the redesigned FullMenu component.\n * This file contains all the styles for the FullMenu component and its subcomponents.\n */\n\n/* ===== Main Layout ===== */\n.full-menu {\n  width: 100%;\n  height: 100vh;\n  overflow: hidden;\n  font-family: 'Segoe UI', Arial, sans-serif;\n  display: flex;\n  flex-direction: column;\n  background-color: #f8f9fa;\n  color: #333;\n}\n\n/* ===== Header Bar ===== */\n.header-bar {\n  display: flex;\n  align-items: center;\n  padding: 0.75rem 1.5rem;\n  background-color: #fff;\n  border-bottom: 1px solid #e0e0e0;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n  z-index: 10;\n}\n\n.header-logo {\n  display: flex;\n  align-items: center;\n  font-size: 1.5rem;\n  font-weight: 600;\n  margin-right: 2rem;\n}\n\n.header-logo i {\n  margin-right: 0.5rem;\n  color: #4a6cf7;\n}\n\n.search-bar {\n  flex: 1;\n  max-width: 400px;\n  position: relative;\n  margin-right: 1.5rem;\n}\n\n.search-bar input {\n  width: 100%;\n  padding: 0.5rem 1rem 0.5rem 2.5rem;\n  border: 1px solid #e0e0e0;\n  border-radius: 4px;\n  font-size: 0.9rem;\n  background-color: #f5f5f5;\n  transition: all 0.2s;\n}\n\n.search-bar input:focus {\n  outline: none;\n  border-color: #4a6cf7;\n  background-color: #fff;\n  box-shadow: 0 0 0 3px rgba(74, 108, 247, 0.1);\n}\n\n.search-bar i {\n  position: absolute;\n  left: 0.75rem;\n  top: 50%;\n  transform: translateY(-50%);\n  color: #888;\n}\n\n.global-controls {\n  display: flex;\n  align-items: center;\n  margin-left: auto;\n}\n\n.global-controls button {\n  background: none;\n  border: none;\n  color: #555;\n  font-size: 1.1rem;\n  padding: 0.5rem;\n  margin-left: 0.5rem;\n  cursor: pointer;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n\n.global-controls button:hover {\n  background-color: #f0f0f0;\n  color: #333;\n}\n\n.user-settings {\n  margin-left: 1rem;\n  padding-left: 1rem;\n  border-left: 1px solid #e0e0e0;\n}\n\n/* ===== Main Content Area ===== */\n.main-content {\n  display: flex;\n  flex: 1;\n  overflow: hidden;\n}\n\n/* ===== Navigation Sidebar ===== */\n.navigation-sidebar {\n  width: 250px;\n  background-color: #fff;\n  border-right: 1px solid #e0e0e0;\n  display: flex;\n  flex-direction: column;\n  overflow-y: auto;\n  transition: width 0.3s;\n}\n\n.sidebar-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem;\n  border-bottom: 1px solid #e0e0e0;\n}\n\n.sidebar-header h2 {\n  margin: 0;\n  font-size: 1.2rem;\n  font-weight: 600;\n}\n\n.sidebar-toggle {\n  background: none;\n  border: none;\n  color: #555;\n  font-size: 1.1rem;\n  cursor: pointer;\n  padding: 0.25rem;\n  border-radius: 4px;\n  display: none;\n}\n\n.sidebar-nav {\n  flex: 1;\n  padding: 1rem 0;\n}\n\n.nav-section {\n  margin-bottom: 1.5rem;\n}\n\n.nav-section h3 {\n  padding: 0 1rem;\n  margin: 0 0 0.5rem 0;\n  font-size: 0.8rem;\n  text-transform: uppercase;\n  color: #888;\n  letter-spacing: 0.5px;\n}\n\n.nav-item {\n  display: flex;\n  align-items: center;\n  width: 100%;\n  padding: 0.75rem 1rem;\n  background: none;\n  border: none;\n  text-align: left;\n  font-size: 0.95rem;\n  color: #555;\n  cursor: pointer;\n  transition: all 0.2s;\n  position: relative;\n}\n\n.nav-item i {\n  margin-right: 0.75rem;\n  width: 1.25rem;\n  text-align: center;\n}\n\n.nav-item .nav-label {\n  flex: 1;\n}\n\n.nav-item .nav-badge {\n  background-color: #e0e0e0;\n  color: #555;\n  font-size: 0.75rem;\n  padding: 0.1rem 0.5rem;\n  border-radius: 10px;\n  margin-left: 0.5rem;\n}\n\n.nav-item:hover {\n  background-color: #f5f5f5;\n  color: #333;\n}\n\n.nav-item.active {\n  background-color: #eef2ff;\n  color: #4a6cf7;\n  font-weight: 500;\n}\n\n.nav-item.active::before {\n  content: '';\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  width: 4px;\n  background-color: #4a6cf7;\n}\n\n.sidebar-footer {\n  padding: 1rem;\n  border-top: 1px solid #e0e0e0;\n}\n\n.desktop-menu-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  padding: 0.75rem;\n  background-color: #f5f5f5;\n  border: 1px solid #e0e0e0;\n  border-radius: 4px;\n  color: #555;\n  font-size: 0.9rem;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.desktop-menu-button i {\n  margin-right: 0.5rem;\n}\n\n.desktop-menu-button:hover {\n  background-color: #e8e8e8;\n  color: #333;\n}\n\n/* ===== Content Panel ===== */\n.content-panel {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n.content-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem 1.5rem;\n  border-bottom: 1px solid #e0e0e0;\n  background-color: #fff;\n}\n\n.breadcrumbs {\n  display: flex;\n  align-items: center;\n  font-size: 0.9rem;\n  color: #888;\n}\n\n.breadcrumbs span:last-child {\n  color: #333;\n  font-weight: 500;\n}\n\n.view-controls {\n  display: flex;\n  align-items: center;\n}\n\n.view-button {\n  background: none;\n  border: 1px solid #e0e0e0;\n  color: #555;\n  font-size: 1rem;\n  padding: 0.4rem 0.6rem;\n  margin-left: 0.5rem;\n  cursor: pointer;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n\n.view-button:hover {\n  background-color: #f5f5f5;\n}\n\n.view-button.active {\n  background-color: #eef2ff;\n  color: #4a6cf7;\n  border-color: #4a6cf7;\n}\n\n.sort-control {\n  display: flex;\n  align-items: center;\n  margin-left: 1rem;\n}\n\n.sort-control label {\n  margin-right: 0.5rem;\n  font-size: 0.9rem;\n  color: #666;\n}\n\n.sort-control select {\n  padding: 0.4rem 0.6rem;\n  border: 1px solid #e0e0e0;\n  border-radius: 4px;\n  background-color: #fff;\n  font-size: 0.9rem;\n  color: #333;\n}\n\n.content-body {\n  flex: 1;\n  padding: 1.5rem;\n  overflow-y: auto;\n  background-color: #f8f9fa;\n}\n\n/* ===== Card Grid ===== */\n.card-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n  gap: 1.5rem;\n}\n\n/* ===== Resource Card ===== */\n.resource-card {\n  background-color: #fff;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n  overflow: hidden;\n  transition: all 0.3s;\n  display: flex;\n  flex-direction: column;\n  border: 1px solid #e0e0e0;\n}\n\n.resource-card:hover {\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n  transform: translateY(-2px);\n}\n\n.resource-card.active {\n  border-color: #4a6cf7;\n  box-shadow: 0 0 0 1px #4a6cf7, 0 4px 8px rgba(74, 108, 247, 0.2);\n}\n\n.card-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem;\n  border-bottom: 1px solid #f0f0f0;\n}\n\n.card-title {\n  margin: 0;\n  font-size: 1.1rem;\n  font-weight: 500;\n  color: #333;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.card-actions {\n  display: flex;\n  align-items: center;\n}\n\n.star-button {\n  background: none;\n  border: none;\n  color: #ccc;\n  font-size: 1.1rem;\n  cursor: pointer;\n  padding: 0.25rem;\n  transition: all 0.2s;\n}\n\n.star-button:hover {\n  color: #ffb400;\n}\n\n.star-button.starred {\n  color: #ffb400;\n}\n\n.star-button .filled {\n  color: #ffb400;\n}\n\n.menu-button {\n  background: none;\n  border: none;\n  color: #888;\n  font-size: 1rem;\n  cursor: pointer;\n  padding: 0.25rem;\n  margin-left: 0.5rem;\n  transition: all 0.2s;\n}\n\n.menu-button:hover {\n  color: #333;\n}\n\n.card-body {\n  padding: 1rem;\n  flex: 1;\n}\n\n.status-indicator {\n  margin-bottom: 0.75rem;\n}\n\n.status-badge {\n  display: inline-block;\n  padding: 0.25rem 0.5rem;\n  border-radius: 4px;\n  font-size: 0.8rem;\n  font-weight: 500;\n}\n\n.status-badge.enabled {\n  background-color: #e6f7ee;\n  color: #0d9f4f;\n}\n\n.status-badge.disabled {\n  background-color: #feeaea;\n  color: #e53e3e;\n}\n\n.source-details,\n.sink-details,\n.route-details {\n  font-size: 0.9rem;\n  color: #666;\n}\n\n.detail-item {\n  margin-bottom: 0.5rem;\n  display: flex;\n  align-items: center;\n}\n\n.detail-item i {\n  width: 1.25rem;\n  margin-right: 0.5rem;\n  color: #888;\n}\n\n.card-footer {\n  padding: 1rem;\n  border-top: 1px solid #f0f0f0;\n  background-color: #fafafa;\n}\n\n.control-buttons {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n}\n\n.toggle-button {\n  padding: 0.5rem 0.75rem;\n  border: none;\n  border-radius: 4px;\n  font-size: 0.85rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.toggle-button.enabled {\n  background-color: #e6f7ee;\n  color: #0d9f4f;\n}\n\n.toggle-button.enabled:hover {\n  background-color: #d1f0e0;\n}\n\n.toggle-button.disabled {\n  background-color: #feeaea;\n  color: #e53e3e;\n}\n\n.toggle-button.disabled:hover {\n  background-color: #fcd5d5;\n}\n\n.action-button {\n  padding: 0.5rem 0.75rem;\n  border: none;\n  border-radius: 4px;\n  font-size: 0.85rem;\n  background-color: #f0f0f0;\n  color: #555;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.action-button:hover {\n  background-color: #e0e0e0;\n  color: #333;\n}\n\n.action-button.vnc {\n  background-color: #eef2ff;\n  color: #4a6cf7;\n}\n\n.action-button.vnc:hover {\n  background-color: #dce4ff;\n}\n\n.action-button.equalizer {\n  background-color: #fff0e0;\n  color: #f59e0b;\n}\n\n.action-button.equalizer:hover {\n  background-color: #ffe8cc;\n}\n\n/* ===== Resource List ===== */\n.resource-list {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n\n.resource-list-item {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0.75rem 1rem;\n  background-color: #fff;\n  border-radius: 8px;\n  border: 1px solid #e0e0e0;\n  transition: all 0.3s;\n}\n\n.resource-list-item:hover {\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n}\n\n.item-main {\n  display: flex;\n  align-items: center;\n  flex: 1;\n  min-width: 0; /* Ensures text truncation works */\n}\n\n.item-status {\n  display: flex;\n  align-items: center;\n  margin-right: 1rem;\n}\n\n.item-name {\n  margin-right: 1.5rem;\n  min-width: 150px;\n}\n\n.item-name h3 {\n  margin: 0;\n  font-size: 1rem;\n  font-weight: 500;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.item-details {\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n  gap: 1rem;\n  font-size: 0.85rem;\n  color: #666;\n  flex: 1;\n  min-width: 0;\n}\n\n.detail {\n  display: flex;\n  align-items: center;\n}\n\n.detail i {\n  margin-right: 0.5rem;\n  color: #888;\n}\n\n.item-actions {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin-left: 1rem;\n}\n\n/* ===== Status Card ===== */\n.status-card {\n  background-color: #fff;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n  padding: 1.25rem;\n  transition: all 0.3s;\n  border: 1px solid #e0e0e0;\n}\n\n.status-card.clickable {\n  cursor: pointer;\n}\n\n.status-card.clickable:hover {\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n  transform: translateY(-2px);\n}\n\n.status-card .card-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0;\n  margin-bottom: 1rem;\n  border-bottom: none;\n}\n\n.status-card .card-title {\n  display: flex;\n  align-items: center;\n}\n\n.status-card .card-title i {\n  margin-right: 0.75rem;\n  font-size: 1.25rem;\n  color: #4a6cf7;\n}\n\n.status-card .card-title h3 {\n  margin: 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n}\n\n.status-card .status-indicator {\n  font-size: 0.85rem;\n  font-weight: 500;\n  padding: 0.25rem 0.75rem;\n  border-radius: 12px;\n  margin-bottom: 0;\n}\n\n.status-card .status-indicator.positive {\n  background-color: #e6f7ee;\n  color: #0d9f4f;\n}\n\n.status-card .status-indicator.negative {\n  background-color: #feeaea;\n  color: #e53e3e;\n}\n\n.status-card .card-subtitle {\n  font-size: 0.9rem;\n  color: #666;\n  margin-bottom: 1rem;\n}\n\n.status-card .card-content {\n  margin-top: 1rem;\n}\n\n/* ===== Dashboard Layout ===== */\n.dashboard-grid {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 1.5rem;\n  margin-bottom: 2rem;\n}\n\n.dashboard-section {\n  margin-bottom: 2rem;\n}\n\n.dashboard-section-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 1rem;\n}\n\n.dashboard-section-title {\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: #333;\n  display: flex;\n  align-items: center;\n}\n\n.dashboard-section-title i {\n  margin-right: 0.5rem;\n  color: #4a6cf7;\n}\n\n.dashboard-section-actions {\n  display: flex;\n  align-items: center;\n}\n\n.dashboard-section-actions button {\n  background: none;\n  border: none;\n  color: #888;\n  font-size: 0.9rem;\n  cursor: pointer;\n  padding: 0.25rem 0.5rem;\n  transition: all 0.2s;\n}\n\n.dashboard-section-actions button:hover {\n  color: #333;\n}\n\n/* ===== Error Message ===== */\n.error-message {\n  background-color: #feeaea;\n  color: #e53e3e;\n  padding: 0.75rem 1rem;\n  border-radius: 4px;\n  margin-bottom: 1rem;\n  font-size: 0.9rem;\n}\n\n/* ===== Dark Mode ===== */\n.full-menu.dark-mode {\n  background-color: #1a1a1a;\n  color: #e0e0e0;\n}\n\n.dark-mode .header-bar {\n  background-color: #252525;\n  border-color: #333;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n}\n\n.dark-mode .header-logo {\n  color: #f0f0f0;\n}\n\n.dark-mode .search-bar input {\n  background-color: #333;\n  border-color: #444;\n  color: #e0e0e0;\n}\n\n.dark-mode .search-bar input:focus {\n  border-color: #4a6cf7;\n  background-color: #3a3a3a;\n}\n\n.dark-mode .search-bar i {\n  color: #888;\n}\n\n.dark-mode .global-controls button {\n  color: #aaa;\n}\n\n.dark-mode .global-controls button:hover {\n  background-color: #333;\n  color: #f0f0f0;\n}\n\n.dark-mode .user-settings {\n  border-color: #444;\n}\n\n.dark-mode .navigation-sidebar {\n  background-color: #252525;\n  border-color: #333;\n}\n\n.dark-mode .sidebar-header {\n  border-color: #333;\n}\n\n.dark-mode .sidebar-header h2 {\n  color: #f0f0f0;\n}\n\n.dark-mode .sidebar-toggle {\n  color: #aaa;\n}\n\n.dark-mode .nav-section h3 {\n  color: #888;\n}\n\n.dark-mode .nav-item {\n  color: #aaa;\n}\n\n.dark-mode .nav-item:hover {\n  background-color: #333;\n  color: #f0f0f0;\n}\n\n.dark-mode .nav-item.active {\n  background-color: #2d3748;\n  color: #4a6cf7;\n}\n\n.dark-mode .nav-item .nav-badge {\n  background-color: #444;\n  color: #aaa;\n}\n\n.dark-mode .sidebar-footer {\n  border-color: #333;\n}\n\n.dark-mode .desktop-menu-button {\n  background-color: #333;\n  border-color: #444;\n  color: #aaa;\n}\n\n.dark-mode .desktop-menu-button:hover {\n  background-color: #3a3a3a;\n  color: #f0f0f0;\n}\n\n.dark-mode .content-header {\n  background-color: #252525;\n  border-color: #333;\n}\n\n.dark-mode .breadcrumbs {\n  color: #888;\n}\n\n.dark-mode .breadcrumbs span:last-child {\n  color: #e0e0e0;\n}\n\n.dark-mode .view-button {\n  border-color: #444;\n  color: #aaa;\n}\n\n.dark-mode .view-button:hover {\n  background-color: #333;\n}\n\n.dark-mode .view-button.active {\n  background-color: #2d3748;\n  color: #4a6cf7;\n  border-color: #4a6cf7;\n}\n\n.dark-mode .sort-control label {\n  color: #aaa;\n}\n\n.dark-mode .sort-control select {\n  background-color: #333;\n  border-color: #444;\n  color: #e0e0e0;\n}\n\n.dark-mode .content-body {\n  background-color: #1a1a1a;\n}\n\n.dark-mode .resource-card {\n  background-color: #252525;\n  border-color: #333;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n}\n\n.dark-mode .resource-card:hover {\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);\n}\n\n.dark-mode .card-header {\n  border-color: #333;\n}\n\n.dark-mode .card-title {\n  color: #e0e0e0;\n}\n\n.dark-mode .menu-button {\n  color: #888;\n}\n\n.dark-mode .menu-button:hover {\n  color: #e0e0e0;\n}\n\n.dark-mode .card-body {\n  color: #aaa;\n}\n\n.dark-mode .source-details,\n.dark-mode .sink-details,\n.dark-mode .route-details {\n  color: #aaa;\n}\n\n.dark-mode .detail-item i {\n  color: #888;\n}\n\n.dark-mode .card-footer {\n  border-color: #333;\n  background-color: #2a2a2a;\n}\n\n.dark-mode .action-button {\n  background-color: #333;\n  color: #aaa;\n}\n\n.dark-mode .action-button:hover {\n  background-color: #3a3a3a;\n  color: #e0e0e0;\n}\n\n.dark-mode .action-button.vnc {\n  background-color: #2d3748;\n  color: #4a6cf7;\n}\n\n.dark-mode .action-button.vnc:hover {\n  background-color: #364154;\n}\n\n.dark-mode .action-button.equalizer {\n  background-color: #3d3427;\n  color: #f59e0b;\n}\n\n.dark-mode .action-button.equalizer:hover {\n  background-color: #483c2d;\n}\n\n.dark-mode .resource-list-item {\n  background-color: #252525;\n  border-color: #333;\n}\n\n.dark-mode .resource-list-item:hover {\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n}\n\n.dark-mode .item-name h3 {\n  color: #e0e0e0;\n}\n\n.dark-mode .item-details {\n  color: #aaa;\n}\n\n.dark-mode .status-card {\n  background-color: #252525;\n  border-color: #333;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n}\n\n.dark-mode .status-card.clickable:hover {\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);\n}\n\n.dark-mode .status-card .card-title h3 {\n  color: #e0e0e0;\n}\n\n.dark-mode .status-card .card-subtitle {\n  color: #aaa;\n}\n\n.dark-mode .dashboard-section-title {\n  color: #e0e0e0;\n}\n\n.dark-mode .dashboard-section-actions button {\n  color: #888;\n}\n\n.dark-mode .dashboard-section-actions button:hover {\n  color: #e0e0e0;\n}\n\n.dark-mode .error-message {\n  background-color: #3d2a2a;\n  color: #f56565;\n}\n\n/* ===== Responsive Design ===== */\n@media (max-width: 1200px) {\n  .dashboard-grid {\n    grid-template-columns: repeat(2, 1fr);\n  }\n}\n\n@media (max-width: 992px) {\n  .navigation-sidebar {\n    width: 220px;\n  }\n  \n  .card-grid {\n    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n  }\n}\n\n@media (max-width: 768px) {\n  .header-bar {\n    padding: 0.5rem 1rem;\n  }\n  \n  .search-bar {\n    max-width: 200px;\n  }\n  \n  .navigation-sidebar {\n    position: fixed;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 100;\n    width: 250px;\n    transform: translateX(-100%);\n    transition: transform 0.3s;\n  }\n  \n  .navigation-sidebar.open {\n    transform: translateX(0);\n  }\n  \n  .sidebar-toggle {\n    display: block;\n  }\n  \n  .sidebar-overlay {\n    display: none;\n    position: fixed;\n    left: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    background-color: rgba(0, 0, 0, 0.5);\n    z-index: 99;\n  }\n  \n  .sidebar-overlay.visible {\n    display: block;\n  }\n  \n  .dashboard-grid {\n    grid-template-columns: 1fr;\n  }\n  \n  .card-grid {\n    grid-template-columns: 1fr;\n  }\n  \n  .item-details {\n    display: none;\n  }\n  \n  .resource-list-item {\n    flex-direction: column;\n    align-items: flex-start;\n  }\n  \n  .item-main {\n    width: 100%;\n    margin-bottom: 0.75rem;\n  }\n  \n  .item-actions {\n    width: 100%;\n    margin-left: 0;\n    justify-content: flex-end;\n  }\n}\n\n@media (max-width: 576px) {\n  .header-logo {\n    font-size: 1.2rem;\n  }\n  \n  .search-bar {\n    display: none;\n  }\n  \n  .content-header {\n    flex-direction: column;\n    align-items: flex-start;\n  }\n  \n  .breadcrumbs {\n    margin-bottom: 0.75rem;\n  }\n  \n  .view-controls {\n    width: 100%;\n    justify-content: space-between;\n  }\n  \n  .sort-control {\n    margin-left: 0;\n    margin-top: 0.5rem;\n  }\n  \n  .content-body {\n    padding: 1rem;\n  }\n}",""]);const s=l},2343:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(1601),a=n.n(r),o=n(6314),l=n.n(o)()(a());l.push([e.id,'/**\n * Dark mode styles for the application.\n */\n\n/**\n * Styles for the body element in dark mode, setting a dark background and light text color.\n */\nbody.dark-mode {\n  background-color: #1a1a1a;\n  color: #f0f0f0;\n}\n\n/**\n * Styles for the layout container in dark mode, maintaining a consistent dark background.\n */\n.dark-mode .layout {\n  background-color: #1a1a1a;\n}\n\n/**\n * Styles for the header element in dark mode, using a darker shade of blue and light text color.\n */\n.dark-mode header {\n  background-color: #2c3e50;\n}\n\n/**\n * Hover styles for navigation links in dark mode, changing background to a lighter blue and text to green.\n */\n.dark-mode nav ul li a:hover {\n  background-color: #34495e;\n  color: #2ecc71;\n}\n\n/**\n * Styles for the main content pseudo-element in dark mode, adding a subtle overlay effect.\n */\n.dark-mode main::before {\n  opacity: 0.02;\n}\n\n/**\n * Styles for the footer element in dark mode, using a darker shade of blue and light text color.\n */\n.dark-mode footer {\n  background-color: #2c3e50;\n}\n\n/**\n * Adjust colors for better contrast in status sections, using a darker background with lighter borders and text.\n */\n.dark-mode .status-section {\n  background-color: #14293e;\n  border: 1px solid #2c3e50;\n  border-radius: 8px;\n  padding: 1rem;\n  margin-bottom: 1rem;\n}\n\n/**\n * Styles for collapsible sections in dark mode, using a darker shade of blue and light text color.\n */\n.dark-mode .collapsible-section {\n  background-color: #2c3e50;\n  border: 1px solid #34495e;\n  border-radius: 8px;\n  margin-bottom: 1rem;\n}\n\n/**\n * Styles for section headers in dark mode, using a lighter shade of blue and light text color.\n */\n.dark-mode .section-header {\n  background-color: #34495e;\n  padding: 0.5rem 1rem;\n  border-bottom: 1px solid #4a4a4a;\n  border-radius: 8px 8px 0 0;\n}\n\n/**\n * Styles for section content in dark mode, maintaining a consistent background color and light text.\n */\n.dark-mode .section-content {\n  background-color: #2c3e50;\n  padding: 1rem;\n}\n\n/**\n * Styles for section header titles in dark mode, using green text for emphasis.\n */\n.dark-mode .section-header h3 {\n  color: #2ecc71;\n}\n\n/**\n * Styles for section subtitles in dark mode, using a lighter gray text color.\n */\n.dark-mode .section-subtitle {\n  color: #bdc3c7;\n}\n\n/**\n * Styles for expand toggle buttons in dark mode, using blue text for visibility.\n */\n.dark-mode .expand-toggle {\n  color: #3498db;\n}\n\n/**\n * Styles for paragraphs in active source and now playing sections in dark mode, ensuring light text color.\n */\n.dark-mode .active-source-section p,\n.dark-mode .now-playing-section p {\n  color: #ecf0f1;\n}\n\n/**\n * Styles for buttons in dark mode, using blue background with white text for contrast.\n */\n.dark-mode button {\n  background-color: #3498db;\n  color: #f0f0f0;\n}\n\n/**\n * Styles for disabled buttons in dark mode, changing background to a darker orange and maintaining white text.\n */\n.dark-mode button.disabled {\n    background-color: #9b5814;\n    color: #f0f0f0;\n}\n\n/**\n * Styles for enabled buttons in dark mode, using green background with white text for emphasis.\n */\n.dark-mode button.enabled {\n    background-color: #149b58;\n    color: #f0f0f0;\n}\n\n/**\n * Hover styles for buttons in dark mode, changing background to a darker blue.\n */\n.dark-mode button:hover {\n  background-color: #2980b9;\n}\n\n/**\n * Styles for text inputs, number inputs, and select elements in dark mode, using a darker shade of blue with light text and borders.\n */\n.dark-mode input[type="text"],\n.dark-mode input[type="number"],\n.dark-mode select {\n  background-color: #2c3e50;\n  color: #f0f0f0;\n  border: 1px solid #4a4a4a;\n}\n\n/**\n * Styles for tables in dark mode, ensuring light text color.\n */\n.dark-mode table {\n  color: #f0f0f0;\n}\n\n/**\n * Styles for table headers in dark mode, using a darker shade of blue and light text color.\n */\n.dark-mode th {\n  background-color: #2c3e50;\n  color: #f0f0f0;\n}\n\n/**\n * Styles for table data cells in dark mode, adding a subtle border between rows.\n */\n.dark-mode td {\n  border-bottom: 1px solid #4a4a4a;\n}\n\n/**\n * Hover styles for table rows in dark mode, changing background to a lighter blue on hover.\n */\n.dark-mode tr:hover {\n  background-color: #34495e;\n}\n\n/**\n * Styles for cards in dark mode, using a darker shade of blue and light text color.\n */\n.dark-mode .card {\n  background-color: #2c3e50;\n}\n\n/**\n * Styles for headings in dark mode, using green text for emphasis.\n */\n.dark-mode h2,\n.dark-mode h3,\n.dark-mode h4 {\n  color: #2ecc71;\n}\n\n/**\n * Specific styles for level 2 headings in dark mode, adding a bottom border for separation.\n */\n.dark-mode h2 {\n  border-bottom: 2px solid #2ecc71;\n}\n\n/**\n * Styles for the dark mode toggle button, using blue background with white text and rounded corners.\n */\n.dark-mode-toggle {\n  background-color: #3498db;\n  color: #f0f0f0;\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n  position: absolute;\n  top: 1rem;\n  right: 1rem;\n}\n\n/**\n * Hover styles for the dark mode toggle button, changing background to a darker blue.\n */\n.dark-mode-toggle:hover {\n  background-color: #2980b9;\n}\n\n/**\n * Styles for the dark mode toggle button when in dark mode, using white background with dark text.\n */\n.dark-mode .dark-mode-toggle {\n  background-color: #f0f0f0;\n  color: #333;\n}\n\n/**\n * Hover styles for the dark mode toggle button when in dark mode, changing background to a lighter gray.\n */\n.dark-mode .dark-mode-toggle:hover {\n  background-color: #e0e0e0;\n}\n\n/**\n * Styles for favorite sections on the dashboard in dark mode, using consistent colors and borders.\n */\n.dark-mode .favorite-sources,\n.dark-mode .favorite-sinks,\n.dark-mode .favorite-routes,\n.dark-mode .active-sources,\n.dark-mode .active-sinks,\n.dark-mode .active-routes {\n  background-color: #2c3e50;\n  border: 1px solid #34495e;\n  border-radius: 8px;\n  padding: 1rem;\n  margin-bottom: 1rem;\n}\n\n/**\n * Styles for headings in favorite sections on the dashboard in dark mode, using green text for emphasis.\n */\n.dark-mode .favorite-sources h3,\n.dark-mode .favorite-sinks h3,\n.dark-mode .favorite-routes h3,\n.dark-mode .active-sources h3,\n.dark-mode .active-sinks h3,\n.dark-mode .active-routes h3 {\n  color: #2ecc71;\n}\n\n/**\n * Styles for the layout header in dark mode, using green text for headings.\n */\n.dark-mode .layout-header h1 {\n  color: #2ecc71;\n}\n\n/**\n * Styles for navigation links in the layout header in dark mode, ensuring light text color.\n */\n.dark-mode .layout-header nav ul li a {\n  color: #f0f0f0;\n}\n\n/**\n * Hover styles for navigation links in the layout header in dark mode, changing background to a lighter blue and text to green.\n */\n.dark-mode .layout-header nav ul li a:hover {\n  background-color: #34495e;\n  color: #2ecc71;\n}\n\n/**\n * Styles for subtext elements in dark mode, using a lighter gray text color.\n */\n.dark-mode .subtext {\n  color: #bdc3c7;\n}\n\n/**\n * Styles for control bar buttons in dark mode, using blue background with white text and rounded corners.\n */\n.dark-mode .control-bar button {\n  background-color: #3498db;\n  color: #f0f0f0;\n}\n\n/**\n * Hover styles for control bar buttons in dark mode, changing background to a darker blue.\n */\n.dark-mode .control-bar button:hover {\n  background-color: #2980b9;\n}\n\n/**\n * Styles for volume sliders in dark mode, using a lighter shade of blue and rounded corners.\n */\n.dark-mode .volume-slider {\n  background-color: #34495e;\n}\n\n/**\n * Styles for the thumb of volume sliders in dark mode (WebKit), using green color for visibility.\n */\n.dark-mode .volume-slider::-webkit-slider-thumb {\n  background-color: #2ecc71;\n}\n\n/**\n * Styles for the thumb of volume sliders in dark mode (Mozilla), using green color for visibility.\n */\n.dark-mode .volume-slider::-moz-range-thumb {\n  background-color: #2ecc71;\n}\n\n/**\n * Styles for not playing text elements in dark mode, using a lighter gray text color.\n */\n.dark-mode .not-playing {\n  color: #bdc3c7;\n}\n\n/**\n * Styles for active buttons and button-like elements in dark mode, using blue background with darker text.\n */\n.dark-mode .btn.active,\n.dark-mode button.active {\n  background-color: #008CBA;\n  color: #2c3e50;\n}\n\n/**\n * Hover styles for active buttons and button-like elements in dark mode, changing background to a lighter green.\n */\n.dark-mode .btn.active:hover,\n.dark-mode button.active:hover {\n  background-color: #27ae60;\n}\n\n/**\n * Styles for links in dark mode, using a light blue color with smooth transition effects.\n */\n.dark-mode a {\n  color: #b4d8fb;\n}\n\n/**\n * Hover styles for links in dark mode, changing text to green on hover.\n */\n.dark-mode a:hover {\n  color: #2ecc71;\n}\n\n/**\n * Styles for modal content in dark mode, using a darker shade of blue and light text color.\n */\n.dark-mode .modal-content {\n  background-color: #34495e;   \n}\n\n/**\n * Styles for expand and collapse routes buttons in dark mode, ensuring they inherit styles without additional modifications.\n */\n.dark-mode button.expand-routes, \n.dark-mode button.collapse-routes {\n  background-color: inherit !important;\n}\n',""]);const s=l},1445:e=>{e.exports='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><path d="M0 50 Q 25 30, 50 50 T 100 50" fill="none" stroke="%232ecc71" stroke-width="2" opacity="0.1"/></svg>'}},l={};function s(e){var t=l[e];if(void 0!==t)return t.exports;var n=l[e]={id:e,loaded:!1,exports:{}};return o[e].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=o,e=[],s.O=(t,n,r,a)=>{if(!n){var o=1/0;for(d=0;d<e.length;d++){n=e[d][0],r=e[d][1],a=e[d][2];for(var l=!0,i=0;i<n.length;i++)(!1&a||o>=a)&&Object.keys(s.O).every((e=>s.O[e](n[i])))?n.splice(i--,1):(l=!1,a<o&&(o=a));if(l){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[n,r,a]},s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,s.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var a=Object.create(null);s.r(a);var o={};t=t||[null,n({}),n([]),n(n)];for(var l=2&r&&e;"object"==typeof l&&!~t.indexOf(l);l=n(l))Object.getOwnPropertyNames(l).forEach((t=>o[t]=()=>e[t]));return o.default=()=>e,s.d(a,o),a},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,n)=>(s.f[n](e,t),t)),[])),s.u=e=>e+".07f898e2066bda2556a1.js",s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},a="screamrouter-react:",s.l=(e,t,n,o)=>{if(r[e])r[e].push(t);else{var l,i;if(void 0!==n)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var m=c[d];if(m.getAttribute("src")==e||m.getAttribute("data-webpack")==a+n){l=m;break}}l||(i=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.setAttribute("data-webpack",a+n),l.src=e),r[e]=[t];var u=(t,n)=>{l.onerror=l.onload=null,clearTimeout(g);var a=r[e];if(delete r[e],l.parentNode&&l.parentNode.removeChild(l),a&&a.forEach((e=>e(n))),t)return t(n)},g=setTimeout(u.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=u.bind(null,l.onerror),l.onload=u.bind(null,l.onload),i&&document.head.appendChild(l)}},s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),s.p="/site/",(()=>{s.b=document.baseURI||self.location.href;var e={792:0};s.f.j=(t,n)=>{var r=s.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var a=new Promise(((n,a)=>r=e[t]=[n,a]));n.push(r[2]=a);var o=s.p+s.u(t),l=new Error;s.l(o,(n=>{if(s.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var a=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;l.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",l.name="ChunkLoadError",l.type=a,l.request=o,r[1](l)}}),"chunk-"+t,t)}},s.O.j=t=>0===e[t];var t=(t,n)=>{var r,a,o=n[0],l=n[1],i=n[2],c=0;if(o.some((t=>0!==e[t]))){for(r in l)s.o(l,r)&&(s.m[r]=l[r]);if(i)var d=i(s)}for(t&&t(n);c<o.length;c++)a=o[c],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(d)},n=self.webpackChunkscreamrouter_react=self.webpackChunkscreamrouter_react||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),s.nc=void 0;var i=s.O(void 0,[940],(()=>s(7282)));i=s.O(i)})();