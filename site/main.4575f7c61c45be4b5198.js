(()=>{"use strict";var e,n,t,a,r,o={704:(e,n,t)=>{var a=t(540),r=t(338),o=t(72),l=t.n(o),s=t(825),i=t.n(s),c=t(659),u=t.n(c),m=t(56),d=t.n(m),g=t(159),p=t.n(g),b=t(113),h=t.n(b),E=t(208),v={};v.styleTagTransform=h(),v.setAttributes=d(),v.insert=u().bind(null,"head"),v.domAPI=i(),v.insertStyleElement=p(),l()(E.A,v),E.A&&E.A.locals&&E.A.locals;var f=t(976),S=t(767),k=t(83);const y={SHELL:"/bin/bash",npm_command:"run-script",npm_config_userconfig:"/root/.npmrc",COLORTERM:"truecolor",npm_config_cache:"/root/.npm",HISTCONTROL:"ignoredups",TERM_PROGRAM_VERSION:"1.93.1",HOSTNAME:"screamrouter.netham45.org",HISTSIZE:"1000",NODE:"/usr/bin/node",COLOR:"1",npm_config_local_prefix:"/root/screamrouter/screamrouter-react",npm_config_globalconfig:"/etc/npmrc",EDITOR:"vi",PWD:"/root/screamrouter/screamrouter-react",LOGNAME:"root",XDG_SESSION_TYPE:"tty",npm_config_init_module:"/root/.npm-init.js",_:"/root/screamrouter/screamrouter-react/node_modules/.bin/webpack",VSCODE_GIT_ASKPASS_NODE:"/root/.vscode-server/cli/servers/Stable-38c31bc77e0dd6ae88a4e9cc93428cc27a56ba40/server/node",MOTD_SHOWN:"pam",HOME:"/root",LANG:"C.UTF-8",LS_COLORS:"rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=01;37;41:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=01;36:*.au=01;36:*.flac=01;36:*.m4a=01;36:*.mid=01;36:*.midi=01;36:*.mka=01;36:*.mp3=01;36:*.mpc=01;36:*.ogg=01;36:*.ra=01;36:*.wav=01;36:*.oga=01;36:*.opus=01;36:*.spx=01;36:*.xspf=01;36:",npm_package_version:"0.1.0",SSL_CERT_DIR:"/etc/pki/tls/certs",GIT_ASKPASS:"/root/.vscode-server/cli/servers/Stable-38c31bc77e0dd6ae88a4e9cc93428cc27a56ba40/server/extensions/git/dist/askpass.sh",SSH_CONNECTION:"192.168.3.153 65144 192.168.3.114 22",INIT_CWD:"/root/screamrouter/screamrouter-react",npm_lifecycle_script:"webpack --mode production",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",XDG_SESSION_CLASS:"user",SELINUX_ROLE_REQUESTED:"",TERM:"xterm-256color",npm_package_name:"screamrouter-react",npm_config_prefix:"/usr/local",LESSOPEN:"||/usr/bin/lesspipe.sh %s",USER:"root",VSCODE_GIT_IPC_HANDLE:"/run/user/0/vscode-git-48563dd1fd.sock",SELINUX_USE_CURRENT_RANGE:"",npm_lifecycle_event:"build",SHLVL:"3",XDG_SESSION_ID:"13",npm_config_user_agent:"npm/8.19.4 node/v16.20.2 linux x64 workspaces/false",npm_execpath:"/usr/lib/node_modules/npm/bin/npm-cli.js",XDG_RUNTIME_DIR:"/run/user/0",SSL_CERT_FILE:"/etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem",SSH_CLIENT:"192.168.3.153 65144 22",DEBUGINFOD_URLS:"https://debuginfod.centos.org/ ",npm_package_json:"/root/screamrouter/screamrouter-react/package.json",which_declare:"declare -f",KDEDIRS:"/usr",VSCODE_GIT_ASKPASS_MAIN:"/root/.vscode-server/cli/servers/Stable-38c31bc77e0dd6ae88a4e9cc93428cc27a56ba40/server/extensions/git/dist/askpass-main.js",npm_config_noproxy:"",BROWSER:"/root/.vscode-server/cli/servers/Stable-38c31bc77e0dd6ae88a4e9cc93428cc27a56ba40/server/bin/helpers/browser.sh",PATH:"/root/screamrouter/screamrouter-react/node_modules/.bin:/root/screamrouter/node_modules/.bin:/root/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/root/.vscode-server/cli/servers/Stable-38c31bc77e0dd6ae88a4e9cc93428cc27a56ba40/server/bin/remote-cli:/root/.local/bin:/root/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin",npm_config_metrics_registry:"https://registry.npmjs.org/",SELINUX_LEVEL_REQUESTED:"",npm_config_node_gyp:"/usr/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",DBUS_SESSION_BUS_ADDRESS:"unix:path=/run/user/0/bus",npm_config_python:"/usr/bin/python3",npm_config_global_prefix:"/usr/local",MAIL:"/var/spool/mail/root",npm_node_execpath:"/usr/bin/node",OLDPWD:"/root/screamrouter/screamrouter-react/src",TERM_PROGRAM:"vscode",VSCODE_IPC_HOOK_CLI:"/run/user/0/vscode-ipc-d943f46b-f197-414b-a84a-137ae8b28f2c.sock","BASH_FUNC_which%%":"() {  ( alias;\n eval ${which_declare} ) | /usr/bin/which --tty-only --read-alias --read-functions --show-tilde --show-dot $@\n}"}.REACT_APP_API_URL||"/",x={getSources:()=>k.A.get(`${y}sources`),getSinks:()=>k.A.get(`${y}sinks`),getRoutes:()=>k.A.get(`${y}routes`),addSource:e=>k.A.post(`${y}sources`,e),addSink:e=>k.A.post(`${y}sinks`,e),addRoute:e=>k.A.post(`${y}routes`,e),updateSource:(e,n)=>k.A.put(`${y}sources/${e}`,n),updateSink:(e,n)=>k.A.put(`${y}sinks/${e}`,n),updateRoute:(e,n)=>k.A.put(`${y}routes/${e}`,n),deleteSource:e=>k.A.delete(`${y}sources/${e}`),deleteSink:e=>k.A.delete(`${y}sinks/${e}`),deleteRoute:e=>k.A.delete(`${y}routes/${e}`),enableSource:e=>k.A.get(`${y}sources/${e}/enable`),disableSource:e=>k.A.get(`${y}sources/${e}/disable`),enableSink:e=>k.A.get(`${y}sinks/${e}/enable`),disableSink:e=>k.A.get(`${y}sinks/${e}/disable`),enableRoute:e=>k.A.get(`${y}routes/${e}/enable`),disableRoute:e=>k.A.get(`${y}routes/${e}/disable`),updateSourceVolume:(e,n)=>k.A.get(`${y}sources/${e}/volume/${n}`),updateSinkVolume:(e,n)=>k.A.get(`${y}sinks/${e}/volume/${n}`),updateRouteVolume:(e,n)=>k.A.get(`${y}routes/${e}/volume/${n}`),updateSourceDelay:(e,n)=>k.A.get(`${y}sources/${e}/delay/${n}`),updateSinkDelay:(e,n)=>k.A.get(`${y}sinks/${e}/delay/${n}`),updateRouteDelay:(e,n)=>k.A.get(`${y}routes/${e}/delay/${n}`),updateSourceEqualizer:(e,n)=>k.A.post(`${y}sources/${e}/equalizer`,n),updateSinkEqualizer:(e,n)=>k.A.post(`${y}sinks/${e}/equalizer`,n),updateRouteEqualizer:(e,n)=>k.A.post(`${y}routes/${e}/equalizer`,n),reorderSource:(e,n)=>k.A.get(`${y}sources/${e}/reorder/${n}`),reorderSink:(e,n)=>k.A.get(`${y}sinks/${e}/reorder/${n}`),reorderRoute:(e,n)=>k.A.get(`${y}routes/${e}/reorder/${n}`),getSinkStreamUrl:e=>`${y}stream/${e}/?random=${Math.random()}`,getVncUrl:e=>`${y}site/vnc/${e}`},w=(0,a.createContext)(void 0),N=e=>{let{children:n}=e;const[t,r]=(0,a.useState)(null),[o,l]=(0,a.useState)(null),[s,i]=(0,a.useState)(null),c=(0,a.useRef)(null);return(0,a.useEffect)((()=>{const e=localStorage.getItem("activeSource");e&&r(e),c.current=document.getElementById("audio")}),[]),a.createElement(w.Provider,{value:{activeSource:t,listeningToSink:o,visualizingSink:s,onToggleActiveSource:e=>{const n=t===e?null:e;r(n),localStorage.setItem("activeSource",n||"")},onListenToSink:e=>{e?(l(e),c.current&&(c.current.src=x.getSinkStreamUrl(e.ip),c.current.play())):(l(null),c.current&&(c.current.pause(),c.current.src=""))},onVisualizeSink:e=>{i(e),e?window.startVisualizer(e.ip):window.stopVisualizer()}}},n)},C=()=>{const e=(0,a.useContext)(w);if(void 0===e)throw new Error("useAppContext must be used within an AppProvider");return e};var A=t(272),z={};z.styleTagTransform=h(),z.setAttributes=d(),z.insert=u().bind(null,"head"),z.domAPI=i(),z.insertStyleElement=p(),l()(A.A,z),A.A&&A.A.locals&&A.A.locals;const R=e=>{let{children:n}=e;const{activeSource:t,listeningToSink:r}=C();return a.createElement("div",{className:"layout"},a.createElement("header",{className:"layout-header"},a.createElement("h1",null,"ScreamRouter"),a.createElement("nav",null,a.createElement("ul",null,a.createElement("li",null,a.createElement(f.N_,{to:"/"},"Dashboard")),a.createElement("li",null,a.createElement(f.N_,{to:"/sources"},"Sources")),a.createElement("li",null,a.createElement(f.N_,{to:"/sinks"},"Sinks")),a.createElement("li",null,a.createElement(f.N_,{to:"/routes"},"Routes")),a.createElement("li",null,a.createElement("a",{href:"https://github.com/netham45/screamrouter/tree/master/Readme",target:"_blank",rel:"noopener noreferrer"},"Docs")),a.createElement("li",null,a.createElement("a",{href:"https://github.com/netham45/screamrouter",target:"_blank",rel:"noopener noreferrer"},"GitHub"))))),a.createElement("div",{className:"status-section"},a.createElement("div",{className:"active-source"},a.createElement("h3",null,"Active Source"),a.createElement("p",null,t||"No active source")),a.createElement("div",{className:"now-playing"},a.createElement("h3",null,"Now Playing"),a.createElement("p",null,r?r.name:"Not listening to any sink"))),a.createElement("main",{className:"layout-main"},a.createElement(S.sv,null),n),a.createElement("footer",{className:"layout-footer"},a.createElement("p",null,"© ",(new Date).getFullYear()," Netham45")))},D=e=>{let{source:n}=e;const t=(0,a.useRef)(null),[r,o]=(0,a.useState)(null);(0,a.useEffect)((()=>{const e=()=>{const e=t.current;if(!e||!e.contentWindow)return;const n=e.contentWindow.document.querySelector("iframe");if(!n||!n.contentWindow)return;const a=n.contentWindow.document.querySelector("canvas");if(!a)return;const r=window.innerWidth,o=window.innerHeight,l=Math.min(a.width,r),s=Math.min(a.height,o);a.width>0&&a.height>0?(e.style.width=1.05*l+"px",e.style.height=1.05*s+"px",n.style.width=1.05*l+"px",n.style.height=1.05*s+"px",n.style.border="0px"):(e.style.width="400px",e.style.height="600px",n.style.border="0px")},n=setInterval(e,1e3);return e(),[200,400,600,800].forEach((n=>setTimeout(e,n))),()=>clearInterval(n)}),[]);const l=x.getVncUrl(n.name);return a.createElement("div",{className:"vnc-container"},a.createElement("h3",null,n.name),r&&a.createElement("div",{className:"error-message"},r),a.createElement("iframe",{ref:t,src:l,title:`${n.name}`,className:"vnc-iframe",onError:e=>{console.error("Error loading VNC iframe:",e),o("Failed to load VNC connection. Please try again.")}}))};var T=t(736),_={};_.styleTagTransform=h(),_.setAttributes=d(),_.insert=u().bind(null,"head"),_.domAPI=i(),_.insertStyleElement=p(),l()(T.A,_),T.A&&T.A.locals&&T.A.locals;const I={b1:1,b2:1,b3:1,b4:1,b5:1,b6:1,b7:1,b8:1,b9:1,b10:1,b11:1,b12:1,b13:1,b14:1,b15:1,b16:1,b17:1,b18:1},$={Flat:I,Classical:{b1:1.2,b2:1.2,b3:1,b4:1,b5:1,b6:1,b7:.9,b8:.9,b9:.9,b10:.8,b11:.8,b12:.8,b13:.8,b14:.8,b15:.8,b16:.8,b17:.8,b18:.8},Rock:{b1:1.2,b2:1.1,b3:.8,b4:.9,b5:1,b6:1.2,b7:1.4,b8:1.4,b9:1.4,b10:1.3,b11:1.2,b12:1.1,b13:1,b14:1,b15:1,b16:1.1,b17:1.2,b18:1.2},Pop:{b1:.8,b2:.9,b3:1,b4:1.1,b5:1.2,b6:1.2,b7:1.1,b8:1,b9:1,b10:1,b11:1,b12:1.1,b13:1.2,b14:1.2,b15:1.1,b16:1,b17:.9,b18:.8},Jazz:{b1:1.1,b2:1.1,b3:1,b4:1,b5:1,b6:1.1,b7:1.2,b8:1.2,b9:1.2,b10:1.1,b11:1,b12:.9,b13:.9,b14:.9,b15:1,b16:1.1,b17:1.1,b18:1.1},Electronic:{b1:1.4,b2:1.3,b3:1.2,b4:1,b5:.8,b6:1,b7:1.2,b8:1.3,b9:1.4,b10:1.4,b11:1.3,b12:1.2,b13:1.1,b14:1,b15:1.1,b16:1.2,b17:1.3,b18:1.4}};class L{constructor(){this.a0=this.b0=1,this.a1=this.a2=this.b1=this.b2=0}setParams(e,n,t,a){const r=Math.pow(10,Math.abs(t)/20),o=Math.tan(Math.PI*e/a);if(t>=0){const e=1/(1+1/n*o+o*o);this.b0=(1+r/n*o+o*o)*e,this.b1=2*(o*o-1)*e,this.b2=(1-r/n*o+o*o)*e,this.a1=this.b1,this.a2=(1-1/n*o+o*o)*e}else{const e=1/(1+r/n*o+o*o);this.b0=(1+1/n*o+o*o)*e,this.b1=2*(o*o-1)*e,this.b2=(1-1/n*o+o*o)*e,this.a1=this.b1,this.a2=(1-r/n*o+o*o)*e}this.a0=1}}const F=e=>{let{item:n,type:t,onClose:r,onDataChange:o}=e;const[l,s]=(0,a.useState)(n.equalizer),[i,c]=(0,a.useState)(null),[u,m]=(0,a.useState)("Custom"),d=(0,a.useRef)(null);(0,a.useEffect)((()=>{g(n.equalizer)}),[]);const g=e=>{const n=Object.entries($).find((n=>{let[t,a]=n;return Object.entries(a).every((n=>{let[t,a]=n;return Math.abs(e[t]-a)<.01}))}));m(n?n[0]:"Custom")},p=Object.entries(l).sort(((e,n)=>parseInt(e[0].slice(1))-parseInt(n[0].slice(1)))),b=[65.406392,92.498606,130.81278,184.99721,261.62557,369.99442,523.25113,739.9884,1046.5023,1479.9768,2093.0045,2959.9536,4186.0091,5919.9072,8372.0181,11839.814,16744.036,2e4],h=(e,n)=>{let t=1;return p.forEach(((a,r)=>{let[o,l]=a;const s=new L;s.setParams(b[r],1.41,20*Math.log10(Math.max(l,.001)),n);const i=2*Math.PI*e/n,c=Math.pow(Math.sin(i/2),2),u=s.b0,m=s.b1,d=s.b2,g=s.a0,p=s.a1,h=s.a2;let E=Math.sqrt(Math.pow(u+m+d,2)-4*(u*m+4*u*d+m*d)*c+16*u*d*c*c)/Math.sqrt(Math.pow(g+p+h,2)-4*(g*p+4*g*h+p*h)*c+16*g*h*c*c);t*=E})),20*Math.log10(t)};return(0,a.useEffect)((()=>{const e=d.current;if(e){const n=e.getContext("2d");if(n){n.clearRect(0,0,e.width,e.height),n.fillStyle="#1e1e1e",n.fillRect(0,0,e.width,e.height),n.strokeStyle="rgba(255, 255, 255, 0.1)",n.lineWidth=1,[20,50,100,200,500,1e3,2e3,5e3,1e4,2e4,24e3].forEach((t=>{const a=Math.log2(t/20)/Math.log2(1200)*e.width;n.beginPath(),n.moveTo(a,0),n.lineTo(a,e.height-20),n.stroke(),n.fillStyle="rgba(255, 255, 255, 0.7)",n.font="10px Arial",n.textAlign="center",n.fillText(t>=1e3?t/1e3+"k":t.toString(),a,e.height-5)}));const t=12;[-12,-9,-6,-3,0,3,6,9,12].forEach((a=>{const r=e.height/2-10-a/t*((e.height-20)/2);n.beginPath(),n.moveTo(0,r),n.lineTo(e.width,r),n.stroke(),n.fillStyle="rgba(255, 255, 255, 0.7)",n.font="10px Arial",n.textAlign="right",n.fillText(`${a} dB`,e.width-5,r+3)})),n.strokeStyle="#2ecc71",n.lineWidth=2,n.beginPath();const a=48e3,r=200;for(let o=0;o<r;o++){const l=Math.exp(Math.log(20)+(Math.log(24e3)-Math.log(20))*(o/(r-1))),s=h(l,a),i=Math.log2(l/20)/Math.log2(1200)*e.width,c=e.height/2-10-s/t*((e.height-20)/2);0===o?n.moveTo(i,c):n.lineTo(i,c)}n.stroke(),n.fillStyle="rgba(255, 255, 255, 0.9)",n.font="12px Arial",n.textAlign="center",n.fillText("Frequency (Hz)",e.width/2,e.height-20),n.save(),n.translate(10,e.height/2),n.rotate(-Math.PI/2),n.textAlign="center",n.fillText("Gain (dB)",0,0),n.restore()}}}),[l]),a.createElement("div",{className:"equalizer-container"},a.createElement("h3",{className:"equalizer-title"},a.createElement("span",{className:"music-note"},"♪")," Equalizer: ",n.name," ",a.createElement("span",{className:"music-note"},"♪")),i&&a.createElement("div",{className:"error-message"},i),a.createElement("div",{className:"equalizer-graph"},a.createElement("canvas",{ref:d,width:"600",height:"310",style:{border:"1px solid #444"}})),a.createElement("div",{className:"equalizer-controls"},a.createElement("div",{className:"preset-selector"},a.createElement("label",{htmlFor:"preset-select"},"Preset: "),a.createElement("select",{id:"preset-select",value:u,onChange:e=>{const n=e.target.value;m(n),"Custom"!==n&&s($[n])},className:"preset-select"},a.createElement("option",{value:"Custom"},"Custom"),Object.keys($).map((e=>a.createElement("option",{key:e,value:e},e))))),a.createElement("div",{className:"equalizer-sliders"},p.map(((e,n)=>{let[t,r]=e;return a.createElement("div",{key:t,className:"equalizer-band"},a.createElement("input",{type:"range",id:t,min:"0",max:"2",step:"0.1",value:r,onChange:e=>((e,n)=>{s((t=>{const a={...t,[e]:n};return g(a),a}))})(t,parseFloat(e.target.value)),className:"vertical-slider"}),a.createElement("div",{className:"slider-info"},a.createElement("label",{htmlFor:t},b[n].toFixed(0)," Hz"),a.createElement("span",{className:"slider-value"},r.toFixed(1))))})))),a.createElement("div",{className:"equalizer-buttons"},a.createElement("button",{className:"apply-button",onClick:async()=>{try{switch(c(null),t){case"sources":await x.updateSourceEqualizer(n.name,l);break;case"sinks":await x.updateSinkEqualizer(n.name,l);break;case"routes":await x.updateRouteEqualizer(n.name,l)}}catch(e){console.error("Error updating equalizer:",e),c("Failed to update equalizer. Please try again.")}}},"Apply"),a.createElement("button",{className:"default-button",onClick:()=>{s(I),m("Flat")}},"Default"),a.createElement("button",{className:"close-button",onClick:()=>{r(),o()}},"Close")))},V=e=>{let{routes:n}=e;const t=(0,a.useRef)(null),r=(0,S.Zp)(),[o,l]=(0,a.useState)({width:0,height:0});(0,a.useEffect)((()=>{const e=()=>{if(t.current){const{width:e,height:n}=t.current.getBoundingClientRect();l({width:e,height:n})}};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),(0,a.useEffect)((()=>{s()}),[n,o]);const s=()=>{if(!t.current)return;const e=t.current;e.innerHTML="",n.forEach((n=>{const t=document.getElementById(`source-${n.source}`),a=document.getElementById(`sink-${n.sink}`);if(t&&a){const o=t.getBoundingClientRect(),l=a.getBoundingClientRect(),s=e.getBoundingClientRect(),i=o.right-s.left,c=o.top+o.height/2-s.top,u=l.left-s.left,m=l.top+l.height/2-s.top,d=document.createElementNS("http://www.w3.org/2000/svg","path"),g=(i+u)/2,p=`M ${i} ${c} C ${g} ${c-50}, ${g} ${m-50}, ${u} ${m}`;d.setAttribute("d",p),d.setAttribute("fill","none"),d.setAttribute("stroke","#2ecc71"),d.setAttribute("stroke-width","2"),d.setAttribute("style","pointer-events: all; cursor: pointer;"),d.classList.add("route-line","clickable"),d.dataset.routeName=n.name,d.setAttribute("title",`Route: ${n.name}`),d.addEventListener("click",(e=>{e.preventDefault(),r(`/routes#route-${encodeURIComponent(n.name)}`)})),d.addEventListener("mouseenter",(()=>{d.setAttribute("stroke","#3498db"),d.setAttribute("stroke-width","3")})),d.addEventListener("mouseleave",(()=>{d.setAttribute("stroke","#2ecc71"),d.setAttribute("stroke-width","2")})),e.appendChild(d)}}))};return a.createElement("svg",{ref:t,className:"connections",style:{pointerEvents:"none",zIndex:1,width:"100%",height:"100%",position:"absolute",top:0,left:0}})},q=(e,n,t)=>a.createElement(f.N_,{to:`${e}#${e.replace(/^\//,"").replace(/s$/,"")}-${encodeURIComponent(n)}`},a.createElement("i",{className:`fas ${t}`})," ",n),O=e=>{let{onClick:n,className:t,children:r}=e;return a.createElement("button",{onClick:n,className:t},r)},P=e=>{let{value:n,onChange:t}=e;return a.createElement("input",{type:"range",min:"0",max:"1",step:"0.01",value:n,onChange:e=>t(parseFloat(e.target.value))})},M=e=>{let{title:n,sources:t,routes:r,starredSources:o,toggleEnabled:l,toggleStar:s,updateVolume:i,controlSource:c,setSelectedItem:u,setShowVNCModal:m,setShowEqualizerModal:d,setSelectedItemType:g,getRoutesForSource:p,getGroupMembers:b,jumpToAnchor:h,isFavoriteView:E}=e;const v=E?t.filter((e=>o?.includes(e.name))):t.filter((e=>e.enabled));return a.createElement("div",{id:E?"favorite-sources":"active-sources",className:E?"favorite-sources":"active-sources"},a.createElement("h2",null,n),a.createElement("table",null,a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,"Name"),a.createElement("th",null,"Controls"))),a.createElement("tbody",null,v.map((e=>{const n=p(e.name);return a.createElement("tr",{key:e.name},a.createElement("td",null,q("/sources",e.name,"fa-music"),a.createElement("div",{className:"subtext"},a.createElement("div",null,"Routes to: ",(e=>0===e.length?"None":e.map(((e,n)=>a.createElement(a.Fragment,{key:e.name},n>0&&", ",q("/sinks",e.sink,"fa-volume-up")))))(n)),e.is_group&&a.createElement("div",null,"Group Members: ",b(e.name,"sources")))),a.createElement("td",null,(t=e,a.createElement(a.Fragment,null,a.createElement(O,{onClick:()=>l("sources",t.name,t.enabled),className:t.enabled?"enabled":"disabled"},t.enabled?"Disable":"Enable"),a.createElement(P,{value:t.volume,onChange:e=>i("sources",t.name,e)}),a.createElement(O,{onClick:()=>{u(t),g("sources"),d(!0)}},"Equalizer"),"vnc_ip"in t&&"vnc_port"in t&&a.createElement(a.Fragment,null,a.createElement(O,{onClick:()=>{u(t),m(!0)}},"VNC"),a.createElement(O,{onClick:()=>c(t.name,"prevtrack")},"⏮"),a.createElement(O,{onClick:()=>c(t.name,"play")},"⏯"),a.createElement(O,{onClick:()=>c(t.name,"nexttrack")},"⏭")),s&&a.createElement(O,{onClick:()=>s("sources",t.name)},o?.includes(t.name)?"★":"☆")))));var t})))))},j=e=>{let{title:n,sinks:t,routes:r,starredSinks:o,toggleEnabled:l,toggleStar:s,updateVolume:i,setSelectedItem:c,setShowEqualizerModal:u,setSelectedItemType:m,getRoutesForSink:d,getGroupMembers:g,jumpToAnchor:p,isFavoriteView:b,onListenToSink:h,onVisualizeSink:E,listeningToSink:v,visualizingSink:f}=e;const S=b?t.filter((e=>o?.includes(e.name))):t.filter((e=>e.enabled));return a.createElement("div",{id:b?"favorite-sinks":"active-sinks",className:b?"favorite-sinks":"active-sinks"},a.createElement("h2",null,n),a.createElement("table",null,a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,"Name"),a.createElement("th",null,"Controls"))),a.createElement("tbody",null,S.map((e=>{const n=d(e.name);return a.createElement("tr",{key:e.name},a.createElement("td",null,q("/sinks",e.name,"fa-volume-up"),a.createElement("div",{className:"subtext"},a.createElement("div",null,"Routes from: ",(e=>0===e.length?"None":e.map(((e,n)=>a.createElement(a.Fragment,{key:e.name},n>0&&", ",q("/sources",e.source,"fa-music")))))(n)),e.is_group&&a.createElement("div",null,"Group Members: ",g(e.name,"sinks")))),a.createElement("td",null,(t=e,a.createElement(a.Fragment,null,a.createElement(O,{onClick:()=>l("sinks",t.name,t.enabled),className:t.enabled?"enabled":"disabled"},t.enabled?"Disable":"Enable"),a.createElement(P,{value:t.volume,onChange:e=>i("sinks",t.name,e)}),a.createElement(O,{onClick:()=>{c(t),m("sinks"),u(!0)}},"Equalizer"),a.createElement(O,{onClick:()=>h(v?.name===t.name?null:t),className:v?.name===t.name?"listening":""},v?.name===t.name?"Stop Listening":"Listen"),a.createElement(O,{onClick:()=>E(f?.name===t.name?null:t),className:f?.name===t.name?"visualizing":""},f?.name===t.name?"Stop Visualizer":"Visualize"),s&&a.createElement(O,{onClick:()=>s("sinks",t.name)},o?.includes(t.name)?"★":"☆")))));var t})))))},U=e=>{let{title:n,routes:t,sources:r,sinks:o,starredRoutes:l,toggleEnabled:s,toggleStar:i,updateVolume:c,setSelectedItem:u,setShowEqualizerModal:m,setSelectedItemType:d,jumpToAnchor:g,isFavoriteView:p}=e;const b=p?t.filter((e=>l?.includes(e.name))):t.filter((e=>e.enabled&&r.find((n=>n.name===e.source))?.enabled&&o.find((n=>n.name===e.sink))?.enabled));return a.createElement("div",{id:p?"favorite-routes":"active-routes",className:p?"favorite-routes":"active-routes"},a.createElement("h2",null,n),a.createElement("table",null,a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,"Name"),a.createElement("th",null,"Controls"))),a.createElement("tbody",null,b.map((e=>{return a.createElement("tr",{key:e.name},a.createElement("td",null,q("/routes",e.name,"fa-route"),a.createElement("div",{className:"subtext"},a.createElement("div",null,"Source: ",q("/sources",e.source,"fa-music")),a.createElement("div",null,"Sink: ",q("/sinks",e.sink,"fa-volume-up")))),a.createElement("td",null,(n=e,a.createElement(a.Fragment,null,a.createElement(O,{onClick:()=>s("routes",n.name,n.enabled),className:n.enabled?"enabled":"disabled"},n.enabled?"Disable":"Enable"),a.createElement(P,{value:n.volume,onChange:e=>c("routes",n.name,e)}),a.createElement(O,{onClick:()=>{u(n),d("routes"),m(!0)}},"Equalizer"),i&&a.createElement(O,{onClick:()=>i("routes",n.name)},l?.includes(n.name)?"★":"☆")))));var n})))))};var G=t(12),B={};B.styleTagTransform=h(),B.setAttributes=d(),B.insert=u().bind(null,"head"),B.domAPI=i(),B.insertStyleElement=p(),l()(G.A,B),G.A&&G.A.locals&&G.A.locals;const H=()=>{const{listeningToSink:e,visualizingSink:n,onListenToSink:t,onVisualizeSink:r}=C(),o=(0,S.zy)(),[l,s]=(0,a.useState)([]),[i,c]=(0,a.useState)([]),[u,m]=(0,a.useState)([]),[d,g]=(0,a.useState)([]),[p,b]=(0,a.useState)([]),[h,E]=(0,a.useState)([]),[v,f]=(0,a.useState)(null),[k,y]=(0,a.useState)(!1),[w,N]=(0,a.useState)(!1),[A,z]=(0,a.useState)(null),[R,T]=(0,a.useState)(null),_=async()=>{try{const[e,n,t]=await Promise.all([x.getSources(),x.getSinks(),x.getRoutes()]);s(e.data),c(n.data),m(t.data),f(null)}catch(e){console.error("Error fetching data:",e),f("Failed to fetch data. Please try again later.")}};(0,a.useEffect)((()=>{_();const e=JSON.parse(localStorage.getItem("starredSources")||"[]"),n=JSON.parse(localStorage.getItem("starredSinks")||"[]"),t=JSON.parse(localStorage.getItem("starredRoutes")||"[]");g(e),b(n),E(t)}),[]),(0,a.useEffect)((()=>{const e=o.hash;if(e){const n=document.querySelector(e);n&&(n.scrollIntoView({behavior:"smooth"}),n.classList.add("flash"),setTimeout((()=>n.classList.remove("flash")),1e3))}}),[o]);const I=async(e,n,t)=>{try{"sources"===e?await(t?x.disableSource(n):x.enableSource(n)):"sinks"===e?await(t?x.disableSink(n):x.enableSink(n)):"routes"===e&&await(t?x.disableRoute(n):x.enableRoute(n)),await _()}catch(n){console.error(`Error toggling ${e} status:`,n),f(`Failed to update ${e} status. Please try again.`)}},$=async(e,n,t)=>{try{"sources"===e?await x.updateSourceVolume(n,t):"sinks"===e?await x.updateSinkVolume(n,t):"routes"===e&&await x.updateRouteVolume(n,t),await _()}catch(n){console.error(`Error updating ${e} volume:`,n),f(`Failed to update ${e} volume. Please try again.`)}},L=async(e,n)=>{try{await fetch(`/sources/${e}/${n}`,{method:"GET"})}catch(e){console.error(`Error controlling source: ${e}`),f("Failed to control source. Please try again.")}},q=(e,n)=>{(0,{sources:g,sinks:b,routes:E}[e])((t=>{const a=t.includes(n)?t.filter((e=>e!==n)):[...t,n];return localStorage.setItem(`starred${e.charAt(0).toUpperCase()+e.slice(1)}`,JSON.stringify(a)),a}))},P=e=>u.filter((n=>n.source===e&&n.enabled)),G=e=>u.filter((n=>n.sink===e&&n.enabled)),B=(e,n)=>{const t=("sources"===n?l:i).find((n=>n.name===e));return t&&t.is_group?t.group_members.join(", "):""},H=e=>{const n=document.getElementById(e);n&&n.scrollIntoView({behavior:"smooth"})},W=e=>{const n=document.getElementById(`${e}`);n&&(n.scrollIntoView({behavior:"smooth"}),n.classList.add("flash"),setTimeout((()=>n.classList.remove("flash")),1e3))};return a.createElement("div",{className:"dashboard"},a.createElement("h2",null,"Dashboard"),a.createElement("nav",{className:"dashboard-nav"},a.createElement(O,{onClick:()=>H("favorite-sources")},"Favorite Sources"),a.createElement(O,{onClick:()=>H("favorite-sinks")},"Favorite Sinks"),a.createElement(O,{onClick:()=>H("favorite-routes")},"Favorite Routes"),a.createElement(O,{onClick:()=>H("active-sources")},"Active Sources"),a.createElement(O,{onClick:()=>H("active-sinks")},"Active Sinks"),a.createElement(O,{onClick:()=>H("active-routes")},"Active Routes")),v&&a.createElement("div",{className:"error-message"},v),a.createElement("div",{className:"dashboard-content"},a.createElement("div",{className:"dashboard-sections"},a.createElement("div",{className:"left-column"},a.createElement(M,{title:a.createElement(a.Fragment,null,a.createElement("i",{className:"fas fa-microphone"})," Favorite Sources"),sources:l,routes:u,starredSources:d,toggleEnabled:I,toggleStar:q,updateVolume:$,controlSource:L,setSelectedItem:z,setShowVNCModal:y,setShowEqualizerModal:N,setSelectedItemType:T,getRoutesForSource:P,getGroupMembers:B,jumpToAnchor:W,isFavoriteView:!0}),a.createElement(j,{title:a.createElement(a.Fragment,null,a.createElement("i",{className:"fas fa-volume-up"})," Favorite Sinks"),sinks:i,routes:u,starredSinks:p,toggleEnabled:I,toggleStar:q,updateVolume:$,setSelectedItem:z,setShowEqualizerModal:N,setSelectedItemType:T,getRoutesForSink:G,getGroupMembers:B,jumpToAnchor:W,isFavoriteView:!0,onListenToSink:t,onVisualizeSink:r,listeningToSink:e,visualizingSink:n}),a.createElement(U,{title:a.createElement(a.Fragment,null,a.createElement("i",{className:"fas fa-route"})," Favorite Routes"),routes:u,sources:l,sinks:i,starredRoutes:h,toggleEnabled:I,toggleStar:q,updateVolume:$,setSelectedItem:z,setShowEqualizerModal:N,setSelectedItemType:T,jumpToAnchor:W,isFavoriteView:!0})),a.createElement("div",{className:"right-column"},a.createElement(M,{title:a.createElement(a.Fragment,null,a.createElement("i",{className:"fas fa-broadcast-tower"})," Active Sources"),sources:l,routes:u,toggleEnabled:I,updateVolume:$,controlSource:L,setSelectedItem:z,setShowVNCModal:y,setShowEqualizerModal:N,setSelectedItemType:T,getRoutesForSource:P,getGroupMembers:B,jumpToAnchor:W,isFavoriteView:!1}),a.createElement(j,{title:a.createElement(a.Fragment,null,a.createElement("i",{className:"fas fa-headphones"})," Active Sinks"),sinks:i,routes:u,toggleEnabled:I,updateVolume:$,setSelectedItem:z,setShowEqualizerModal:N,setSelectedItemType:T,getRoutesForSink:G,getGroupMembers:B,jumpToAnchor:W,isFavoriteView:!1,onListenToSink:t,onVisualizeSink:r,listeningToSink:e,visualizingSink:n}),a.createElement(U,{title:a.createElement(a.Fragment,null,a.createElement("i",{className:"fas fa-exchange-alt"})," Active Routes"),routes:u,sources:l,sinks:i,toggleEnabled:I,updateVolume:$,setSelectedItem:z,setShowEqualizerModal:N,setSelectedItemType:T,jumpToAnchor:W,isFavoriteView:!1}))),a.createElement("div",{className:"connection-renderer-container"},a.createElement(V,{routes:u}))),k&&A&&a.createElement("div",{className:"modal-overlay"},a.createElement("div",{className:"modal-content"},a.createElement(O,{className:"close-modal",onClick:()=>y(!1)},"×"),a.createElement(D,{source:A}))),w&&A&&R&&a.createElement("div",{className:"modal-overlay"},a.createElement("div",{className:"modal-content"},a.createElement(O,{className:"close-modal",onClick:()=>N(!1)},"×"),a.createElement(F,{item:A,type:"routes"===R?"routes":R,onClose:()=>N(!1)}))))},W=e=>{let{source:n,onClose:t,onSubmit:r}=e;const[o,l]=(0,a.useState)(n?.name||""),[s,i]=(0,a.useState)(n?.ip||""),[c,u]=(0,a.useState)(n?.vnc_ip||""),[m,d]=(0,a.useState)(n?.vnc_port?.toString()||""),[g,p]=(0,a.useState)(n?.delay?.toString()||"0"),[b,h]=(0,a.useState)(null);return a.createElement("div",{className:"add-edit-source"},a.createElement("h3",null,n?"Edit Source":"Add Source"),b&&a.createElement("div",{className:"error-message"},b),a.createElement("form",{onSubmit:async e=>{e.preventDefault();const a={name:o,ip:s,vnc_ip:c,vnc_port:m?parseInt(m):void 0,delay:parseInt(g)};try{n?await x.updateSource(n.name,a):await x.addSource(a),r(),t()}catch(e){console.error("Error submitting source:",e),h("Failed to submit source. Please try again.")}}},a.createElement("label",null,"Source Name:",a.createElement("input",{type:"text",value:o,onChange:e=>l(e.target.value),required:!0})),a.createElement("label",null,"Source IP:",a.createElement("input",{type:"text",value:s,onChange:e=>i(e.target.value),required:!0})),a.createElement("label",null,"VNC IP:",a.createElement("input",{type:"text",value:c,onChange:e=>u(e.target.value)})),a.createElement("label",null,"VNC Port:",a.createElement("input",{type:"number",value:m,onChange:e=>d(e.target.value)})),a.createElement("label",null,"Delay (ms):",a.createElement("input",{type:"number",value:g,onChange:e=>p(e.target.value),min:"0",max:"5000"})),a.createElement("div",{className:"form-buttons"},a.createElement("button",{type:"submit"},n?"Update Source":"Add Source"),a.createElement("button",{type:"button",onClick:t},"Cancel"))))},J=e=>{let{type:n,group:t,onClose:r,onSubmit:o}=e;const[l,s]=(0,a.useState)(t?t.name:""),[i,c]=(0,a.useState)(t&&t.group_members||[]),[u,m]=(0,a.useState)(t?t.delay:0),[d,g]=(0,a.useState)([]),[p,b]=(0,a.useState)(null);return(0,a.useEffect)((()=>{(async()=>{try{const e=("source"===n?await x.getSources():await x.getSinks()).data.filter((e=>!("is_group"in e)||!e.is_group));g(e)}catch(e){console.error(`Error fetching ${n}s:`,e),b(`Failed to fetch ${n}s. Please try again.`)}})()}),[n]),a.createElement("div",{className:"add-edit-group"},a.createElement("h2",null,t?"Edit":"Add"," ",n.charAt(0).toUpperCase()+n.slice(1)," Group"),p&&a.createElement("div",{className:"error-message"},p),a.createElement("form",{onSubmit:async e=>{if(e.preventDefault(),b(null),l)if(0!==i.length)try{const e={name:l,group_members:i,delay:u,is_group:!0,enabled:!0,volume:1,equalizer:{b1:0,b2:0,b3:0,b4:0,b5:0,b6:0,b7:0,b8:0,b9:0,b10:0,b11:0,b12:0,b13:0,b14:0,b15:0,b16:0,b17:0,b18:0}};t?"source"===n?await x.updateSource(l,e):await x.updateSink(l,e):"source"===n?await x.addSource(e):await x.addSink({...e,port:0}),o()}catch(e){console.error("Error saving group:",e),b("Failed to save group. Please try again.")}else b("At least one member is required");else b("Name is required")}},a.createElement("div",null,a.createElement("label",{htmlFor:"name"},"Name:"),a.createElement("input",{type:"text",id:"name",value:l,onChange:e=>s(e.target.value),required:!0})),a.createElement("div",null,a.createElement("label",{htmlFor:"delay"},"Delay (ms):"),a.createElement("input",{type:"number",id:"delay",value:u,onChange:e=>m(parseInt(e.target.value)),min:"0",required:!0})),a.createElement("div",null,a.createElement("label",null,"Members:"),d.map((e=>a.createElement("div",{key:e.name},a.createElement("input",{type:"checkbox",id:e.name,checked:i.includes(e.name),onChange:()=>{return n=e.name,void c((e=>e.includes(n)?e.filter((e=>e!==n)):[...e,n]));var n}}),a.createElement("label",{htmlFor:e.name},e.name))))),a.createElement("div",{className:"form-actions"},a.createElement("button",{type:"submit"},"Save"),a.createElement("button",{type:"button",onClick:r},"Cancel"))))},K=e=>{let{source:n,index:t,isStarred:r,isActive:o,onToggleSource:l,onDeleteSource:s,onUpdateVolume:i,onToggleStar:c,onToggleActive:u,onEditSource:m,onShowEqualizer:d,onShowVNC:g,onControlSource:p,sourceRefs:b,onDragStart:h,onDragEnter:E,onDragLeave:v,onDragOver:f,onDrop:S,onDragEnd:k,jumpToAnchor:y,activeRoutes:x,disabledRoutes:w,isExpanded:N,toggleExpandRoutes:C}=e;const A=(e,t)=>{if(0===e.length)return null;const r=N?e:e.slice(0,3),o=e.length>3;return a.createElement("div",{className:"route-list "+(t?"enabled":"disabled")},a.createElement("span",{className:"route-list-label"},t?"Enabled routes:":"Disabled routes:"),r.map(((e,n)=>a.createElement(a.Fragment,{key:e.name},q("/routes",e.name,"fa-route"),n<r.length-1&&", "))),o&&!N&&a.createElement(O,{onClick:()=>C(n.name),className:"expand-routes"},"..."))};return a.createElement("tr",{ref:e=>{e&&(b.current[n.name]=e)},onDragEnter:e=>E(e,t),onDragLeave:v,onDragOver:f,onDrop:e=>S(e,t),className:"draggable-row",id:`source-${encodeURIComponent(n.name)}`},a.createElement("td",null,a.createElement("span",{className:"drag-handle",draggable:!0,onDragStart:e=>h(e,t),onDragEnd:k},"☰")),a.createElement("td",null,a.createElement(O,{onClick:()=>c(n.name)},r?"★":"☆")),a.createElement("td",null,a.createElement(O,{onClick:()=>u(n.name),className:o?"active":""},o?"⬤":"◯")),a.createElement("td",null,q("/sources",n.name,"fa-music"),n.is_group&&n.group_members&&a.createElement("div",{className:"group-members"},a.createElement("span",null,"Group members: "),n.group_members.map(((e,t)=>a.createElement(a.Fragment,{key:e},q("/sources",e,"fa-music"),t<n.group_members.length-1&&", ")))),a.createElement("div",{className:"source-routes"},A(x,!0),A(w,!1),N&&a.createElement(O,{onClick:()=>C(n.name),className:"collapse-routes"},"Show less"))),a.createElement("td",null,n.ip),a.createElement("td",null,a.createElement(O,{onClick:()=>l(n.name),className:n.enabled?"enabled":"disabled"},n.enabled?"Enabled":"Disabled")),a.createElement("td",null,a.createElement(P,{value:n.volume,onChange:e=>i(n.name,e)}),a.createElement("span",null,(100*n.volume).toFixed(0),"%")),a.createElement("td",null,a.createElement(O,{onClick:()=>m(n)},"Edit"),a.createElement(O,{onClick:()=>d(n)},"Equalizer"),n.vnc_ip&&n.vnc_port&&a.createElement(a.Fragment,null,a.createElement(O,{onClick:()=>g(n)},"VNC"),a.createElement(O,{onClick:()=>p(n.name,"prevtrack")},"⏮"),a.createElement(O,{onClick:()=>p(n.name,"play")},"⏯"),a.createElement(O,{onClick:()=>p(n.name,"nexttrack")},"⏭")),a.createElement(O,{onClick:()=>s(n.name),className:"delete-button"},"Delete")))},Y=e=>{let{sources:n,routes:t,starredSources:r,activeSource:o,onToggleSource:l,onDeleteSource:s,onUpdateVolume:i,onToggleStar:c,onToggleActive:u,onEditSource:m,onShowEqualizer:d,onShowVNC:g,onControlSource:p,sourceRefs:b,onDragStart:h,onDragEnter:E,onDragLeave:v,onDragOver:f,onDrop:S,onDragEnd:k,jumpToAnchor:y,getActiveRoutes:x,getDisabledRoutes:w,expandedRoutes:N,toggleExpandRoutes:C}=e;return a.createElement("table",{className:"sources-table"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,"Reorder"),a.createElement("th",null,"Favorite"),a.createElement("th",null,"Active"),a.createElement("th",null,"Name"),a.createElement("th",null,"IP Address"),a.createElement("th",null,"Status"),a.createElement("th",null,"Volume"),a.createElement("th",null,"Actions"))),a.createElement("tbody",null,n.map(((e,n)=>a.createElement(K,{key:e.name,source:e,index:n,isStarred:r.includes(e.name),isActive:o===e.name,onToggleSource:l,onDeleteSource:s,onUpdateVolume:i,onToggleStar:c,onToggleActive:u,onEditSource:m,onShowEqualizer:d,onShowVNC:g,onControlSource:p,sourceRefs:b,onDragStart:h,onDragEnter:E,onDragLeave:v,onDragOver:f,onDrop:S,onDragEnd:k,jumpToAnchor:y,activeRoutes:x(e.name),disabledRoutes:w(e.name),isExpanded:N.includes(e.name),toggleExpandRoutes:C})))))},X=()=>{const[e,n]=(0,a.useState)([]),[t,r]=(0,a.useState)([]),[o,l]=(0,a.useState)(!1),[s,i]=(0,a.useState)(!1),[c,u]=(0,a.useState)(!1),[m,d]=(0,a.useState)(!1),[g,p]=(0,a.useState)(!1),[b,h]=(0,a.useState)(void 0),[E,v]=(0,a.useState)(null),[f,k]=(0,a.useState)([]),[y,w]=(0,a.useState)(null),[N,C]=(0,a.useState)([]),[A,z]=(0,a.useState)([]),R=(0,a.useRef)({}),T=(0,a.useRef)(null),_=(0,a.useRef)(null),I=(0,S.zy)(),$=async()=>{try{const e=await x.getSources();n(e.data),v(null)}catch(e){console.error("Error fetching sources:",e),v("Failed to fetch sources. Please try again later.")}};(0,a.useEffect)((()=>{$(),(async()=>{try{const e=await x.getRoutes();r(e.data)}catch(e){console.error("Error fetching routes:",e)}})();const e=JSON.parse(localStorage.getItem("starredSources")||"[]");k(e);const n=localStorage.getItem("activeSource");w(n)}),[]),(0,a.useEffect)((()=>{const e=I.hash;if(e){const n=decodeURIComponent(e.replace("#source-",""));V(n)}}),[I.hash,e]);const L=(0,a.useCallback)((e=>[...e].sort(((e,n)=>{const t=f.includes(e.name);return t!==f.includes(n.name)?t?-1:1:e.enabled!==n.enabled?e.enabled?-1:1:0}))),[f]);(0,a.useEffect)((()=>{z(L(e))}),[e,f,L]);const V=(0,a.useCallback)((e=>{const n=R.current[e];n&&(n.scrollIntoView({behavior:"smooth",block:"center"}),n.classList.remove("flash"),n.offsetWidth,n.classList.add("flash"))}),[]);return a.createElement("div",{className:"sources"},a.createElement("h2",null,"Sources"),E&&a.createElement("div",{className:"error-message"},E),a.createElement("div",{className:"actions"},a.createElement("button",{onClick:()=>l(!0)},"Add Source"),a.createElement("button",{onClick:()=>u(!0)},"Add Group")),a.createElement(Y,{sources:A,routes:t,starredSources:f,activeSource:y,onToggleSource:async n=>{try{const t=e.find((e=>e.name===n));t&&(await x[t.enabled?"disableSource":"enableSource"](n),await $(),V(n))}catch(e){console.error("Error updating source:",e),v("Failed to update source. Please try again.")}},onDeleteSource:async e=>{if(window.confirm(`Are you sure you want to delete the source "${e}"?`))try{await x.deleteSource(e),await $()}catch(e){console.error("Error deleting source:",e),v("Failed to delete source. Please try again.")}},onUpdateVolume:async(e,n)=>{try{await x.updateSourceVolume(e,n),await $()}catch(e){console.error("Error updating source volume:",e),v("Failed to update volume. Please try again.")}},onToggleStar:e=>{const n=f.includes(e)?f.filter((n=>n!==e)):[...f,e];k(n),localStorage.setItem("starredSources",JSON.stringify(n)),V(e)},onToggleActive:e=>{const n=y===e?null:e;w(n),localStorage.setItem("activeSource",n||"")},onEditSource:e=>{h(e),i(!0)},onShowEqualizer:e=>{h(e),d(!0)},onShowVNC:e=>{h(e),p(!0)},onControlSource:async(e,n)=>{try{await fetch(`/sources/${e}/${n}`,{method:"GET"})}catch(e){console.error(`Error controlling source: ${e}`),v("Failed to control source. Please try again.")}},sourceRefs:R,onDragStart:(e,n)=>{T.current=n,e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",e.currentTarget.parentElement.outerHTML),e.currentTarget.parentElement.style.opacity="0.5"},onDragEnter:(e,n)=>{_.current=n,e.currentTarget.classList.add("drag-over")},onDragLeave:e=>{e.currentTarget.classList.remove("drag-over")},onDragOver:e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},onDrop:async(t,a)=>{t.preventDefault();const r=T.current;if(null===r||r===a)return;const o=[...e],[l]=o.splice(r,1);o.splice(a,0,l),n(o),z(L(o));try{await x.reorderSource(l.name,a),await $(),V(l.name)}catch(e){console.error("Error reordering source:",e),v("Failed to reorder source. Please try again.")}T.current=null,_.current=null},onDragEnd:e=>{e.currentTarget.parentElement.style.opacity="1",e.currentTarget.parentElement.classList.remove("drag-over")},jumpToAnchor:V,getActiveRoutes:e=>t.filter((n=>n.source===e&&n.enabled)),getDisabledRoutes:e=>t.filter((n=>n.source===e&&!n.enabled)),expandedRoutes:N,toggleExpandRoutes:e=>{C((n=>n.includes(e)?n.filter((n=>n!==e)):[...n,e]))}}),o&&a.createElement("div",{className:"modal-overlay"},a.createElement("div",{className:"modal-content"},a.createElement("button",{className:"close-modal",onClick:()=>l(!1)},"×"),a.createElement(W,{onClose:()=>l(!1),onSubmit:()=>{$(),l(!1)}}))),s&&b&&a.createElement("div",{className:"modal-overlay"},a.createElement("div",{className:"modal-content"},a.createElement("button",{className:"close-modal",onClick:()=>i(!1)},"×"),a.createElement(W,{source:b,onClose:()=>i(!1),onSubmit:()=>{$(),i(!1)}}))),c&&a.createElement("div",{className:"modal-overlay"},a.createElement("div",{className:"modal-content"},a.createElement("button",{className:"close-modal",onClick:()=>u(!1)},"×"),a.createElement(J,{type:"source",group:b,onClose:()=>u(!1),onSubmit:()=>{$(),u(!1)}}))),m&&b&&a.createElement("div",{className:"modal-overlay"},a.createElement("div",{className:"modal-content"},a.createElement("button",{className:"close-modal",onClick:()=>d(!1)},"×"),a.createElement(F,{item:b,type:"sources",onClose:()=>d(!1)}))),g&&b&&a.createElement("div",{className:"modal-overlay"},a.createElement("div",{className:"modal-content"},a.createElement("button",{className:"close-modal",onClick:()=>p(!1)},"×"),a.createElement(D,{source:b}))))},Q=e=>{let{sink:n,onClose:t,onSubmit:r}=e;const[o,l]=(0,a.useState)(n?.name||""),[s,i]=(0,a.useState)(n?.ip||""),[c,u]=(0,a.useState)(n?.port?.toString()||"4010"),[m,d]=(0,a.useState)(n?.bit_depth?.toString()||"32"),[g,p]=(0,a.useState)(n?.sample_rate?.toString()||"48000"),[b,h]=(0,a.useState)(n?.channels?.toString()||"2"),[E,v]=(0,a.useState)(n?.channel_layout||"stereo"),[f,S]=(0,a.useState)(n?.delay?.toString()||"0"),[k,y]=(0,a.useState)(n?.time_sync||!1),[w,N]=(0,a.useState)(n?.time_sync_delay?.toString()||"0"),[C,A]=(0,a.useState)(null);return a.createElement("div",{className:"add-edit-sink"},a.createElement("h3",null,n?"Edit Sink":"Add Sink"),C&&a.createElement("div",{className:"error-message"},C),a.createElement("form",{onSubmit:async e=>{e.preventDefault();const a={name:o,ip:s,port:parseInt(c),bit_depth:parseInt(m),sample_rate:parseInt(g),channels:parseInt(b),channel_layout:E,delay:parseInt(f),time_sync:k,time_sync_delay:parseInt(w)};try{n?await x.updateSink(n.name,a):await x.addSink(a),r(),t()}catch(e){console.error("Error submitting sink:",e),A("Failed to submit sink. Please try again.")}}},a.createElement("label",null,"Sink Name:",a.createElement("input",{type:"text",value:o,onChange:e=>l(e.target.value),required:!0})),a.createElement("label",null,"Sink IP:",a.createElement("input",{type:"text",value:s,onChange:e=>i(e.target.value),required:!0})),a.createElement("label",null,"Sink Port:",a.createElement("input",{type:"number",value:c,onChange:e=>u(e.target.value),min:"1",max:"65535",required:!0})),a.createElement("label",null,"Bit Depth:",a.createElement("select",{value:m,onChange:e=>d(e.target.value)},a.createElement("option",{value:"16"},"16"),a.createElement("option",{value:"24"},"24"),a.createElement("option",{value:"32"},"32"))),a.createElement("label",null,"Sample Rate:",a.createElement("select",{value:g,onChange:e=>p(e.target.value)},a.createElement("option",{value:"44100"},"44100"),a.createElement("option",{value:"48000"},"48000"),a.createElement("option",{value:"88200"},"88200"),a.createElement("option",{value:"96000"},"96000"),a.createElement("option",{value:"192000"},"192000"))),a.createElement("label",null,"Channels:",a.createElement("input",{type:"number",value:b,onChange:e=>h(e.target.value),min:"1",max:"8",required:!0})),a.createElement("label",null,"Channel Layout:",a.createElement("select",{value:E,onChange:e=>v(e.target.value)},a.createElement("option",{value:"mono"},"Mono"),a.createElement("option",{value:"stereo"},"Stereo"),a.createElement("option",{value:"quad"},"Quad"),a.createElement("option",{value:"surround"},"Surround"),a.createElement("option",{value:"5.1"},"5.1"),a.createElement("option",{value:"7.1"},"7.1"))),a.createElement("label",null,"Delay (ms):",a.createElement("input",{type:"number",value:f,onChange:e=>S(e.target.value),min:"0",max:"5000"})),a.createElement("label",null,"Time Sync:",a.createElement("input",{type:"checkbox",checked:k,onChange:e=>y(e.target.checked)})),a.createElement("label",null,"Time Sync Delay (ms):",a.createElement("input",{type:"number",value:w,onChange:e=>N(e.target.value),min:"0",max:"5000"})),a.createElement("div",{className:"form-buttons"},a.createElement("button",{type:"submit"},n?"Update Sink":"Add Sink"),a.createElement("button",{type:"button",onClick:t},"Cancel"))))},Z=e=>{let{sink:n,index:t,isStarred:r,onToggleSink:o,onDeleteSink:l,onUpdateVolume:s,onToggleStar:i,onEditSink:c,onShowEqualizer:u,onListenToSink:m,onVisualizeSink:d,isListening:g,isVisualizing:p,sinkRefs:b,onDragStart:h,onDragEnter:E,onDragLeave:v,onDragOver:f,onDrop:S,onDragEnd:k,jumpToAnchor:y,activeRoutes:x,disabledRoutes:w,isExpanded:N,toggleExpandRoutes:C}=e;const A=(e,t)=>{if(0===e.length)return null;const r=N?e:e.slice(0,3),o=e.length>3;return a.createElement("div",{className:"route-list "+(t?"enabled":"disabled")},a.createElement("span",{className:"route-list-label"},t?"Enabled routes:":"Disabled routes:"),r.map(((e,n)=>a.createElement(a.Fragment,{key:e.name},q("/routes",e.name,"fa-route"),n<r.length-1&&", "))),o&&!N&&a.createElement(O,{onClick:()=>C(n.name),className:"expand-routes"},"..."))};return a.createElement("tr",{ref:e=>{e&&(b.current[n.name]=e)},onDragEnter:e=>E(e,t),onDragLeave:v,onDragOver:f,onDrop:e=>S(e,t),className:"draggable-row",id:`sink-${encodeURIComponent(n.name)}`},a.createElement("td",null,a.createElement("span",{className:"drag-handle",draggable:!0,onDragStart:e=>h(e,t),onDragEnd:k},"☰")),a.createElement("td",null,a.createElement(O,{onClick:()=>i(n.name)},r?"★":"☆")),a.createElement("td",null,q("/sinks",n.name,"fa-volume-up"),n.is_group&&n.group_members&&a.createElement("div",{className:"group-members"},a.createElement("span",null,"Group members: "),n.group_members.map(((e,t)=>a.createElement(a.Fragment,{key:e},q("/sinks",e,"fa-volume-up"),t<n.group_members.length-1&&", ")))),a.createElement("div",{className:"sink-routes"},A(x,!0),A(w,!1),N&&a.createElement(O,{onClick:()=>C(n.name),className:"collapse-routes"},"Show less"))),a.createElement("td",null,n.ip),a.createElement("td",null,n.port),a.createElement("td",null,a.createElement(O,{onClick:()=>o(n.name),className:n.enabled?"enabled":"disabled"},n.enabled?"Enabled":"Disabled")),a.createElement("td",null,a.createElement(P,{value:n.volume,onChange:e=>s(n.name,e)}),a.createElement("span",null,(100*n.volume).toFixed(0),"%")),a.createElement("td",null,a.createElement(O,{onClick:()=>c(n)},"Edit"),a.createElement(O,{onClick:()=>u(n)},"Equalizer"),a.createElement(O,{onClick:()=>m(g?null:n),className:g?"listening":""},g?"Stop Listening":"Listen"),a.createElement(O,{onClick:()=>d(p?null:n),className:p?"visualizing":""},p?"Stop Visualizer":"Visualize"),a.createElement(O,{onClick:()=>l(n.name),className:"delete-button"},"Delete")))},ee=e=>{let{sinks:n,routes:t,starredSinks:r,onToggleSink:o,onDeleteSink:l,onUpdateVolume:s,onToggleStar:i,onEditSink:c,onShowEqualizer:u,sinkRefs:m,onDragStart:d,onDragEnter:g,onDragLeave:p,onDragOver:b,onDrop:h,onDragEnd:E,jumpToAnchor:v,getActiveRoutes:f,getDisabledRoutes:S,expandedRoutes:k,toggleExpandRoutes:y}=e;const{listeningToSink:x,visualizingSink:w,onListenToSink:N,onVisualizeSink:A}=C(),z=async e=>{await Promise.resolve(N(e))};return a.createElement("table",{className:"sinks-table"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,"Reorder"),a.createElement("th",null,"Favorite"),a.createElement("th",null,"Name"),a.createElement("th",null,"IP Address"),a.createElement("th",null,"Port"),a.createElement("th",null,"Status"),a.createElement("th",null,"Volume"),a.createElement("th",null,"Actions"))),a.createElement("tbody",null,n.map(((e,n)=>a.createElement(Z,{key:e.name,sink:e,index:n,isStarred:r.includes(e.name),onToggleSink:o,onDeleteSink:l,onUpdateVolume:s,onToggleStar:i,onEditSink:c,onShowEqualizer:u,onListenToSink:z,onVisualizeSink:A,isListening:x?.name===e.name,isVisualizing:w?.name===e.name,sinkRefs:m,onDragStart:d,onDragEnter:g,onDragLeave:p,onDragOver:b,onDrop:h,onDragEnd:E,jumpToAnchor:v,activeRoutes:f(e.name),disabledRoutes:S(e.name),isExpanded:k.includes(e.name),toggleExpandRoutes:y})))))},ne=()=>{const{listeningToSink:e,visualizingSink:n,onListenToSink:t,onVisualizeSink:r}=C(),[o,l]=(0,a.useState)([]),[s,i]=(0,a.useState)([]),[c,u]=(0,a.useState)(!1),[m,d]=(0,a.useState)(!1),[g,p]=(0,a.useState)(!1),[b,h]=(0,a.useState)(!1),[E,v]=(0,a.useState)(void 0),[f,k]=(0,a.useState)(null),[y,w]=(0,a.useState)([]),[N,A]=(0,a.useState)([]),[z,R]=(0,a.useState)([]),D=(0,a.useRef)({}),T=(0,a.useRef)(null),_=(0,a.useRef)(null),I=(0,S.zy)(),$=async()=>{try{const e=await x.getSinks();l(e.data),k(null)}catch(e){console.error("Error fetching sinks:",e),k("Failed to fetch sinks. Please try again later.")}};(0,a.useEffect)((()=>{$(),(async()=>{try{const e=await x.getRoutes();i(e.data)}catch(e){console.error("Error fetching routes:",e)}})();const e=JSON.parse(localStorage.getItem("starredSinks")||"[]");w(e)}),[]),(0,a.useEffect)((()=>{const e=I.hash;if(e){const n=decodeURIComponent(e.replace("#sink-",""));V(n)}}),[I.hash,o]);const L=(0,a.useCallback)((e=>[...e].sort(((e,n)=>{const t=y.includes(e.name);return t!==y.includes(n.name)?t?-1:1:e.enabled!==n.enabled?e.enabled?-1:1:0}))),[y]);(0,a.useEffect)((()=>{R(L(o))}),[o,y,L]);const V=(0,a.useCallback)((e=>{const n=D.current[e];n&&(n.scrollIntoView({behavior:"smooth",block:"center"}),n.classList.remove("flash"),n.offsetWidth,n.classList.add("flash"))}),[]);return a.createElement("div",{className:"sinks"},a.createElement("h2",null,"Sinks"),f&&a.createElement("div",{className:"error-message"},f),a.createElement("div",{className:"actions"},a.createElement("button",{onClick:()=>u(!0)},"Add Sink"),a.createElement("button",{onClick:()=>p(!0)},"Add Group")),a.createElement(ee,{sinks:z,routes:s,starredSinks:y,onToggleSink:async e=>{try{const n=o.find((n=>n.name===e));n&&(await x[n.enabled?"disableSink":"enableSink"](e),await $(),V(e))}catch(e){console.error("Error updating sink:",e),k("Failed to update sink. Please try again.")}},onDeleteSink:async e=>{if(window.confirm(`Are you sure you want to delete the sink "${e}"?`))try{await x.deleteSink(e),await $()}catch(e){console.error("Error deleting sink:",e),k("Failed to delete sink. Please try again.")}},onUpdateVolume:async(e,n)=>{try{await x.updateSinkVolume(e,n),await $()}catch(e){console.error("Error updating sink volume:",e),k("Failed to update volume. Please try again.")}},onToggleStar:e=>{const n=y.includes(e)?y.filter((n=>n!==e)):[...y,e];w(n),localStorage.setItem("starredSinks",JSON.stringify(n)),V(e)},onEditSink:e=>{v(e),d(!0)},onShowEqualizer:e=>{v(e),h(!0)},sinkRefs:D,onDragStart:(e,n)=>{T.current=n,e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",e.currentTarget.parentElement.outerHTML),e.currentTarget.parentElement.style.opacity="0.5"},onDragEnter:(e,n)=>{_.current=n,e.currentTarget.classList.add("drag-over")},onDragLeave:e=>{e.currentTarget.classList.remove("drag-over")},onDragOver:e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},onDrop:async(e,n)=>{e.preventDefault();const t=T.current;if(null===t||t===n)return;const a=[...o],[r]=a.splice(t,1);a.splice(n,0,r),l(a),R(L(a));try{await x.reorderSink(r.name,n),await $(),V(r.name)}catch(e){console.error("Error reordering sink:",e),k("Failed to reorder sink. Please try again.")}T.current=null,_.current=null},onDragEnd:e=>{e.currentTarget.parentElement.style.opacity="1",e.currentTarget.parentElement.classList.remove("drag-over")},jumpToAnchor:V,getActiveRoutes:e=>s.filter((n=>n.sink===e&&n.enabled)),getDisabledRoutes:e=>s.filter((n=>n.sink===e&&!n.enabled)),expandedRoutes:N,toggleExpandRoutes:e=>{A((n=>n.includes(e)?n.filter((n=>n!==e)):[...n,e]))}}),c&&a.createElement("div",{className:"modal-overlay"},a.createElement("div",{className:"modal-content"},a.createElement("button",{className:"close-modal",onClick:()=>u(!1)},"×"),a.createElement(Q,{onClose:()=>u(!1),onSubmit:()=>{$(),u(!1)}}))),m&&E&&a.createElement("div",{className:"modal-overlay"},a.createElement("div",{className:"modal-content"},a.createElement("button",{className:"close-modal",onClick:()=>d(!1)},"×"),a.createElement(Q,{sink:E,onClose:()=>d(!1),onSubmit:()=>{$(),d(!1)}}))),g&&a.createElement("div",{className:"modal-overlay"},a.createElement("div",{className:"modal-content"},a.createElement("button",{className:"close-modal",onClick:()=>p(!1)},"×"),a.createElement(J,{type:"sink",group:E,onClose:()=>p(!1),onSubmit:()=>{$(),p(!1)}}))),b&&E&&a.createElement("div",{className:"modal-overlay"},a.createElement("div",{className:"modal-content"},a.createElement("button",{className:"close-modal",onClick:()=>h(!1)},"×"),a.createElement(F,{item:E,type:"sinks",onClose:()=>h(!1)}))))},te=e=>{let{route:n,onClose:t,onSubmit:r}=e;const[o,l]=(0,a.useState)(n?.name||""),[s,i]=(0,a.useState)(n?.source||""),[c,u]=(0,a.useState)(n?.sink||""),[m,d]=(0,a.useState)(n?.delay?.toString()||"0"),[g,p]=(0,a.useState)([]),[b,h]=(0,a.useState)([]),[E,v]=(0,a.useState)(null);return(0,a.useEffect)((()=>{(async()=>{try{const[e,n]=await Promise.all([x.getSources(),x.getSinks()]);p(e.data),h(n.data)}catch(e){console.error("Error fetching sources and sinks:",e),v("Failed to fetch sources and sinks. Please try again.")}})()}),[]),a.createElement("div",{className:"add-edit-route"},a.createElement("h3",null,n?"Edit Route":"Add Route"),E&&a.createElement("div",{className:"error-message"},E),a.createElement("form",{onSubmit:async e=>{e.preventDefault();const a={name:o,source:s,sink:c,delay:parseInt(m)};try{n?await x.updateRoute(n.name,a):await x.addRoute(a),r(),t()}catch(e){console.error("Error submitting route:",e),v("Failed to submit route. Please try again.")}}},a.createElement("label",null,"Route Name:",a.createElement("input",{type:"text",value:o,onChange:e=>l(e.target.value),required:!0})),a.createElement("label",null,"Source:",a.createElement("select",{value:s,onChange:e=>i(e.target.value),required:!0},a.createElement("option",{value:""},"Select a source"),g.map((e=>a.createElement("option",{key:e.name,value:e.name},e.name))))),a.createElement("label",null,"Sink:",a.createElement("select",{value:c,onChange:e=>u(e.target.value),required:!0},a.createElement("option",{value:""},"Select a sink"),b.map((e=>a.createElement("option",{key:e.name,value:e.name},e.name))))),a.createElement("label",null,"Delay (ms):",a.createElement("input",{type:"number",value:m,onChange:e=>d(e.target.value),min:"0",max:"5000"})),a.createElement("div",{className:"form-buttons"},a.createElement("button",{type:"submit"},n?"Update Route":"Add Route"),a.createElement("button",{type:"button",onClick:t},"Cancel"))))},ae=e=>{let{route:n,index:t,isStarred:r,onToggleRoute:o,onDeleteRoute:l,onUpdateVolume:s,onToggleStar:i,onEditRoute:c,onShowEqualizer:u,routeRefs:m,onDragStart:d,onDragEnter:g,onDragLeave:p,onDragOver:b,onDrop:h,onDragEnd:E,jumpToAnchor:v,renderLinkWithAnchor:f}=e;return a.createElement("tr",{ref:e=>{e&&(m.current[n.name]=e)},onDragEnter:e=>g(e,t),onDragLeave:p,onDragOver:b,onDrop:e=>h(e,t),className:"draggable-row",id:`route-${encodeURIComponent(n.name)}`},a.createElement("td",null,a.createElement("span",{className:"drag-handle",draggable:!0,onDragStart:e=>d(e,t),onDragEnd:E},"☰")),a.createElement("td",null,a.createElement(O,{onClick:()=>i(n.name)},r?"★":"☆")),a.createElement("td",null,f("/routes",n.name,"fa-route")),a.createElement("td",null,f("/sources",n.source,"fa-music")),a.createElement("td",null,f("/sinks",n.sink,"fa-volume-up")),a.createElement("td",null,a.createElement(O,{onClick:()=>o(n.name),className:n.enabled?"enabled":"disabled"},n.enabled?"Enabled":"Disabled")),a.createElement("td",null,a.createElement(P,{value:n.volume,onChange:e=>s(n.name,e)}),a.createElement("span",null,(100*n.volume).toFixed(0),"%")),a.createElement("td",null,a.createElement(O,{onClick:()=>c(n)},"Edit"),a.createElement(O,{onClick:()=>u(n)},"Equalizer"),a.createElement(O,{onClick:()=>l(n.name),className:"delete-button"},"Delete")))},re=e=>{let{routes:n,starredRoutes:t,onToggleRoute:r,onDeleteRoute:o,onUpdateVolume:l,onToggleStar:s,onEditRoute:i,onShowEqualizer:c,routeRefs:u,onDragStart:m,onDragEnter:d,onDragLeave:g,onDragOver:p,onDrop:b,onDragEnd:h,jumpToAnchor:E,renderLinkWithAnchor:v}=e;return a.createElement("table",{className:"routes-table"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,"Reorder"),a.createElement("th",null,"Favorite"),a.createElement("th",null,"Name"),a.createElement("th",null,"Source"),a.createElement("th",null,"Sink"),a.createElement("th",null,"Status"),a.createElement("th",null,"Volume"),a.createElement("th",null,"Actions"))),a.createElement("tbody",null,n.map(((e,n)=>a.createElement(ae,{key:e.name,route:e,index:n,isStarred:t.includes(e.name),onToggleRoute:r,onDeleteRoute:o,onUpdateVolume:l,onToggleStar:s,onEditRoute:i,onShowEqualizer:c,routeRefs:u,onDragStart:m,onDragEnter:d,onDragLeave:g,onDragOver:p,onDrop:b,onDragEnd:h,jumpToAnchor:E,renderLinkWithAnchor:v})))))},oe=()=>{const[e,n]=(0,a.useState)([]),[t,r]=(0,a.useState)(!1),[o,l]=(0,a.useState)(!1),[s,i]=(0,a.useState)(!1),[c,u]=(0,a.useState)(null),[m,d]=(0,a.useState)(null),[g,p]=(0,a.useState)([]),[b,h]=(0,a.useState)([]),E=(0,a.useRef)({}),v=(0,a.useRef)(null),k=(0,a.useRef)(null),y=(0,S.zy)(),w=async()=>{try{const e=await x.getRoutes();n(e.data),d(null)}catch(e){console.error("Error fetching routes:",e),d("Failed to fetch routes. Please try again later.")}};(0,a.useEffect)((()=>{w();const e=JSON.parse(localStorage.getItem("starredRoutes")||"[]");p(e)}),[]),(0,a.useEffect)((()=>{const e=y.hash;if(e){const n=decodeURIComponent(e.replace("#route-",""));C(n)}}),[y.hash,e]);const N=(0,a.useCallback)((e=>[...e].sort(((e,n)=>{const t=g.includes(e.name);return t!==g.includes(n.name)?t?-1:1:e.enabled!==n.enabled?e.enabled?-1:1:0}))),[g]);(0,a.useEffect)((()=>{h(N(e))}),[e,g,N]);const C=(0,a.useCallback)((e=>{const n=E.current[e];n&&(n.scrollIntoView({behavior:"smooth",block:"center"}),n.classList.remove("flash"),n.offsetWidth,n.classList.add("flash"))}),[]);return a.createElement("div",{className:"routes"},a.createElement("h2",null,"Routes"),m&&a.createElement("div",{className:"error-message"},m),a.createElement("div",{className:"actions"},a.createElement("button",{onClick:()=>r(!0)},"Add Route")),a.createElement(re,{routes:b,starredRoutes:g,onToggleRoute:async n=>{try{const t=e.find((e=>e.name===n));t&&(await x[t.enabled?"disableRoute":"enableRoute"](n),await w(),C(n))}catch(e){console.error("Error updating route:",e),d("Failed to update route. Please try again.")}},onDeleteRoute:async e=>{if(window.confirm(`Are you sure you want to delete the route "${e}"?`))try{await x.deleteRoute(e),await w()}catch(e){console.error("Error deleting route:",e),d("Failed to delete route. Please try again.")}},onUpdateVolume:async(e,n)=>{try{await x.updateRouteVolume(e,n),await w()}catch(e){console.error("Error updating route volume:",e),d("Failed to update volume. Please try again.")}},onToggleStar:e=>{const n=g.includes(e)?g.filter((n=>n!==e)):[...g,e];p(n),localStorage.setItem("starredRoutes",JSON.stringify(n)),C(e)},onEditRoute:e=>{u(e),l(!0)},onShowEqualizer:e=>{u(e),i(!0)},routeRefs:E,onDragStart:(e,n)=>{v.current=n,e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",e.currentTarget.parentElement.outerHTML),e.currentTarget.parentElement.style.opacity="0.5"},onDragEnter:(e,n)=>{k.current=n,e.currentTarget.classList.add("drag-over")},onDragLeave:e=>{e.currentTarget.classList.remove("drag-over")},onDragOver:e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},onDrop:async(t,a)=>{t.preventDefault();const r=v.current;if(null===r||r===a)return;const o=[...e],[l]=o.splice(r,1);o.splice(a,0,l),n(o),h(N(o));try{await x.reorderRoute(l.name,a),await w(),C(l.name)}catch(e){console.error("Error reordering route:",e),d("Failed to reorder route. Please try again.")}v.current=null,k.current=null},onDragEnd:e=>{e.currentTarget.parentElement.style.opacity="1",e.currentTarget.parentElement.classList.remove("drag-over")},jumpToAnchor:C,renderLinkWithAnchor:(e,n,t)=>a.createElement(f.N_,{to:`${e}#${e.replace(/^\//,"").replace(/s$/,"")}-${encodeURIComponent(n)}`},a.createElement("i",{className:`fas ${t}`})," ",n)}),t&&a.createElement("div",{className:"modal-overlay"},a.createElement("div",{className:"modal-content"},a.createElement("button",{className:"close-modal",onClick:()=>r(!1)},"×"),a.createElement(te,{onClose:()=>r(!1),onSubmit:()=>{w(),r(!1)}}))),o&&c&&a.createElement("div",{className:"modal-overlay"},a.createElement("div",{className:"modal-content"},a.createElement("button",{className:"close-modal",onClick:()=>l(!1)},"×"),a.createElement(te,{route:c,onClose:()=>l(!1),onSubmit:()=>{w(),l(!1)}}))),s&&c&&a.createElement("div",{className:"modal-overlay"},a.createElement("div",{className:"modal-content"},a.createElement("button",{className:"close-modal",onClick:()=>i(!1)},"×"),a.createElement(F,{item:c,type:"routes",onClose:()=>i(!1)}))))};var le=t(246),se={};se.styleTagTransform=h(),se.setAttributes=d(),se.insert=u().bind(null,"head"),se.domAPI=i(),se.insertStyleElement=p(),l()(le.A,se),le.A&&le.A.locals&&le.A.locals;const ie=e=>{let{listeningToSink:n,visualizingSink:t,sinkIp:r}=e;const o=(0,a.useRef)(null);return(0,a.useEffect)((()=>{const e=o.current;if(e)return e.width=window.innerWidth,e.height=window.innerHeight,window.canvasClick=()=>{},window.canvasOnKeyDown=e=>{},window.addEventListener("resize",(()=>{e.width=window.innerWidth,e.height=window.innerHeight})),e.addEventListener("click",window.canvasClick),document.addEventListener("keydown",window.canvasOnKeyDown),()=>{window.removeEventListener("resize",(()=>{e.width=window.innerWidth,e.height=window.innerHeight})),e.removeEventListener("click",window.canvasClick),document.removeEventListener("keydown",window.canvasOnKeyDown)}}),[]),(0,a.useEffect)((()=>(r?window.startVisualizer(r):window.stopVisualizer(),()=>{window.stopVisualizer()})),[r]),a.createElement("div",{className:"audio-visualizer"},a.createElement("canvas",{ref:o,id:"canvas"}))};var ce=t(626),ue={};ue.styleTagTransform=h(),ue.setAttributes=d(),ue.insert=u().bind(null,"head"),ue.domAPI=i(),ue.insertStyleElement=p(),l()(ce.A,ue),ce.A&&ce.A.locals&&ce.A.locals;const me=()=>{const{listeningToSink:e,visualizingSink:n,onListenToSink:t,onVisualizeSink:r}=C();return a.createElement(f.Kd,{basename:"/site"},a.createElement(R,null,a.createElement(S.BV,null,a.createElement(S.qh,{index:!0,element:a.createElement(H,null)}),a.createElement(S.qh,{path:"sources",element:a.createElement(X,null)}),a.createElement(S.qh,{path:"sinks",element:a.createElement(ne,null)}),a.createElement(S.qh,{path:"routes",element:a.createElement(oe,null)}))),a.createElement(ie,{listeningToSink:e?.name||null,visualizingSink:n?.name||null,sinkIp:n?.ip||e?.ip||null}))},de=()=>a.createElement(N,null,a.createElement(me,null)),ge=document.getElementById("root");var pe;ge&&(0,r.H)(ge).render(a.createElement(a.StrictMode,null,a.createElement(de,null))),pe&&pe instanceof Function&&t.e(364).then(t.bind(t,364)).then((e=>{let{getCLS:n,getFID:t,getFCP:a,getLCP:r,getTTFB:o}=e;n(pe),t(pe),a(pe),r(pe),o(pe)}))},626:(e,n,t)=>{t.d(n,{A:()=>d});var a=t(601),r=t.n(a),o=t(314),l=t.n(o),s=t(417),i=t.n(s),c=new URL(t(445),t.b),u=l()(r()),m=i()(c);u.push([e.id,`/* Global styles */\nbody {\n  font-family: 'Roboto', sans-serif;\n  line-height: 1.6;\n  color: #333;\n  background-color: #f4f4f4;\n  margin: 0;\n  padding: 0;\n}\n\n/* Utility classes */\n.container {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 0 15px;\n}\n\n/* Buttons */\n.btn {\n  display: inline-block;\n  background: #3498db;\n  color: #fff;\n  padding: 0.5rem 1rem;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 1rem;\n  transition: background-color 0.3s ease;\n}\n\n.btn:hover {\n  background: #2980b9;\n}\n\n.btn-danger {\n  background: #e74c3c;\n}\n\n.btn-danger:hover {\n  background: #c0392b;\n}\n\n/* Form elements */\ninput[type="text"],\ninput[type="number"],\nselect {\n  width: 100%;\n  padding: 0.5rem;\n  margin-bottom: 1rem;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n}\n\n/* Tables */\ntable {\n  width: 100%;\n  border-collapse: collapse;\n  margin-bottom: 1rem;\n}\n\nth, td {\n  text-align: left;\n  padding: 0.75rem;\n  border-bottom: 1px solid #ddd;\n}\n\nth {\n  background-color: #f2f2f2;\n  font-weight: bold;\n}\n\n/* Modal styles */\n.modal-backdrop {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n}\n\n.modal-content {\n  background-color: #fff;\n  padding: 2rem;\n  border-radius: 8px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n  width: auto;\n  max-width: 100%;\n}\n\n/* Responsive design */\n@media (max-width: 768px) {\n  .container {\n    padding: 0 10px;\n  }\n\n  table {\n    font-size: 0.9rem;\n  }\n\n  th, td {\n    padding: 0.5rem;\n  }\n}\n\n/* Animations */\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n.fade-in {\n  animation: fadeIn 0.3s ease-in;\n}\n\n/* Error message */\n.error-message {\n  background-color: #f8d7da;\n  color: #721c24;\n  padding: 0.75rem;\n  margin-bottom: 1rem;\n  border: 1px solid #f5c6cb;\n  border-radius: 4px;\n}\n\n/* Success message */\n.success-message {\n  background-color: #d4edda;\n  color: #155724;\n  padding: 0.75rem;\n  margin-bottom: 1rem;\n  border: 1px solid #c3e6cb;\n  border-radius: 4px;\n}\n\n/* Enabled/Disabled buttons */\n/*.enabled {\n  background-color: #2ecc71;\n}\n\n.disabled {\n  background-color: #e74c3c;\n}*/\n\n/* Volume slider */\ninput[type="range"] {\n  -webkit-appearance: none;\n  appearance: none;\n  width: 100%;\n  height: 8px;\n  border-radius: 5px;\n  background: #d3d3d3;\n  outline: none;\n  opacity: 0.7;\n  transition: opacity .2s;\n}\n\ninput[type="range"]:hover {\n  opacity: 1;\n}\n\ninput[type="range"]::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  appearance: none;\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  background: #3498db;\n  cursor: pointer;\n}\n\ninput[type="range"]::-moz-range-thumb {\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  background: #3498db;\n  cursor: pointer;\n}\n\n/* Visualizer styles */\n.visualizer-container {\n  margin-top: 20px;\n  padding: 20px;\n  background-color: #f0f0f0;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.visualizer-container h3 {\n  margin-bottom: 10px;\n  color: #333;\n}\n\n.visualizer-container canvas {\n  width: 100%;\n  height: auto;\n  border-radius: 4px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n/* Button styles */\nbutton {\n  padding: 8px 16px;\n  margin: 4px;\n  border: none;\n  border-radius: 4px;\n  background-color: #3498db;\n  color: white;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n}\n\nbutton:hover {\n  background-color: #2980b9;\n}\n\nbutton.delete-button {\n  background-color: #e74c3c;\n}\n\nbutton.delete-button:hover {\n  background-color: #c0392b;\n}\n\nbutton.listening {\n  background-color: #2ecc71;\n}\n\nbutton.listening:hover {\n  background-color: #27ae60;\n}\n\n/* Music-related design elements */\n.music-icon::before {\n  content: '♪';\n  margin-right: 5px;\n}\n\n/* Subtle green accents */\n.dashboard-item {\n  border-left: 4px solid #2ecc71;\n}\n\n.favorite-section h3,\n.active-source-section h3 {\n  color: #27ae60;\n}\n\n/* Improved flow and feel */\n.dashboard-content {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 20px;\n}\n\n.sources-column,\n.sinks-column {\n  flex: 1;\n  min-width: 300px;\n}\n\n/* Waveform background */\n.waveform-background {\n  position: relative;\n}\n\n.waveform-background::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-image: url(${m});\n  background-repeat: repeat-x;\n  background-size: 100px 50px;\n  opacity: 0.1;\n  z-index: -1;\n}\n\n/* Table hover effect */\ntr:hover {\n  background-color: #f5f5f5;\n  transition: background-color 0.3s ease;\n}\n`,""]);const d=u},246:(e,n,t)=>{t.d(n,{A:()=>s});var a=t(601),r=t.n(a),o=t(314),l=t.n(o)()(r());l.push([e.id,"/* This file is no longer used and can be safely deleted. */",""]);const s=l},12:(e,n,t)=>{t.d(n,{A:()=>s});var a=t(601),r=t.n(a),o=t(314),l=t.n(o)()(r());l.push([e.id,'.dashboard {\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n  background-color: #f0f8f1;\n}\n\n.dashboard-header {\n  background-color: #2c3e50;\n  color: white;\n  padding: 1rem 2rem;\n  text-align: center;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.dashboard-title {\n  font-size: 2rem;\n  margin: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.music-note {\n  color: #2ecc71;\n  margin: 0 10px;\n  font-size: 1.5rem;\n}\n\n.dashboard-nav {\n  background-color: #34495e;\n  padding: 1rem;\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n}\n\n.dashboard-nav button {\n  background-color: #2ecc71;\n  color: white;\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 0.9rem;\n  transition: all 0.3s ease;\n}\n\n.dashboard-nav button:hover {\n  background-color: #27ae60;\n  transform: translateY(-2px);\n}\n\n.dashboard-content {\n  flex: 1;\n  padding: 2rem;\n  display: flex;\n  flex-direction: column;\n  gap: 2rem;\n}\n\n.dashboard-sections {\n  display: flex;\n  gap: 2rem;\n}\n\n.left-column,\n.right-column {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 2rem;\n}\n\n.favorite-section,\n.active-sources,\n.active-sinks,\n.active-routes,\n.active-source-section {\n  background-color: white;\n  border-radius: 8px;\n  padding: 1.5rem;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\nh2, h3 {\n  color: #2c3e50;\n  font-size: 1.5rem;\n  margin-bottom: 1rem;\n  display: flex;\n  align-items: center;\n}\n\nh2 i, h3 i {\n  margin-right: 0.5rem;\n  color: #2ecc71;\n}\n\ntable {\n  width: 100%;\n  border-collapse: separate;\n  border-spacing: 0;\n}\n\nth, td {\n  padding: 0.75rem;\n  text-align: left;\n  border-bottom: 1px solid #e0e0e0;\n}\n\nth {\n  background-color: #f2f2f2;\n  font-weight: bold;\n  color: #2c3e50;\n}\n\ntr:hover {\n  background-color: #f5f5f5;\n}\n\na {\n  color: #3498db;\n  text-decoration: none;\n  transition: color 0.3s ease;\n}\n\na:hover {\n  color: #2980b9;\n}\n\n.subtext {\n  font-size: 0.9rem;\n  color: #7f8c8d;\n  margin-top: 0.25rem;\n}\n\nbutton {\n  background-color: #3498db;\n  color: white;\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 0.9rem;\n  transition: all 0.3s ease;\n  margin-right: 0.5rem;\n}\n\nbutton:hover {\n  background-color: #2980b9;\n  transform: translateY(-2px);\n}\n\nbutton.enabled {\n  background-color: #2ecc71;\n}\n\nbutton.disabled {\n  background-color: #e74c3c;\n}\n\ninput[type="range"] {\n  width: 100px;\n  margin: 0 0.5rem;\n  vertical-align: middle;\n}\n\n.error-message {\n  background-color: #f8d7da;\n  color: #721c24;\n  padding: 1rem;\n  border-radius: 4px;\n  margin-bottom: 1rem;\n}\n\n.connection-renderer-container {\n  position: relative;\n  height: 300px;\n  margin-top: 2rem;\n}\n\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n}\n\n.modal-content {\n  background-color: white;\n  padding: 2rem;\n  border-radius: 8px;\n  /*max-width: 80%;*/\n  /*max-height: 80%;*/\n  overflow: auto;\n  position: relative;\n}\n\n.close-modal {\n  position: absolute;\n  top: 1rem;\n  right: 1rem;\n  font-size: 1.5rem;\n  background: none;\n  border: none;\n  cursor: pointer;\n  color: #333;\n  transition: color 0.3s ease;\n}\n\n.close-modal:hover {\n  color: #e74c3c;\n}\n\n@keyframes flash {\n  0%, 100% { background-color: transparent; }\n  50% { background-color: #2ecc71; }\n}\n\n.flash {\n  animation: flash 1s;\n}\n\n@media (max-width: 1200px) {\n  .dashboard-sections {\n    flex-direction: column;\n  }\n\n  .left-column,\n  .right-column {\n    width: 100%;\n  }\n}\n\n@media (max-width: 768px) {\n  .dashboard-content {\n    padding: 1rem;\n  }\n\n  .dashboard-title {\n    font-size: 1.5rem;\n  }\n\n  .music-note {\n    font-size: 1.2rem;\n  }\n\n  table {\n    font-size: 0.9rem;\n  }\n\n  button {\n    padding: 0.4rem 0.8rem;\n    font-size: 0.8rem;\n  }\n\n  input[type="range"] {\n    width: 80px;\n  }\n  \n  .dashboard-nav {\n    flex-direction: column;\n    align-items: stretch;\n  }\n\n  .dashboard-nav button {\n    width: 100%;\n  }\n}\n\n@media (max-width: 480px) {\n  .dashboard-content {\n    padding: 0.5rem;\n  }\n\n  table {\n    font-size: 0.8rem;\n  }\n\n  th, td {\n    padding: 0.5rem;\n  }\n\n  button {\n    padding: 0.3rem 0.6rem;\n    font-size: 0.7rem;\n    margin-right: 0.2rem;\n  }\n\n  input[type="range"] {\n    width: 60px;\n  }\n}',""]);const s=l},736:(e,n,t)=>{t.d(n,{A:()=>s});var a=t(601),r=t.n(a),o=t(314),l=t.n(o)()(r());l.push([e.id,":root {\n  --primary-color: #2ecc71;\n  --secondary-color: #27ae60;\n  --background-color: #f0f8f1;\n  --text-color: #2c3e50;\n  --slider-height: 200px;\n  --slider-width: 30px;\n}\n\n.equalizer-container {\n  background-color: var(--background-color);\n  border-radius: 15px;\n  padding: 30px;\n  box-shadow: 0 8px 16px rgba(46, 204, 113, 0.1);\n  max-width: 1000px;\n  margin: 0 auto;\n  position: relative;\n  overflow: hidden;\n}\n\n\n.equalizer-title {\n  color: var(--text-color);\n  font-size: 2rem;\n  margin-bottom: 30px;\n  text-align: center;\n  position: relative;\n  z-index: 1;\n}\n\n.music-note {\n  color: var(--primary-color);\n  font-size: 1.5rem;\n  margin: 0 10px;\n}\n\n.equalizer-graph {\n  margin-bottom: 20px;\n  background-color: #1e1e1e;\n  border-radius: 10px;\n  padding: 10px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.equalizer-graph canvas {\n  width: 100%;\n  height: auto;\n}\n\n.equalizer-sliders {\n  display: flex;\n  justify-content: space-between;\n  gap: 5px;\n  margin-bottom: 30px;\n  position: relative;\n  z-index: 1;\n}\n\n.equalizer-band {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: var(--slider-width);\n}\n\n.vertical-slider {\n  margin-top: 40px;\n  margin-bottom: 40px;\n  -webkit-appearance: none;\n  appearance: none;\n  min-width: 100px;\n  height: 4px;\n  background: var(--secondary-color);\n  outline: none;\n  transform: rotate(-90deg);\n  transform-origin: 50% 50%;\n  margin: calc(var(--slider-height) / 2 - var(--slider-width) / 2) 0;\n  position: relative;\n  margin-top: 50px !important;\n  margin-bottom: 50px !important;\n}\n\n.vertical-slider::before {\n  content: '';\n  position: absolute;\n  top: -8px;\n  left: 0;\n  right: 0;\n  bottom: -8px;\n  background: linear-gradient(to right, rgba(46, 204, 113, 0.1), rgba(46, 204, 113, 0.3));\n  border-radius: 10px;\n}\n\n.vertical-slider::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  appearance: none;\n  width: 20px;\n  height: 20px;\n  background: var(--primary-color);\n  cursor: pointer;\n  border-radius: 50%;\n  box-shadow: 0 0 10px rgba(46, 204, 113, 0.5);\n  transition: all 0.3s ease;\n}\n\n.vertical-slider::-moz-range-thumb {\n  width: 20px;\n  height: 20px;\n  background: var(--primary-color);\n  cursor: pointer;\n  border-radius: 50%;\n  box-shadow: 0 0 10px rgba(46, 204, 113, 0.5);\n  transition: all 0.3s ease;\n  border: none;\n}\n\n.vertical-slider::-webkit-slider-thumb:hover,\n.vertical-slider::-moz-range-thumb:hover {\n  transform: scale(1.2);\n  box-shadow: 0 0 15px rgba(46, 204, 113, 0.7);\n}\n\n.slider-info {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 10px;\n}\n\n.equalizer-band label {\n  font-size: 0.8rem;\n  color: var(--text-color);\n  margin-bottom: 5px;\n  transform: rotate(-45deg);\n}\n\n.slider-value {\n  font-size: 0.9rem;\n  color: var(--primary-color);\n  font-weight: bold;\n}\n\n.equalizer-buttons {\n  display: flex;\n  justify-content: center;\n  gap: 20px;\n  margin-top: 30px;\n  position: relative;\n  z-index: 1;\n}\n\n.equalizer-buttons button {\n  padding: 12px 24px;\n  font-size: 1rem;\n  cursor: pointer;\n  border: none;\n  border-radius: 25px;\n  transition: all 0.3s ease;\n  text-transform: uppercase;\n  letter-spacing: 1px;\n  font-weight: bold;\n}\n\n.apply-button {\n  background-color: var(--primary-color);\n  color: white;\n}\n\n.default-button {\n  background-color: var(--secondary-color);\n  color: white;\n}\n\n.close-button {\n  background-color: var(--text-color);\n  color: white;\n}\n\n.equalizer-buttons button:hover {\n  opacity: 0.9;\n  transform: translateY(-3px);\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n}\n\n.equalizer-buttons button:active {\n  transform: translateY(-1px);\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n}\n\n@media (max-width: 768px) {\n  .equalizer-sliders {\n    flex-wrap: wrap;\n    justify-content: center;\n  }\n\n  .equalizer-band {\n    margin-bottom: 20px;\n  }\n\n  .equalizer-buttons {\n    flex-direction: column;\n    align-items: center;\n  }\n\n  .equalizer-buttons button {\n    width: 100%;\n    max-width: 200px;\n    margin-bottom: 10px;\n  }\n}\n\n@media (max-width: 480px) {\n  :root {\n    --slider-height: 150px;\n    --slider-width: 25px;\n  }\n\n  .equalizer-title {\n    font-size: 1.5rem;\n  }\n\n  .music-note {\n    font-size: 1.2rem;\n  }\n}\n\n@keyframes pulse {\n  0% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.05);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n\n.equalizer-band:hover .vertical-slider::-webkit-slider-thumb,\n.equalizer-band:hover .vertical-slider::-moz-range-thumb {\n  animation: pulse 1s infinite;\n}\n\n.hz-label {\n    width: 100%;\n    text-align: center;\n    margin-top: -25px;\n}",""]);const s=l},272:(e,n,t)=>{t.d(n,{A:()=>d});var a=t(601),r=t.n(a),o=t(314),l=t.n(o),s=t(417),i=t.n(s),c=new URL(t(445),t.b),u=l()(r()),m=i()(c);u.push([e.id,`.layout {\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n  background-color: #f9f9f9;\n}\n\nheader {\n  background-color: #2c3e50;\n  color: white;\n  padding: 1rem 2rem;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\nheader h1 {\n  margin: 0;\n  font-size: 2rem;\n  display: flex;\n  align-items: center;\n}\n\nheader h1::before {\n  content: '♪';\n  margin-right: 10px;\n  color: #2ecc71;\n}\n\nnav {\n  margin-top: 1rem;\n}\n\nnav ul {\n  list-style-type: none;\n  padding: 0;\n  display: flex;\n  gap: 1.5rem;\n}\n\nnav ul li a {\n  color: white;\n  text-decoration: none;\n  font-size: 1.1rem;\n  padding: 0.5rem 1rem;\n  border-radius: 4px;\n  transition: background-color 0.3s ease, color 0.3s ease;\n}\n\nnav ul li a:hover {\n  background-color: #34495e;\n  color: #2ecc71;\n}\n\nmain {\n  flex-grow: 1;\n  padding: 2rem;\n  position: relative;\n  overflow: hidden;\n}\n\nmain::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-image: url(${m});\n  background-repeat: repeat;\n  background-size: 100px 50px;\n  opacity: 0.05;\n  z-index: -1;\n}\n\nfooter {\n  background-color: #2c3e50;\n  color: white;\n  text-align: center;\n  padding: 1rem;\n  margin-top: auto;\n}\n\n/* Responsive design */\n@media (max-width: 768px) {\n  header {\n    padding: 1rem;\n  }\n\n  nav ul {\n    flex-direction: column;\n    gap: 0.5rem;\n  }\n\n  nav ul li a {\n    display: block;\n    padding: 0.5rem;\n  }\n}\n\niframe#vnc-iframe {\n  border: 0px;\n  margin: 0px;\n  padding: 0px;\n  padding-bottom: 15px;\n  width: 100%;\n  height: 600px;\n  border-radius: 8px;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n}\n\n/* Animations */\n@keyframes fadeIn {\n  from { opacity: 0; }\n  to { opacity: 1; }\n}\n\n.fade-in {\n  animation: fadeIn 0.3s ease-in;\n}\n\n@keyframes slideIn {\n  from { transform: translateY(-20px); opacity: 0; }\n  to { transform: translateY(0); opacity: 1; }\n}\n\n.slide-in {\n  animation: slideIn 0.3s ease-out;\n}\n\n/* Additional styles for better visual hierarchy */\nh2, h3, h4 {\n  color: #2c3e50;\n  margin-top: 1.5rem;\n  margin-bottom: 1rem;\n}\n\nh2 {\n  font-size: 1.8rem;\n  border-bottom: 2px solid #2ecc71;\n  padding-bottom: 0.5rem;\n}\n\nh3 {\n  font-size: 1.5rem;\n}\n\nh4 {\n  font-size: 1.2rem;\n}\n\n/* Button styles */\nbutton {\n  background-color: #3498db;\n  color: white;\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: background-color 0.3s ease, transform 0.1s ease;\n}\n\nbutton:hover {\n  background-color: #2980b9;\n  transform: translateY(-2px);\n}\n\nbutton:active {\n  transform: translateY(0);\n}\n\n/* Form styles */\ninput[type="text"],\ninput[type="number"],\nselect {\n  width: 100%;\n  padding: 0.5rem;\n  margin-bottom: 1rem;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 1rem;\n}\n\n/* Table styles */\ntable {\n  width: 100%;\n  border-collapse: separate;\n  border-spacing: 0 8px;\n  margin-bottom: 1rem;\n}\n\nth, td {\n  padding: 0.75rem;\n  text-align: left;\n  border-bottom: 1px solid #ddd;\n}\n\nth {\n  background-color: #f2f2f2;\n  font-weight: bold;\n  color: #2c3e50;\n}\n\ntr:hover {\n  background-color: #f5f5f5;\n  transition: background-color 0.3s ease;\n}\n\n/* Card-like container */\n.card {\n  background-color: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  padding: 1.5rem;\n  margin-bottom: 1.5rem;\n}\n\n/* Utility classes */\n.text-center {\n  text-align: center;\n}\n\n.mb-1 {\n  margin-bottom: 0.5rem;\n}\n\n.mb-2 {\n  margin-bottom: 1rem;\n}\n\n.mt-1 {\n  margin-top: 0.5rem;\n}\n\n.mt-2 {\n  margin-top: 1rem;\n}\n`,""]);const d=u},208:(e,n,t)=>{t.d(n,{A:()=>s});var a=t(601),r=t.n(a),o=t(314),l=t.n(o)()(r());l.push([e.id,'body {\n  font-family: Arial, sans-serif;\n  margin: 0;\n  padding: 0;\n  background-color: #f0f0f0;\n}\n\n.layout {\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n}\n\nheader {\n  background-color: #333;\n  color: white;\n  padding: 1rem;\n}\n\nheader h1 {\n  margin: 0;\n}\n\nnav ul {\n  list-style-type: none;\n  padding: 0;\n}\n\nnav ul li {\n  display: inline;\n  margin-right: 1rem;\n}\n\nnav ul li a {\n  color: white;\n  text-decoration: none;\n}\n\nmain {\n  flex: 1;\n  padding: 2rem;\n}\n\nfooter {\n  background-color: #333;\n  color: white;\n  text-align: center;\n  padding: 1rem;\n}\n\n.dashboard-summary {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 2rem;\n}\n\n.summary-card {\n  background-color: white;\n  border-radius: 4px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  padding: 1rem;\n  flex: 1;\n  margin: 0 1rem;\n}\n\ntable {\n  width: 100%;\n  border-collapse: collapse;\n  margin-top: 1rem;\n}\n\nth, td {\n  text-align: left;\n  padding: 0.5rem;\n  border-bottom: 1px solid #ddd;\n}\n\nth {\n  background-color: #f2f2f2;\n}\n\nbutton {\n  background-color: #4CAF50;\n  border: none;\n  color: white;\n  padding: 0.5rem 1rem;\n  text-align: center;\n  text-decoration: none;\n  display: inline-block;\n  font-size: 14px;\n  margin: 4px 2px;\n  cursor: pointer;\n  border-radius: 4px;\n}\n\nbutton.edit-button {\n  background-color: #008CBA;\n}\n\nbutton.delete-button {\n  background-color: #f44336;\n}\n\nbutton.enabled {\n  background-color: #4CAF50;\n}\n\nbutton.disabled {\n  background-color: #ccc;\n}\n\n.add-button {\n  margin-bottom: 1rem;\n}\n\n@keyframes flash {\n  0%, 100% { background-color: transparent; }\n  50% { background-color: rgba(255, 255, 0, 0.5); }\n}\n\n.flash {\n  animation: flash 1s;\n}\n\ntd a {\n  color: inherit;\n  text-decoration: none;\n  cursor: pointer;\n}\n\ntd a:hover {\n  text-decoration: underline;\n}\n\n.route-details, .source-routes, .sink-routes {\n  font-size: 0.8em;\n  color: #666;\n  margin-top: 0.25rem;\n}\n\n.route-list {\n  margin-bottom: 0.25rem;\n}\n\n.route-list.disabled {\n  color: #999;\n}\n\n.route-list-label {\n  font-weight: bold;\n  margin-right: 0.5rem;\n}\n\n.expand-details, .expand-routes, .collapse-routes {\n  background: none;\n  border: none;\n  color: #008CBA;\n  padding: 0;\n  font-size: 0.8em;\n  cursor: pointer;\n  margin-left: 0.25rem;\n}\n\n.expand-details:hover, .expand-routes:hover, .collapse-routes:hover {\n  text-decoration: underline;\n}\n\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n}\n\n.modal-content {\n  background-color: white;\n  padding: 2rem;\n  border-radius: 4px;\n  /*max-width: 80%;\n  max-height: 80%;*/\n  overflow-y: auto;\n  position: relative;\n}\n\n.close-modal {\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  font-size: 24px;\n  background: none;\n  border: none;\n  cursor: pointer;\n  color: black;\n  padding: 5px;\n}\n\n.sources-table-container,\n.sinks-table-container,\n.routes-table-container {\n  overflow-x: auto;\n}\n\n.source-name, .sink-name, .route-name {\n  font-weight: bold;\n}\n\n.route-link {\n  display: inline-block;\n  margin-right: 0.5rem;\n  font-size: 0.8em;\n  color: #008CBA;\n  text-decoration: none;\n}\n\n.route-link:hover {\n  text-decoration: underline;\n}\n\n.route-link.active {\n  font-weight: bold;\n}\n\n.route-link.disabled {\n  color: #999;\n}\n\n.visualizer-container {\n  margin-top: 2rem;\n  border: 1px solid #ddd;\n  padding: 1rem;\n  border-radius: 4px;\n}\n\nbutton.active {\n  background-color: #008CBA;\n}\n\ninput[type="range"] {\n  width: 100%;\n  margin: 0.5rem 0;\n}\n\n.error-message {\n  color: #f44336;\n  margin-bottom: 1rem;\n}\n\n.actions {\n  margin-bottom: 1rem;\n}\n\n.group-members {\n  font-size: 0.8em;\n  color: #666;\n  margin-top: 0.25rem;\n}\n\n.drag-handle {\n  cursor: move;\n  user-select: none;\n  padding: 0 10px;\n  color: #888;\n}\n\n.draggable-row {\n  transition: background-color 0.2s;\n}\n\n.draggable-row:hover {\n  background-color: #f5f5f5;\n}\n\n.draggable-row.dragging {\n  background-color: #e0e0e0;\n  opacity: 0.8;\n}\n\n.drag-over {\n  border-top: 2px solid #4CAF50;\n}\n\n@media (max-width: 768px) {\n  table {\n    font-size: 0.9em;\n  }\n\n  button {\n    padding: 0.4rem 0.8rem;\n    font-size: 12px;\n  }\n\n  \n}\n',""]);const s=l},445:e=>{e.exports='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><path d="M0 50 Q 25 30, 50 50 T 100 50" fill="none" stroke="%232ecc71" stroke-width="2" opacity="0.1"/></svg>'}},l={};function s(e){var n=l[e];if(void 0!==n)return n.exports;var t=l[e]={id:e,exports:{}};return o[e](t,t.exports,s),t.exports}s.m=o,e=[],s.O=(n,t,a,r)=>{if(!t){var o=1/0;for(u=0;u<e.length;u++){t=e[u][0],a=e[u][1],r=e[u][2];for(var l=!0,i=0;i<t.length;i++)(!1&r||o>=r)&&Object.keys(s.O).every((e=>s.O[e](t[i])))?t.splice(i--,1):(l=!1,r<o&&(o=r));if(l){e.splice(u--,1);var c=a();void 0!==c&&(n=c)}}return n}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[t,a,r]},s.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return s.d(n,{a:n}),n},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,s.t=function(e,a){if(1&a&&(e=this(e)),8&a)return e;if("object"==typeof e&&e){if(4&a&&e.__esModule)return e;if(16&a&&"function"==typeof e.then)return e}var r=Object.create(null);s.r(r);var o={};n=n||[null,t({}),t([]),t(t)];for(var l=2&a&&e;"object"==typeof l&&!~n.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((n=>o[n]=()=>e[n]));return o.default=()=>e,s.d(r,o),r},s.d=(e,n)=>{for(var t in n)s.o(n,t)&&!s.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((n,t)=>(s.f[t](e,n),n)),[])),s.u=e=>e+".07f898e2066bda2556a1.js",s.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),a={},r="screamrouter-react:",s.l=(e,n,t,o)=>{if(a[e])a[e].push(n);else{var l,i;if(void 0!==t)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var m=c[u];if(m.getAttribute("src")==e||m.getAttribute("data-webpack")==r+t){l=m;break}}l||(i=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.setAttribute("data-webpack",r+t),l.src=e),a[e]=[n];var d=(n,t)=>{l.onerror=l.onload=null,clearTimeout(g);var r=a[e];if(delete a[e],l.parentNode&&l.parentNode.removeChild(l),r&&r.forEach((e=>e(t))),n)return n(t)},g=setTimeout(d.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=d.bind(null,l.onerror),l.onload=d.bind(null,l.onload),i&&document.head.appendChild(l)}},s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.p="/site/",(()=>{s.b=document.baseURI||self.location.href;var e={792:0};s.f.j=(n,t)=>{var a=s.o(e,n)?e[n]:void 0;if(0!==a)if(a)t.push(a[2]);else{var r=new Promise(((t,r)=>a=e[n]=[t,r]));t.push(a[2]=r);var o=s.p+s.u(n),l=new Error;s.l(o,(t=>{if(s.o(e,n)&&(0!==(a=e[n])&&(e[n]=void 0),a)){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;l.message="Loading chunk "+n+" failed.\n("+r+": "+o+")",l.name="ChunkLoadError",l.type=r,l.request=o,a[1](l)}}),"chunk-"+n,n)}},s.O.j=n=>0===e[n];var n=(n,t)=>{var a,r,o=t[0],l=t[1],i=t[2],c=0;if(o.some((n=>0!==e[n]))){for(a in l)s.o(l,a)&&(s.m[a]=l[a]);if(i)var u=i(s)}for(n&&n(t);c<o.length;c++)r=o[c],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(u)},t=self.webpackChunkscreamrouter_react=self.webpackChunkscreamrouter_react||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})(),s.nc=void 0;var i=s.O(void 0,[791],(()=>s(704)));i=s.O(i)})();