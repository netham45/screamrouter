(()=>{"use strict";var e,n,t,r,a,o={1626:(e,n,t)=>{t.d(n,{A:()=>p});var r=t(1601),a=t.n(r),o=t(6314),l=t.n(o),i=t(4417),s=t.n(i),c=new URL(t(6840),t.b),u=new URL(t(6293),t.b),m=l()(a());m.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap);"]);var d=s()(c),g=s()(u);m.push([e.id,`/* Global styles */\n\nbody {\n  font-family: 'Poppins', sans-serif;\n  line-height: 1.6;\n  color: #333;\n  background-color: #f4f4f4;\n  margin: 0;\n  padding: 0;\n  overflow-x: hidden;\n  background: transparent !important;\n}\n\n@keyframes gradientBG {\n  0% { background-position: 0% 50%; }\n  50% { background-position: 100% 50%; }\n  100% { background-position: 0% 50%; }\n}\n\n/* Utility classes */\n.container {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 0 15px;\n}\n\n/* Music-themed elements */\n.music-note {\n  display: inline-block;\n  animation: float 3s ease-in-out infinite;\n  margin-right: 5px;\n}\n\n@keyframes float {\n  0% { transform: translateY(0px); }\n  50% { //transform: translateY(-10px); }\n  100% { transform: translateY(0px); }\n}\n\n.music-wave {\n  position: relative;\n  overflow: hidden;\n}\n\n.music-wave::after {\n  content: '';\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: -5px;\n  height: 10px;\n  background: url(${d});\n  background-size: cover;\n  z-index: -1;\n}\n\n/* Angled Cards & Containers */\n.angled-card {\n  transform: skewX(-5deg);\n  transition: all 0.3s ease;\n}\n\n.angled-card > * {\n  transform: skewX(5deg); /* Counter skew for content */\n}\n\n.angled-card:hover {\n  transform: skewX(-5deg) translateY(-5px);\n  no-box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);\n}\n\n/* Buttons with dynamic angles */\n.btn {\n  display: inline-block;\n  background: linear-gradient(45deg, #3498db, #9b59b6);\n  color: #fff;\n  padding: 0.5rem 1.2rem;\n  border: none;\n  border-radius: 25px;\n  cursor: pointer;\n  font-size: 1rem;\n  font-weight: 500;\n  transition: all 0.3s ease;\n  position: relative;\n  overflow: hidden;\n  z-index: 1;\n  no-box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n}\n\n.btn::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(45deg, #9b59b6, #3498db);\n  z-index: -1;\n  transition: opacity 0.3s ease;\n  opacity: 0;\n}\n\n.btn:hover {\n  //transform: translateY(-3px);\n  no-box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);\n}\n\n.btn:hover::after {\n  opacity: 1;\n}\n\n.btn-danger {\n  background: linear-gradient(45deg, #e74c3c, #c0392b);\n}\n\n.btn-danger:hover {\n  background: linear-gradient(45deg, #c0392b, #e74c3c);\n}\n\n/* Dynamic action buttons */\n.action-btn {\n  position: relative;\n  padding: 0.8rem 1.5rem;\n  border-radius: 50px;\n  background: linear-gradient(45deg, #9B59B6, #3498db);\n  color: white;\n  border: none;\n  font-weight: 500;\n  cursor: pointer;\n  no-box-shadow: 0 4px 10px rgba(0,0,0,0.1);\n  transition: all 0.3s ease;\n  overflow: hidden;\n}\n\n.action-btn::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);\n  transition: all 0.5s ease;\n}\n\n.action-btn:hover {\n  //transform: translateY(-3px);\n  no-box-shadow: 0 6px 15px rgba(0,0,0,0.2);\n}\n\n.action-btn:hover::before {\n  left: 100%;\n}\n\n/* Form elements */\ninput[type="text"],\ninput[type="number"],\nselect {\n  width: 100%;\n  padding: 0.8rem 1rem;\n  margin-bottom: 1rem;\n  border: 2px solid #e0e0e0;\n  border-radius: 8px;\n  font-family: 'Poppins', sans-serif;\n  font-size: 0.95rem;\n  transition: all 0.3s ease;\n  background-color: rgba(255, 255, 255, 0.8);\n}\n\ninput[type="text"]:focus,\ninput[type="number"]:focus,\nselect:focus {\n  border-color: #9b59b6;\n  no-box-shadow: 0 0 0 3px rgba(155, 89, 182, 0.2);\n  outline: none;\n}\n\n/* Tables */\ntable {\n  width: 100%;\n  border-collapse: collapse;\n  margin-bottom: 1rem;\n  border-radius: 12px;\n  overflow: hidden;\n  no-box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\n}\n\nth, td {\n  text-align: left;\n  padding: 1rem;\n  border-bottom: 1px solid #eee;\n}\n\nth {\n  background: linear-gradient(45deg, rgba(155, 89, 182, 0.2), rgba(52, 152, 219, 0.2));\n  font-weight: 600;\n  color: #333;\n}\n\ntr:nth-child(even) {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\ntr:hover {\n  background-color: rgba(155, 89, 182, 0.05);\n  transition: background-color 0.3s ease;\n}\n\n/* Modal styles */\n.modal-backdrop {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.6);\n  backdrop-filter: blur(5px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n}\n\n.modal-content {\n  background-color: #fff;\n  padding: 2rem;\n  border-radius: 16px;\n  no-box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);\n  width: auto;\n  max-width: 90%;\n  transform: translateY(20px);\n  animation: modalFadeIn 0.4s forwards;\n  position: relative;\n  overflow: hidden;\n}\n\n.modal-content::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 6px;\n  background: linear-gradient(90deg, #9b59b6, #3498db);\n}\n\n@keyframes modalFadeIn {\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n/* Responsive design */\n@media (max-width: 768px) {\n  .container {\n    padding: 0 10px;\n  }\n  \n  table {\n    font-size: 0.9rem;\n  }\n  \n  th, td {\n    padding: 0.5rem;\n  }\n}\n\n/* Animations */\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.fade-in {\n  animation: fadeIn 0.4s ease-out;\n}\n\n/* Pulse animation for active items */\n@keyframes pulse {\n  0% { transform: scale(1); }\n  50% { transform: scale(1.05); }\n  100% { transform: scale(1); }\n}\n\n.pulse {\n  animation: pulse 2s infinite;\n}\n\n/* Error message */\n.error-message {\n  background: linear-gradient(45deg, #ff7675, #e74c3c);\n  color: white;\n  padding: 1rem;\n  margin-bottom: 1rem;\n  border-radius: 8px;\n  font-weight: 500;\n  no-box-shadow: 0 4px 10px rgba(231, 76, 60, 0.3);\n  transform: translateX(-5px);\n}\n\n/* Success message */\n.success-message {\n  background: linear-gradient(45deg, #55efc4, #00b894);\n  color: white;\n  padding: 1rem;\n  margin-bottom: 1rem;\n  border-radius: 8px;\n  font-weight: 500;\n  no-box-shadow: 0 4px 10px rgba(0, 184, 148, 0.3);\n  transform: translateX(-5px);\n}\n\n/* Volume slider */\ninput[type="range"] {\n  -webkit-appearance: none;\n  appearance: none;\n  width: 100%;\n  height: 8px;\n  border-radius: 25px;\n  background: linear-gradient(90deg, #9b59b6, #3498db);\n  outline: none;\n  opacity: 0.8;\n  transition: opacity .2s, transform 0.3s;\n}\n\ninput[type="range"]:hover {\n  opacity: 1;\n  transform: scaleY(1.2);\n}\n\ninput[type="range"]::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  appearance: none;\n  width: 22px;\n  height: 22px;\n  border-radius: 50%;\n  background: #fff;\n  no-box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);\n  cursor: pointer;\n  transition: all 0.3s;\n}\n\ninput[type="range"]::-webkit-slider-thumb:hover {\n  no-box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);\n}\n\ninput[type="range"]::-moz-range-thumb {\n  width: 22px;\n  height: 22px;\n  border-radius: 50%;\n  background: #fff;\n  no-box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);\n  cursor: pointer;\n  transition: all 0.3s;\n  border: none;\n}\n\n/* Visualizer styles */\n.visualizer-container {\n  margin-top: 20px;\n  padding: 20px;\n  background: rgba(255, 255, 255, 0.8);\n  border-radius: 16px;\n  no-box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\n  position: relative;\n  overflow: hidden;\n}\n\n.visualizer-container::before {\n  content: '';\n  position: absolute;\n  top: -10px;\n  left: -10px;\n  right: -10px;\n  bottom: -10px;\n  background: linear-gradient(45deg, rgba(155, 89, 182, 0.05), rgba(52, 152, 219, 0.05));\n  z-index: -1;\n  filter: blur(10px);\n}\n\n.visualizer-container h3 {\n  margin-bottom: 15px;\n  color: #9b59b6;\n  font-weight: 600;\n  letter-spacing: 0.5px;\n  display: inline-block;\n  position: relative;\n}\n\n.visualizer-container h3::after {\n  content: '';\n  position: absolute;\n  bottom: -5px;\n  left: 0;\n  width: 50%;\n  height: 3px;\n  background: linear-gradient(90deg, #9b59b6, #3498db);\n}\n\n.visualizer-container canvas {\n  width: 100%;\n  height: auto;\n  border-radius: 8px;\n  no-box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\n  transition: all 0.3s ease;\n}\n\n.visualizer-container canvas:hover {\n  transform: scale(1.02);\n}\n\n/* Button styles */\nbutton {\n  padding: 10px 20px;\n  margin: 5px;\n  border: none;\n  border-radius: 25px;\n  background: linear-gradient(45deg, #3498db, #9b59b6);\n  color: white;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  font-family: 'Poppins', sans-serif;\n  font-weight: 500;\n  position: relative;\n  overflow: hidden;\n  no-box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\n}\n\nbutton::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);\n  transition: all 0.5s ease;\n}\n\nbutton:hover {\n  //transform: translateY(-3px);\n  no-box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);\n}\n\nbutton:hover::after {\n  left: 100%;\n}\n\nbutton.delete-button {\n  background: linear-gradient(45deg, #ff7675, #e74c3c);\n}\n\nbutton.delete-button:hover {\n  background: linear-gradient(45deg, #e74c3c, #ff7675);\n}\n\nbutton.listening {\n  background: linear-gradient(45deg, #00b894, #55efc4);\n}\n\nbutton.listening:hover {\n  background: linear-gradient(45deg, #00b894, #00b894);\n}\n\n/* Music-related design elements */\n.music-icon::before {\n  content: '♪';\n  margin-right: 5px;\n  display: inline-block;\n  animation: bounce 1s infinite alternate;\n}\n\n@keyframes bounce {\n  from { transform: translateY(0); }\n  to { //transform: translateY(-5px); }\n}\n\n/* Angled section borders */\n.dashboard-item {\n  border-left: 4px solid #9b59b6;\n  position: relative;\n  padding-left: 15px;\n}\n\n.dashboard-item::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: -4px;\n  width: 4px;\n  height: 100%;\n  background: linear-gradient(to bottom, #9b59b6, #3498db);\n  transform: skewY(-5deg);\n}\n\n.favorite-section h3,\n.active-source-section h3 {\n  color: #9b59b6;\n  position: relative;\n  display: inline-block;\n}\n\n.favorite-section h3::after,\n.active-source-section h3::after {\n  content: '';\n  position: absolute;\n  bottom: -5px;\n  left: 0;\n  width: 70%;\n  height: 2px;\n  background: linear-gradient(90deg, #9b59b6, #3498db);\n}\n\n/* Improved flow and feel */\n.dashboard-content {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 25px;\n}\n\n.sources-column,\n.sinks-column {\n  flex: 1;\n  min-width: 300px;\n  transition: all 0.3s ease;\n}\n\n.sources-column:hover,\n.sinks-column:hover {\n  //transform: translateY(-5px);\n}\n\n/* Waveform background */\n.waveform-background {\n  position: relative;\n  overflow: hidden;\n}\n\n.waveform-background::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-image: url(${g});\n  background-repeat: repeat-x;\n  background-size: 100% 100%;\n  opacity: 0.3;\n  z-index: -1;\n  animation: wave 10s linear infinite;\n}\n\n@keyframes wave {\n  0% { background-position-x: 0; }\n  100% { background-position-x: 1440px; }\n}\n\n/* Table hover effect */\ntr:hover {\n  background-color: rgba(155, 89, 182, 0.1);\n  transition: background-color 0.3s ease;\n}\n\n/* Favorite sources background color (light mode) */\n.favorite-sources,\n.favorite-sinks,\n.favorite-routes,\n.active-sources,\n.active-sinks,\n.active-routes {\n  background: linear-gradient(165deg, rgba(155, 89, 182, 0.08), rgba(52, 152, 219, 0.08));\n  border: 1px solid rgba(155, 89, 182, 0.2);\n  border-radius: 16px;\n  padding: 1.2rem;\n  margin-bottom: 1.5rem;\n  position: relative;\n  overflow: hidden;\n  no-box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);\n}\n\n.favorite-sources::before,\n.favorite-sinks::before,\n.favorite-routes::before,\n.active-sources::before,\n.active-sinks::before,\n.active-routes::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 5px;\n  background: linear-gradient(90deg, #9b59b6, #3498db);\n}\n\n/* Now playing/active sink section (light mode) */\n.status-section {\n  background: linear-gradient(165deg, rgba(46, 204, 113, 0.1), rgba(52, 152, 219, 0.1));\n  border: 1px solid rgba(46, 204, 113, 0.2);\n  border-radius: 16px;\n  padding: 1.2rem;\n  margin-bottom: 1.5rem;\n  position: relative;\n  overflow: hidden;\n  transform: skewY(-1deg);\n  no-box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);\n}\n\n.status-section > * {\n  transform: skewY(1deg); /* Counter-skew for content */\n}\n\n.collapsible-section {\n  background-color: #fff;\n  border-radius: 16px;\n  margin-bottom: 1.5rem;\n  no-box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\n  overflow: hidden;\n  transition: all 0.3s ease;\n  transform: perspective(500px) rotateX(1deg);\n}\n\n.collapsible-section:hover {\n  transform: perspective(500px) rotateX(0);\n  no-box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);\n}\n\n.section-header {\n  background: linear-gradient(90deg, rgba(155, 89, 182, 0.1), rgba(52, 152, 219, 0.1));\n  padding: 0.7rem 1.2rem;\n  border-bottom: 1px solid rgba(155, 89, 182, 0.1);\n  border-radius: 16px 16px 0 0;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.section-content {\n  padding: 1.2rem;\n}\n\niframe {\n  border: 0px;\n  border-radius: 12px;\n  overflow: hidden;\n  no-box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\n}\n\n/* Equalizer specific styling */\n.equalizer-container {\n  background: linear-gradient(165deg, rgba(155, 89, 182, 0.05), rgba(52, 152, 219, 0.05));\n  border-radius: 16px;\n  no-box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);\n  padding: 1.5rem;\n  position: relative;\n  overflow: hidden;\n}\n\n.equalizer-control {\n  margin-bottom: 1.5rem;\n  position: relative;\n}\n\n.equalizer-slider {\n  height: 150px;\n  margin: 0 8px;\n  position: relative;\n}\n\n.equalizer-slider::before {\n  content: '';\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 2px;\n  background: linear-gradient(90deg, #9b59b6, #3498db);\n  no-box-shadow: 0 0 8px rgba(155, 89, 182, 0.4);\n}\n\n.eq-band-label {\n  font-size: 0.8rem;\n  color: #9b59b6;\n  font-weight: 500;\n  margin-top: 5px;\n  text-align: center;\n}\n\n/* Music player controls */\n.player-controls {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 15px;\n  margin: 1.5rem 0;\n}\n\n.player-controls button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  background: linear-gradient(45deg, #3498db, #9b59b6);\n  color: white;\n  border: none;\n  no-box-shadow: 0 4px 10px rgba(155, 89, 182, 0.3);\n  transition: all 0.3s ease;\n}\n\n.player-controls button:hover {\n  transform: scale(1.1);\n  no-box-shadow: 0 6px 12px rgba(155, 89, 182, 0.4);\n}\n\n.play-button {\n  width: 50px !important;\n  height: 50px !important;\n}\n\n.now-playing-info {\n  padding: 1rem;\n  border-radius: 12px;\n  background: linear-gradient(165deg, rgba(155, 89, 182, 0.05), rgba(52, 152, 219, 0.05));\n  display: flex;\n  align-items: center;\n  margin-bottom: 1rem;\n}\n\n.now-playing-album {\n  width: 60px;\n  height: 60px;\n  border-radius: 8px;\n  background: linear-gradient(45deg, #9b59b6, #3498db);\n  margin-right: 15px;\n  no-box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n  position: relative;\n  overflow: hidden;\n}\n\n.now-playing-album::after {\n  content: '';\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 15px;\n  height: 15px;\n  background: white;\n  border-radius: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.now-playing-track {\n  flex: 1;\n}\n\n.track-name {\n  font-weight: 600;\n  color: #333;\n  margin-bottom: 5px;\n}\n\n.track-artist {\n  font-size: 0.85rem;\n  color: #666;\n}\n\n.progress-bar {\n  height: 6px;\n  border-radius: 3px;\n  background: #e0e0e0;\n  margin: 1rem 0;\n  position: relative;\n  overflow: hidden;\n}\n\n.progress-fill {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  background: linear-gradient(90deg, #9b59b6, #3498db);\n  width: 35%;\n  border-radius: 3px;\n}\n\n\n.chakra-modal__content-container, .chakra-modal__overlay {\n  pointer-events: none;\n}`,""]);const p=m},1897:e=>{e.exports='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320" preserveAspectRatio="none"><path fill="%239b59b6" fill-opacity="0.03" d="M0,224L48,213.3C96,203,192,181,288,181.3C384,181,480,203,576,224C672,245,768,267,864,245.3C960,224,1056,160,1152,149.3C1248,139,1344,181,1392,202.7L1440,224L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path></svg>'},2343:(e,n,t)=>{t.d(n,{A:()=>i});var r=t(1601),a=t.n(r),o=t(6314),l=t.n(o)()(a());l.push([e.id,'/**\n * Dark mode styles for the application.\n */\n\n/**\n * Styles for the body element in dark mode, setting a dark background and light text color.\n */\nbody.dark-mode {\n  background-color: #1a1a1a;\n  color: #f0f0f0;\n}\n\n/**\n * Styles for the layout container in dark mode, maintaining a consistent dark background.\n */\n.dark-mode .layout {\n  background-color: #1a1a1a;\n}\n\n/**\n * Styles for the header element in dark mode, using a darker shade of blue and light text color.\n */\n.dark-mode header {\n  background-color: #2c3e50;\n}\n\n/**\n * Hover styles for navigation links in dark mode, changing background to a lighter blue and text to green.\n */\n.dark-mode nav ul li a:hover {\n  background-color: #34495e;\n  color: #2ecc71;\n}\n\n/**\n * Styles for the main content pseudo-element in dark mode, adding a subtle overlay effect.\n */\n.dark-mode main::before {\n  opacity: 0.02;\n}\n\n/**\n * Styles for the footer element in dark mode, using a darker shade of blue and light text color.\n */\n.dark-mode footer {\n  background-color: #2c3e50;\n}\n\n/**\n * Adjust colors for better contrast in status sections, using a darker background with lighter borders and text.\n */\n.dark-mode .status-section {\n  background-color: #14293e;\n  border: 1px solid #2c3e50;\n  border-radius: 8px;\n  padding: 1rem;\n  margin-bottom: 1rem;\n}\n\n/**\n * Styles for collapsible sections in dark mode, using a darker shade of blue and light text color.\n */\n.dark-mode .collapsible-section {\n  background-color: #2c3e50;\n  border: 1px solid #34495e;\n  border-radius: 8px;\n  margin-bottom: 1rem;\n}\n\n/**\n * Styles for section headers in dark mode, using a lighter shade of blue and light text color.\n */\n.dark-mode .section-header {\n  background-color: #34495e;\n  padding: 0.5rem 1rem;\n  border-bottom: 1px solid #4a4a4a;\n  border-radius: 8px 8px 0 0;\n}\n\n/**\n * Styles for section content in dark mode, maintaining a consistent background color and light text.\n */\n.dark-mode .section-content {\n  background-color: #2c3e50;\n  padding: 1rem;\n}\n\n/**\n * Styles for section header titles in dark mode, using green text for emphasis.\n */\n.dark-mode .section-header h3 {\n  color: #2ecc71;\n}\n\n/**\n * Styles for section subtitles in dark mode, using a lighter gray text color.\n */\n.dark-mode .section-subtitle {\n  color: #bdc3c7;\n}\n\n/**\n * Styles for expand toggle buttons in dark mode, using blue text for visibility.\n */\n.dark-mode .expand-toggle {\n  color: #3498db;\n}\n\n/**\n * Styles for paragraphs in Primary Source and now playing sections in dark mode, ensuring light text color.\n */\n.dark-mode .active-source-section p,\n.dark-mode .now-playing-section p {\n  color: #ecf0f1;\n}\n\n/**\n * Styles for buttons in dark mode, using blue background with white text for contrast.\n */\n.dark-mode button {\n  background-color: #3498db;\n  color: #f0f0f0;\n}\n\n/**\n * Styles for disabled buttons in dark mode, changing background to a darker orange and maintaining white text.\n */\n.dark-mode button.disabled {\n    background-color: #9b5814;\n    color: #f0f0f0;\n}\n\n/**\n * Styles for enabled buttons in dark mode, using green background with white text for emphasis.\n */\n.dark-mode button.enabled {\n    background-color: #149b58;\n    color: #f0f0f0;\n}\n\n/**\n * Hover styles for buttons in dark mode, changing background to a darker blue.\n */\n.dark-mode button:hover {\n  background-color: #2980b9;\n}\n\n/**\n * Styles for text inputs, number inputs, and select elements in dark mode, using a darker shade of blue with light text and borders.\n */\n.dark-mode input[type="text"],\n.dark-mode input[type="number"],\n.dark-mode select {\n  background-color: #2c3e50;\n  color: #f0f0f0;\n  border: 1px solid #4a4a4a;\n}\n\n/**\n * Styles for tables in dark mode, ensuring light text color.\n */\n.dark-mode table {\n  color: #f0f0f0;\n}\n\n/**\n * Styles for table headers in dark mode, using a darker shade of blue and light text color.\n */\n.dark-mode th {\n  background-color: #2c3e50;\n  color: #f0f0f0;\n}\n\n/**\n * Styles for table data cells in dark mode, adding a subtle border between rows.\n */\n.dark-mode td {\n  border-bottom: 1px solid #4a4a4a;\n}\n\n/**\n * Hover styles for table rows in dark mode, changing background to a lighter blue on hover.\n */\n.dark-mode tr:hover {\n  background-color: #34495e;\n}\n\n/**\n * Styles for cards in dark mode, using a darker shade of blue and light text color.\n */\n.dark-mode .card {\n  background-color: #2c3e50;\n}\n\n/**\n * Styles for headings in dark mode, using green text for emphasis.\n */\n.dark-mode h2,\n.dark-mode h3,\n.dark-mode h4 {\n  color: #2ecc71;\n}\n\n/**\n * Specific styles for level 2 headings in dark mode, adding a bottom border for separation.\n */\n.dark-mode h2 {\n  border-bottom: 2px solid #2ecc71;\n}\n\n/**\n * Styles for the dark mode toggle button, using blue background with white text and rounded corners.\n */\n.dark-mode-toggle {\n  background-color: #3498db;\n  color: #f0f0f0;\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n  position: absolute;\n  top: 1rem;\n  right: 1rem;\n}\n\n/**\n * Hover styles for the dark mode toggle button, changing background to a darker blue.\n */\n.dark-mode-toggle:hover {\n  background-color: #2980b9;\n}\n\n/**\n * Styles for the dark mode toggle button when in dark mode, using white background with dark text.\n */\n.dark-mode .dark-mode-toggle {\n  background-color: #f0f0f0;\n  color: #333;\n}\n\n/**\n * Hover styles for the dark mode toggle button when in dark mode, changing background to a lighter gray.\n */\n.dark-mode .dark-mode-toggle:hover {\n  background-color: #e0e0e0;\n}\n\n/**\n * Styles for favorite sections on the dashboard in dark mode, using consistent colors and borders.\n */\n.dark-mode .favorite-sources,\n.dark-mode .favorite-sinks,\n.dark-mode .favorite-routes,\n.dark-mode .active-sources,\n.dark-mode .active-sinks,\n.dark-mode .active-routes {\n  background-color: #2c3e50;\n  border: 1px solid #34495e;\n  border-radius: 8px;\n  padding: 1rem;\n  margin-bottom: 1rem;\n}\n\n/**\n * Styles for headings in favorite sections on the dashboard in dark mode, using green text for emphasis.\n */\n.dark-mode .favorite-sources h3,\n.dark-mode .favorite-sinks h3,\n.dark-mode .favorite-routes h3,\n.dark-mode .active-sources h3,\n.dark-mode .active-sinks h3,\n.dark-mode .active-routes h3 {\n  color: #2ecc71;\n}\n\n/**\n * Styles for the layout header in dark mode, using green text for headings.\n */\n.dark-mode .layout-header h1 {\n  color: #2ecc71;\n}\n\n/**\n * Styles for navigation links in the layout header in dark mode, ensuring light text color.\n */\n.dark-mode .layout-header nav ul li a {\n  color: #f0f0f0;\n}\n\n/**\n * Hover styles for navigation links in the layout header in dark mode, changing background to a lighter blue and text to green.\n */\n.dark-mode .layout-header nav ul li a:hover {\n  background-color: #34495e;\n  color: #2ecc71;\n}\n\n/**\n * Styles for subtext elements in dark mode, using a lighter gray text color.\n */\n.dark-mode .subtext {\n  color: #bdc3c7;\n}\n\n/**\n * Styles for control bar buttons in dark mode, using blue background with white text and rounded corners.\n */\n.dark-mode .control-bar button {\n  background-color: #3498db;\n  color: #f0f0f0;\n}\n\n/**\n * Hover styles for control bar buttons in dark mode, changing background to a darker blue.\n */\n.dark-mode .control-bar button:hover {\n  background-color: #2980b9;\n}\n\n/**\n * Styles for volume sliders in dark mode, using a lighter shade of blue and rounded corners.\n */\n.dark-mode .volume-slider {\n  background-color: #34495e;\n}\n\n/**\n * Styles for the thumb of volume sliders in dark mode (WebKit), using green color for visibility.\n */\n.dark-mode .volume-slider::-webkit-slider-thumb {\n  background-color: #2ecc71;\n}\n\n/**\n * Styles for the thumb of volume sliders in dark mode (Mozilla), using green color for visibility.\n */\n.dark-mode .volume-slider::-moz-range-thumb {\n  background-color: #2ecc71;\n}\n\n/**\n * Styles for not playing text elements in dark mode, using a lighter gray text color.\n */\n.dark-mode .not-playing {\n  color: #bdc3c7;\n}\n\n/**\n * Styles for active buttons and button-like elements in dark mode, using blue background with darker text.\n */\n.dark-mode .btn.active,\n.dark-mode button.active {\n  background-color: #008CBA;\n  color: #2c3e50;\n}\n\n/**\n * Hover styles for active buttons and button-like elements in dark mode, changing background to a lighter green.\n */\n.dark-mode .btn.active:hover,\n.dark-mode button.active:hover {\n  background-color: #27ae60;\n}\n\n/**\n * Styles for links in dark mode, using a light blue color with smooth transition effects.\n */\n.dark-mode a {\n  color: #b4d8fb;\n}\n\n/**\n * Hover styles for links in dark mode, changing text to green on hover.\n */\n.dark-mode a:hover {\n  color: #2ecc71;\n}\n\n/**\n * Styles for modal content in dark mode, using a darker shade of blue and light text color.\n */\n.dark-mode .modal-content {\n  background-color: #34495e;   \n}\n\n/**\n * Styles for expand and collapse routes buttons in dark mode, ensuring they inherit styles without additional modifications.\n */\n.dark-mode button.expand-routes, \n.dark-mode button.collapse-routes {\n  background-color: inherit !important;\n}\n',""]);const i=l},6293:e=>{e.exports='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320" preserveAspectRatio="none"><path fill="%239b59b6" fill-opacity="0.1" d="M0,224L48,208C96,192,192,160,288,154.7C384,149,480,171,576,165.3C672,160,768,128,864,117.3C960,107,1056,117,1152,138.7C1248,160,1344,192,1392,208L1440,224L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path></svg>'},6656:(e,n,t)=>{t.d(n,{A:()=>d});var r=t(1601),a=t.n(r),o=t(6314),l=t.n(o),i=t(4417),s=t.n(i),c=new URL(t(1897),t.b),u=l()(a()),m=s()(c);u.push([e.id,`/**\n * Styles for the redesigned FullMenu component.\n * This file contains all the styles for the FullMenu component and its subcomponents.\n * Updated with vibrant, music-themed styling with dynamic angles\n */\n\n/* ===== Main Layout ===== */\n.full-menu {\n  width: 100%;\n  height: 100vh;\n  overflow: hidden;\n  font-family: 'Poppins', 'Segoe UI', Arial, sans-serif;\n  display: flex;\n  flex-direction: column;\n  background-color: #f8f9fa;\n  color: #333;\n  position: relative;\n}\n\n/* Music-themed background with subtle animation */\n.full-menu::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(135deg, rgba(155, 89, 182, 0.03), rgba(52, 152, 219, 0.03));\n  background-size: 400% 400%;\n  animation: gradientBG 15s ease infinite;\n  z-index: -1;\n}\n\n@keyframes gradientBG {\n  0% { background-position: 0% 50%; }\n  50% { background-position: 100% 50%; }\n  100% { background-position: 0% 50%; }\n}\n\n/* ===== Header Bar ===== */\n.header-bar {\n  display: flex;\n  align-items: center;\n  padding: 0.75rem 1.5rem;\n  background: linear-gradient(135deg, #fff, #f8f8f8);\n  border-bottom: none;\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);\n  z-index: 10;\n  position: relative;\n  transform: skewY(-1deg);\n  transform-origin: left;\n}\n\n.header-bar > * {\n  transform: skewY(1deg); /* Counter skew for content */\n}\n\n.header-bar::after {\n  content: '';\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 3px;\n  background: linear-gradient(90deg, #9B59B6, #3498db);\n}\n\n.header-logo {\n  display: flex;\n  align-items: center;\n  font-size: 1.5rem;\n  font-weight: 600;\n  margin-right: 2rem;\n  position: relative;\n}\n\n.header-logo i {\n  margin-right: 0.5rem;\n  color: #9B59B6;\n  animation: pulse 2s infinite;\n}\n\n@keyframes pulse {\n  0% { transform: scale(1); }\n  50% { transform: scale(1.1); }\n  100% { transform: scale(1); }\n}\n\n.search-bar {\n  flex: 1;\n  max-width: 400px;\n  position: relative;\n  margin-right: 1.5rem;\n}\n\n.search-bar input {\n  width: 100%;\n  padding: 0.5rem 1rem 0.5rem 2.5rem;\n  border: 2px solid #e0e0e0;\n  border-radius: 25px;\n  font-size: 0.9rem;\n  background-color: rgba(255, 255, 255, 0.8);\n  transition: all 0.3s;\n}\n\n.search-bar input:focus {\n  outline: none;\n  border-color: #9B59B6;\n  background-color: #fff;\n  box-shadow: 0 0 0 3px rgba(155, 89, 182, 0.1);\n  //transform: translateY(-2px);\n}\n\n.search-bar i {\n  position: absolute;\n  left: 0.75rem;\n  top: 50%;\n  //transform: translateY(-50%);\n  color: #9B59B6;\n}\n\n.global-controls {\n  display: flex;\n  align-items: center;\n  margin-left: auto;\n}\n\n.global-controls button {\n  background: none;\n  border: none;\n  color: #555;\n  font-size: 1.1rem;\n  padding: 0.5rem;\n  margin-left: 0.5rem;\n  cursor: pointer;\n  border-radius: 50%;\n  transition: all 0.3s;\n  position: relative;\n  overflow: hidden;\n}\n\n.global-controls button::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: radial-gradient(circle, rgba(155, 89, 182, 0.2) 0%, transparent 70%);\n  transition: all 0.5s ease;\n}\n\n.global-controls button:hover {\n  background-color: rgba(155, 89, 182, 0.1);\n  color: #9B59B6;\n  //transform: translateY(-2px);\n}\n\n.global-controls button:hover::after {\n  left: 0;\n}\n\n.user-settings {\n  margin-left: 1rem;\n  padding-left: 1rem;\n  border-left: 2px solid #e0e0e0;\n}\n\n/* ===== Main Content Area ===== */\n.main-content {\n  display: flex;\n  flex: 1;\n  overflow: hidden;\n  position: relative;\n}\n\n/* ===== Navigation Sidebar ===== */\n.navigation-sidebar {\n  width: 250px;\n  background: linear-gradient(165deg, #fff, #f8f8f8);\n  border-right: none;\n  display: flex;\n  flex-direction: column;\n  overflow-y: auto;\n  transition: all 0.3s;\n  position: relative;\n  box-shadow: 4px 0 15px rgba(0, 0, 0, 0.03);\n  z-index: 5;\n  transform: skewX(-2deg) translateX(-5px);\n  transform-origin: top;\n  margin-right: -5px;\n}\n\n.navigation-sidebar > * {\n  transform: skewX(2deg); /* Counter skew for content */\n}\n\n.navigation-sidebar::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 3px;\n  height: 100%;\n  background: linear-gradient(to bottom, #9B59B6, #3498db);\n}\n\n.sidebar-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem;\n  border-bottom: 1px solid rgba(155, 89, 182, 0.1);\n}\n\n.sidebar-header h2 {\n  margin: 0;\n  font-size: 1.2rem;\n  font-weight: 600;\n  color: #9B59B6;\n  position: relative;\n}\n\n.sidebar-header h2::after {\n  content: '';\n  position: absolute;\n  bottom: -5px;\n  left: 0;\n  width: 30px;\n  height: 3px;\n  background: linear-gradient(90deg, #9B59B6, #3498db);\n  border-radius: 3px;\n}\n\n.sidebar-toggle {\n  background: none;\n  border: none;\n  color: #9B59B6;\n  font-size: 1.1rem;\n  cursor: pointer;\n  padding: 0.25rem;\n  border-radius: 4px;\n  display: none;\n}\n\n.sidebar-nav {\n  flex: 1;\n  padding: 1rem 0;\n}\n\n.nav-section {\n  margin-bottom: 1.5rem;\n}\n\n.nav-section h3 {\n  padding: 0 1rem;\n  margin: 0 0 0.5rem 0;\n  font-size: 0.8rem;\n  text-transform: uppercase;\n  color: #9B59B6;\n  letter-spacing: 0.5px;\n  position: relative;\n  display: inline-block;\n}\n\n.nav-section h3::after {\n  content: '';\n  position: absolute;\n  bottom: -3px;\n  left: 1rem;\n  width: 20px;\n  height: 2px;\n  background: linear-gradient(90deg, #9B59B6, #3498db);\n  border-radius: 2px;\n}\n\n.nav-item {\n  display: flex;\n  align-items: center;\n  width: 100%;\n  padding: 0.75rem 1rem;\n  background: none;\n  border: none;\n  text-align: left;\n  font-size: 0.95rem;\n  color: #555;\n  cursor: pointer;\n  transition: all 0.3s;\n  position: relative;\n  border-radius: 0 25px 25px 0;\n  margin-bottom: 2px;\n}\n\n.nav-item::before {\n  content: '';\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 100%;\n  width: 0;\n  background: linear-gradient(90deg, rgba(155, 89, 182, 0.1), transparent);\n  transition: all 0.3s ease;\n}\n\n.nav-item i {\n  margin-right: 0.75rem;\n  width: 1.25rem;\n  text-align: center;\n  color: #9B59B6;\n  position: relative;\n  z-index: 1;\n  transition: all 0.3s;\n}\n\n.nav-item .nav-label {\n  flex: 1;\n  position: relative;\n  z-index: 1;\n}\n\n.nav-item .nav-badge {\n  background-color: rgba(155, 89, 182, 0.1);\n  color: #9B59B6;\n  font-size: 0.75rem;\n  padding: 0.1rem 0.5rem;\n  border-radius: 10px;\n  margin-left: 0.5rem;\n  position: relative;\n  z-index: 1;\n}\n\n.nav-item:hover {\n  color: #9B59B6;\n  transform: translateX(5px);\n}\n\n.nav-item:hover::before {\n  width: 100%;\n}\n\n.nav-item:hover i {\n  transform: scale(1.2);\n}\n\n.nav-item.active {\n  background: linear-gradient(90deg, rgba(155, 89, 182, 0.2), rgba(155, 89, 182, 0.05));\n  color: #9B59B6;\n  font-weight: 500;\n}\n\n.nav-item.active::before {\n  width: 100%;\n}\n\n.nav-item.active i {\n  color: #9B59B6;\n}\n\n.sidebar-footer {\n  padding: 1rem;\n  border-top: 1px solid rgba(155, 89, 182, 0.1);\n}\n\n.desktop-menu-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  padding: 0.75rem;\n  background: linear-gradient(45deg, #9B59B6, #3498db);\n  border: none;\n  border-radius: 25px;\n  color: white;\n  font-size: 0.9rem;\n  cursor: pointer;\n  transition: all 0.3s;\n  position: relative;\n  overflow: hidden;\n  box-shadow: 0 4px 10px rgba(155, 89, 182, 0.3);\n}\n\n.desktop-menu-button::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);\n  transition: all 0.5s ease;\n}\n\n.desktop-menu-button i {\n  margin-right: 0.5rem;\n}\n\n.desktop-menu-button:hover {\n  //transform: translateY(-3px);\n  box-shadow: 0 6px 15px rgba(155, 89, 182, 0.4);\n}\n\n.desktop-menu-button:hover::after {\n  left: 100%;\n}\n\n/* ===== Content Panel ===== */\n.content-panel {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  position: relative;\n  z-index: 1;\n}\n\n.content-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem 1.5rem;\n  border-bottom: 1px solid rgba(155, 89, 182, 0.1);\n  background-color: #fff;\n  position: relative;\n}\n\n.content-header::after {\n  content: '';\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 1px;\n  background: linear-gradient(90deg, #9B59B6, #3498db, transparent);\n}\n\n.breadcrumbs {\n  display: flex;\n  align-items: center;\n  font-size: 0.9rem;\n  color: #888;\n}\n\n.breadcrumbs span:last-child {\n  color: #9B59B6;\n  font-weight: 500;\n}\n\n.view-controls {\n  display: flex;\n  align-items: center;\n}\n\n.view-button {\n  background: none;\n  border: none;\n  color: #555;\n  font-size: 1rem;\n  padding: 0.4rem 0.6rem;\n  margin-left: 0.5rem;\n  cursor: pointer;\n  border-radius: 20px;\n  transition: all 0.3s;\n  position: relative;\n  overflow: hidden;\n}\n\n.view-button::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: radial-gradient(circle, rgba(155, 89, 182, 0.2) 0%, transparent 70%);\n  transition: all 0.5s ease;\n}\n\n.view-button:hover {\n  color: #9B59B6;\n  background-color: rgba(155, 89, 182, 0.05);\n  //transform: translateY(-2px);\n}\n\n.view-button:hover::after {\n  left: 0;\n}\n\n.view-button.active {\n  background: linear-gradient(45deg, rgba(155, 89, 182, 0.1), rgba(52, 152, 219, 0.1));\n  color: #9B59B6;\n  box-shadow: 0 2px 5px rgba(155, 89, 182, 0.1);\n}\n\n.sort-control {\n  display: flex;\n  align-items: center;\n  margin-left: 1rem;\n}\n\n.sort-control label {\n  margin-right: 0.5rem;\n  font-size: 0.9rem;\n  color: #666;\n}\n\n.sort-control select {\n  padding: 0.4rem 0.6rem;\n  border: 1px solid #e0e0e0;\n  border-radius: 20px;\n  background-color: #fff;\n  font-size: 0.9rem;\n  color: #333;\n  transition: all 0.3s;\n}\n\n.sort-control select:focus {\n  border-color: #9B59B6;\n  box-shadow: 0 0 0 3px rgba(155, 89, 182, 0.1);\n  outline: none;\n}\n\n.content-body {\n  flex: 1;\n  padding: 1.5rem;\n  overflow-y: auto;\n  background-color: #f8f9fa;\n  position: relative;\n}\n\n/* Music wave background effect */\n.content-body::before {\n  content: '';\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 150px;\n  background-image: url(${m});\n  background-repeat: no-repeat;\n  background-size: 100% 100%;\n  background-position: bottom;\n  z-index: -1;\n  opacity: 1;\n}\n\n/* ===== Card Grid ===== */\n.card-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n  gap: 1.5rem;\n}\n\n/* ===== Resource Card ===== */\n.resource-card {\n  background-color: #fff;\n  border-radius: 16px;\n  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.05);\n  overflow: hidden;\n  transition: all 0.3s;\n  display: flex;\n  flex-direction: column;\n  border: none;\n  position: relative;\n  transform: rotate(-1deg);\n}\n\n.resource-card > * {\n  transform: rotate(1deg); /* Counter-rotation for content */\n}\n\n.resource-card::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 5px;\n  background: linear-gradient(90deg, #9B59B6, #3498db);\n  z-index: 1;\n}\n\n.resource-card:hover {\n  box-shadow: 0 15px 30px rgba(155, 89, 182, 0.15);\n  transform: rotate(-1deg) translateY(-5px);\n}\n\n.resource-card.active {\n  border: none;\n  box-shadow: 0 15px 30px rgba(155, 89, 182, 0.2);\n}\n\n.resource-card.active::before {\n  height: 7px;\n  background: linear-gradient(90deg, #9B59B6, #E91E63);\n}\n\n.card-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem;\n  border-bottom: 1px solid rgba(155, 89, 182, 0.1);\n  position: relative;\n}\n\n.card-title {\n  margin: 0;\n  font-size: 1.1rem;\n  font-weight: 500;\n  color: #9B59B6;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  position: relative;\n  padding-left: 22px;\n}\n\n/* Music note icon for titles */\n.card-title::before {\n  content: '♪';\n  position: absolute;\n  left: 0;\n  top: 50%;\n  //transform: translateY(-50%);\n  color: #9B59B6;\n  font-size: 1.2rem;\n  animation: bounce 1s infinite alternate;\n}\n\n@keyframes bounce {\n  from { //transform: translateY(-50%); }\n  to { //transform: translateY(-60%); }\n}\n\n.card-actions {\n  display: flex;\n  align-items: center;\n}\n\n.star-button {\n  background: none;\n  border: none;\n  color: #ccc;\n  font-size: 1.1rem;\n  cursor: pointer;\n  padding: 0.25rem;\n  transition: all 0.3s;\n}\n\n.star-button:hover {\n  color: #F1C40F;\n  transform: rotate(72deg) scale(1.2);\n}\n\n.star-button.starred {\n  color: #F1C40F;\n  animation: starPulse 1.5s infinite alternate;\n}\n\n@keyframes starPulse {\n  0% { transform: scale(1); }\n  100% { transform: scale(1.15); }\n}\n\n.star-button .filled {\n  color: #F1C40F;\n}\n\n.menu-button {\n  background: none;\n  border: none;\n  color: #888;\n  font-size: 1rem;\n  cursor: pointer;\n  padding: 0.25rem;\n  margin-left: 0.5rem;\n  transition: all 0.3s;\n  border-radius: 50%;\n}\n\n.menu-button:hover {\n  color: #9B59B6;\n  background-color: rgba(155, 89, 182, 0.1);\n  transform: rotate(90deg);\n}\n\n.card-body {\n  padding: 1rem;\n  flex: 1;\n}\n\n.status-indicator {\n  margin-bottom: 0.75rem;\n}\n\n.status-badge {\n  display: inline-block;\n  padding: 0.25rem 0.75rem;\n  border-radius: 20px;\n  font-size: 0.8rem;\n  font-weight: 500;\n  transform: skewX(-5deg);\n}\n\n.status-badge > span {\n  display: inline-block;\n  transform: skewX(5deg); /* Counter-skew for text */\n}\n\n.status-badge.enabled {\n  background: linear-gradient(45deg, #2ecc71, #1abc9c);\n  color: white;\n  box-shadow: 0 2px 5px rgba(46, 204, 113, 0.3);\n}\n\n.status-badge.disabled {\n  background: linear-gradient(45deg, #e74c3c, #c0392b);\n  color: white;\n  box-shadow: 0 2px 5px rgba(231, 76, 60, 0.3);\n}\n\n.source-details,\n.sink-details,\n.route-details {\n  font-size: 0.9rem;\n  color: #666;\n}\n\n.detail-item {\n  margin-bottom: 0.5rem;\n  display: flex;\n  align-items: center;\n  transition: all 0.2s;\n}\n\n.detail-item:hover {\n  transform: translateX(5px);\n}\n\n.detail-item i {\n  width: 1.25rem;\n  margin-right: 0.5rem;\n  color: #9B59B6;\n}\n\n.card-footer {\n  padding: 1rem;\n  border-top: 1px solid rgba(155, 89, 182, 0.1);\n  background: linear-gradient(165deg, rgba(155, 89, 182, 0.02), rgba(52, 152, 219, 0.02));\n}\n\n.control-buttons {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n}\n\n.toggle-button {\n  padding: 0.5rem 0.75rem;\n  border: none;\n  border-radius: 20px;\n  font-size: 0.85rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.3s;\n  position: relative;\n  overflow: hidden;\n}\n\n.toggle-button::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);\n  transition: all 0.5s ease;\n}\n\n.toggle-button.enabled {\n  background: linear-gradient(45deg, #2ecc71, #1abc9c);\n  color: white;\n  box-shadow: 0 4px 10px rgba(46, 204, 113, 0.3);\n}\n\n.toggle-button.enabled:hover {\n  //transform: translateY(-2px);\n  box-shadow: 0 6px 12px rgba(46, 204, 113, 0.4);\n}\n\n.toggle-button.disabled {\n  background: linear-gradient(45deg, #e74c3c, #c0392b);\n  color: white;\n  box-shadow: 0 4px 10px rgba(231, 76, 60, 0.3);\n}\n\n.toggle-button.disabled:hover {\n  //transform: translateY(-2px);\n  box-shadow: 0 6px 12px rgba(231, 76, 60, 0.4);\n}\n\n.toggle-button:hover::after {\n  left: 100%;\n}\n\n/* Control button */\n.control-button {\n  padding: 0.5rem;\n  border: none;\n  border-radius: 50%;\n  background: linear-gradient(45deg, #3498db, #9B59B6);\n  color: white;\n  font-size: 0.9rem;\n  cursor: pointer;\n  transition: all 0.3s;\n  width: 36px;\n  height: 36px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0 4px 10px rgba(52, 152, 219, 0.3);\n}\n\n.control-button:hover {\n  //transform: translateY(-2px) rotate(5deg);\n  box-shadow: 0 6px 12px rgba(52, 152, 219, 0.4);\n}\n\n/* Volume slider */\n.volume-slider {\n  -webkit-appearance: none;\n  appearance: none;\n  width: 100%;\n  height: 6px;\n  border-radius: 3px;\n  background: linear-gradient(90deg, #9B59B6, #3498db);\n  outline: none;\n  opacity: 0.8;\n  transition: all 0.3s;\n  margin: 1rem 0;\n}\n\n.volume-slider:hover {\n  opacity: 1;\n  transform: scaleY(1.2);\n}\n\n.volume-slider::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  appearance: none;\n  width: 18px;\n  height: 18px;\n  border-radius: 50%;\n  background: white;\n  cursor: pointer;\n  border: 2px solid #9B59B6;\n  box-shadow: 0 2px 5px rgba(155, 89, 182, 0.3);\n  transition: all 0.3s;\n}\n\n.volume-slider::-webkit-slider-thumb:hover {\n  transform: scale(1.2);\n  box-shadow: 0 2px 8px rgba(155, 89, 182, 0.4);\n}\n\n.volume-slider::-moz-range-thumb {\n  width: 18px;\n  height: 18px;\n  border-radius: 50%;\n  background: white;\n  cursor: pointer;\n  border: 2px solid #9B59B6;\n  box-shadow: 0 2px 5px rgba(155, 89, 182, 0.3);\n  transition: all 0.3s;\n}\n\n/* Equalizer button */\n.equalizer-button {\n  padding: 0.5rem;\n  border: none;\n  border-radius: 50%;\n  background: linear-gradient(45deg, #FF5722, #F1C40F);\n  color: white;\n  font-size: 0.9rem;\n  cursor: pointer;\n  transition: all 0.3s;\n  width: 36px;\n  height: 36px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0 4px 10px rgba(255, 87, 34, 0.3);\n}\n\n.equalizer-button:hover {\n  //transform: translateY(-2px) rotate(-5deg);\n  box-shadow: 0 6px 12px rgba(255, 87, 34, 0.4);\n}\n\n/* VNC button */\n.vnc-button {\n  padding: 0.5rem;\n  border: none;\n  border-radius: 50%;\n  background: linear-gradient(45deg, #1ABC9C, #2ecc71);\n  color: white;\n  font-size: 0.9rem;\n  cursor: pointer;\n  transition: all 0.3s;\n  width: 36px;\n  height: 36px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0 4px 10px rgba(26, 188, 156, 0.3);\n}\n\n.vnc-button:hover {\n  //transform: translateY(-2px) rotate(5deg);\n  box-shadow: 0 6px 12px rgba(26, 188, 156, 0.4);\n}\n\n/* Listen button */\n.listen-button {\n  padding: 0.5rem 0.75rem;\n  border: none;\n  border-radius: 20px;\n  background: linear-gradient(45deg, #9B59B6, #8E44AD);\n  color: white;\n  font-size: 0.85rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.3s;\n  display: flex;\n  align-items: center;\n  box-shadow: 0 4px 10px rgba(155, 89, 182, 0.3);\n  position: relative;\n  overflow: hidden;\n}\n\n.listen-button i {\n  margin-right: 0.4rem;\n}\n\n.listen-button::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);\n  transition: all 0.5s ease;\n}\n\n.listen-button:hover {\n  //transform: translateY(-2px);\n  box-shadow: 0 6px 12px rgba(155, 89, 182, 0.4);\n}\n\n.listen-button:hover::after {\n  left: 100%;\n}\n\n.listen-button.active {\n  background: linear-gradient(45deg, #8E44AD, #E91E63);\n  animation: pulse 2s infinite;\n}\n\n/* Visualize button */\n.visualize-button {\n  padding: 0.5rem 0.75rem;\n  border: none;\n  border-radius: 20px;\n  background: linear-gradient(45deg, #3498db, #2980b9);\n  color: white;\n  font-size: 0.85rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.3s;\n  display: flex;\n  align-items: center;\n  box-shadow: 0 4px 10px rgba(52, 152, 219, 0.3);\n  position: relative;\n  overflow: hidden;\n}\n\n.visualize-button i {\n  margin-right: 0.4rem;\n}\n\n.visualize-button::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);\n  transition: all 0.5s ease;\n}\n\n.visualize-button:hover {\n  //transform: translateY(-2px);\n  box-shadow: 0 6px 12px rgba(52, 152, 219, 0.4);\n}\n\n.visualize-button:hover::after {\n  left: 100%;\n}\n\n/* Dark mode adjustments */\n.dark-mode.full-menu {\n  background-color: #1a1a2e;\n  color: #e0e0e0;\n}\n\n.dark-mode .header-bar {\n  background: linear-gradient(135deg, #232342, #1a1a2e);\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);\n}\n\n.dark-mode .search-bar input {\n  background-color: rgba(40, 40, 70, 0.5);\n  border-color: #444464;\n  color: #e0e0e0;\n}\n\n.dark-mode .search-bar input:focus {\n  background-color: rgba(50, 50, 80, 0.7);\n  border-color: #9B59B6;\n}\n\n.dark-mode .navigation-sidebar {\n  background: linear-gradient(165deg, #232342, #1a1a2e);\n  box-shadow: 4px 0 15px rgba(0, 0, 0, 0.1);\n}\n\n.dark-mode .sidebar-header {\n  border-bottom-color: rgba(155, 89, 182, 0.2);\n}\n\n.dark-mode .nav-item {\n  color: #b0b0d0;\n}\n\n.dark-mode .nav-item:hover {\n  color: #e0e0e0;\n}\n\n.dark-mode .nav-item.active {\n  background: linear-gradient(90deg, rgba(155, 89, 182, 0.3), rgba(155, 89, 182, 0.1));\n  color: #e0e0e0;\n}\n\n.dark-mode .content-header {\n  background-color: #232342;\n  border-bottom-color: rgba(155, 89, 182, 0.2);\n}\n\n.dark-mode .breadcrumbs {\n  color: #a0a0c0;\n}\n\n.dark-mode .content-body {\n  background-color: #1a1a2e;\n}\n\n.dark-mode .resource-card {\n  background-color: #232342;\n  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);\n}\n\n.dark-mode .card-header {\n  border-bottom-color: rgba(155, 89, 182, 0.2);\n}\n\n.dark-mode .card-title {\n  color: #b392d7;\n}\n\n.dark-mode .detail-item {\n  color: #a0a0c0;\n}\n\n.dark-mode .card-footer {\n  background: linear-gradient(165deg, rgba(155, 89, 182, 0.05), rgba(52, 152, 219, 0.05));\n  border-top-color: rgba(155, 89, 182, 0.2);\n}\n\n/* Error message */\n.error-message {\n  background: linear-gradient(45deg, #ff7675, #e74c3c);\n  color: white;\n  padding: 1rem;\n  margin-bottom: 1rem;\n  border-radius: 8px;\n  font-weight: 500;\n  box-shadow: 0 4px 10px rgba(231, 76, 60, 0.3);\n  transform: rotate(-1deg);\n}\n\n/* List view styles */\n.list-view {\n  margin-top: 1rem;\n}\n\n.list-item {\n  display: flex;\n  align-items: center;\n  padding: 0.75rem 1rem;\n  background-color: #fff;\n  border-radius: 12px;\n  margin-bottom: 0.75rem;\n  transition: all 0.3s;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.03);\n  position: relative;\n  overflow: hidden;\n  transform: skewX(-1deg);\n}\n\n.list-item > * {\n  transform: skewX(1deg);\n}\n\n.list-item::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 4px;\n  height: 100%;\n  background: linear-gradient(to bottom, #9B59B6, #3498db);\n  opacity: 0;\n  transition: all 0.3s;\n}\n\n.list-item:hover {\n  transform: skewX(-1deg) translateX(5px);\n  box-shadow: 0 6px 12px rgba(155, 89, 182, 0.1);\n}\n\n.list-item:hover::before {\n  opacity: 1;\n}\n\n.list-item.active {\n  box-shadow: 0 6px 12px rgba(155, 89, 182, 0.15);\n}\n\n.list-item.active::before {\n  opacity: 1;\n  width: 6px;\n}\n\n.dark-mode .list-item {\n  background-color: #232342;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n}\n\n/* Dashboard specific styles */\n.dashboard-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));\n  gap: 1.5rem;\n}\n\n.dashboard-card {\n  background-color: #fff;\n  border-radius: 16px;\n  overflow: hidden;\n  transition: all 0.3s;\n  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.05);\n  position: relative;\n  transform: perspective(500px) rotateY(1deg);\n}\n\n.dashboard-card:hover {\n  transform: perspective(500px) rotateY(1deg) translateY(-5px);\n  box-shadow: 0 15px 30px rgba(155, 89, 182, 0.15);\n}\n\n.dashboard-card-header {\n  background: linear-gradient(45deg, rgba(155, 89, 182, 0.05), rgba(52, 152, 219, 0.05));\n  padding: 1rem;\n  border-bottom: 1px solid rgba(155, 89, 182, 0.1);\n  position: relative;\n}\n\n.dashboard-card-header::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 3px;\n  background: linear-gradient(90deg, #9B59B6, #3498db);\n}\n\n.dashboard-card-header h3 {\n  margin: 0;\n  font-size: 1.1rem;\n  color: #9B59B6;\n  display: flex;\n  align-items: center;\n}\n\n.dashboard-card-header h3 i {\n  margin-right: 0.5rem;\n  font-size: 1.2rem;\n}\n\n.dashboard-card-body {\n  padding: 1rem;\n}\n\n.dark-mode .dashboard-card {\n  background-color: #232342;\n  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);\n}\n\n.dark-mode .dashboard-card-header {\n  background: linear-gradient(45deg, rgba(155, 89, 182, 0.1), rgba(52, 152, 219, 0.1));\n  border-bottom-color: rgba(155, 89, 182, 0.2);\n}\n\n/* Responsive adjustments */\n@media (max-width: 768px) {\n  .navigation-sidebar {\n    position: fixed;\n    left: -250px;\n    top: 0;\n    bottom: 0;\n    z-index: 100;\n    width: 250px;\n    transform: none;\n  }\n\n  .navigation-sidebar > * {\n    transform: none;\n  }\n\n  .navigation-sidebar.open {\n    left: 0;\n  }\n\n  .sidebar-toggle {\n    display: block;\n  }\n\n  .header-bar {\n    padding: 0.5rem 1rem;\n  }\n\n  .header-logo {\n    font-size: 1.2rem;\n  }\n\n  .search-bar {\n    max-width: 200px;\n  }\n\n  .content-body {\n    padding: 1rem;\n  }\n\n  .card-grid {\n    grid-template-columns: 1fr;\n  }\n}\n\n@media (min-width: 769px) and (max-width: 1024px) {\n  .card-grid {\n    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n  }\n}\n\n/* Blinking animation for the active source */\n@keyframes blink {\n  0% { opacity: 1; }\n  50% { opacity: 0.6; }\n  100% { opacity: 1; }\n}\n\n.active-source-indicator {\n  display: inline-block;\n  width: 10px;\n  height: 10px;\n  background-color: #2ecc71;\n  border-radius: 50%;\n  margin-right: 0.5rem;\n  animation: blink 1.5s infinite;\n  box-shadow: 0 0 5px #2ecc71;\n}\n\n/* Music visualizer wave effect for active items */\n.music-wave-effect {\n  position: relative;\n  overflow: hidden;\n}\n\n.music-wave-effect::after {\n  content: '';\n  position: absolute;\n  bottom: -2px;\n  left: 0;\n  width: 100%;\n  height: 4px;\n  background: linear-gradient(90deg, #9B59B6, #3498db, #9B59B6);\n  background-size: 200% 100%;\n  animation: waveMove 2s linear infinite;\n}\n\n@keyframes waveMove {\n  0% { background-position: 0% 0%; }\n  100% { background-position: 200% 0%; }\n}`,""]);const d=u},6840:e=>{e.exports='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320" preserveAspectRatio="none"><path fill="%239b59b6" fill-opacity="0.2" d="M0,128L48,144C96,160,192,192,288,186.7C384,181,480,139,576,149.3C672,160,768,224,864,218.7C960,213,1056,139,1152,133.3C1248,128,1344,192,1392,224L1440,256L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path></svg>'},9769:(e,n,t)=>{var r=t(6540),a=t(5338),o=t(5346);const l=(0,t(3628).oY)({colors:{brand:{50:"#e6f7ef",100:"#c3ecd8",200:"#9fe0c0",300:"#7bd4a8",400:"#57c890",500:"#2ecc71",600:"#27ae60",700:"#208e4e",800:"#196f3d",900:"#11502b"},secondary:{50:"#e8f4f8",100:"#c7e5ee",200:"#a5d5e4",300:"#84c5da",400:"#62b6d0",500:"#3498db",600:"#2980b9",700:"#216897",800:"#195074",900:"#123852"},dark:{50:"#e6e8ea",100:"#c1c6cb",200:"#9ba4ab",300:"#75828c",400:"#4f606c",500:"#34495e",600:"#2c3e50",700:"#243342",800:"#1c2833",900:"#141d25"},error:{500:"#e74c3c"},music:{purple:"#8E44AD",violet:"#9B59B6",pink:"#E91E63",orange:"#FF5722",yellow:"#F1C40F",aqua:"#1ABC9C",lime:"#CDDC39"},gradients:{primary:"linear-gradient(45deg, #9B59B6, #3498db)",secondary:"linear-gradient(135deg, #FF5722, #F1C40F)",accent:"linear-gradient(225deg, #1ABC9C, #2ecc71)"}},styles:{global:e=>({body:{bg:"dark"===e.colorMode?"gray.900":"gray.50",color:"dark"===e.colorMode?"gray.100":"dark.600",transition:"background-color 0.3s ease"}})},components:{Button:{baseStyle:{fontWeight:"normal",borderRadius:"4px",transition:"all 0.3s ease",_hover:{boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"}},variants:{solid:e=>({bg:"dark"===e.colorMode?"secondary.600":"secondary.500",color:"white",_hover:{bg:"dark"===e.colorMode?"secondary.700":"secondary.600"}}),primary:e=>({bg:"dark"===e.colorMode?"brand.600":"brand.500",color:"white",_hover:{bg:"dark"===e.colorMode?"brand.700":"brand.600"}}),error:{bg:"error.500",color:"white"},ghost:e=>({bg:"transparent",color:"dark"===e.colorMode?"gray.200":"gray.700",_hover:{bg:"dark"===e.colorMode?"whiteAlpha.200":"blackAlpha.100"}}),music:{bgGradient:"linear-gradient(45deg, #9B59B6, #3498db)",color:"white",borderRadius:"25px",_hover:{bgGradient:"linear-gradient(45deg, #8E44AD, #2980b9)",transform:"scale(1.05)"}}},defaultProps:{variant:"solid"}},Heading:{baseStyle:e=>({color:"dark"===e.colorMode?"gray.100":"dark.600"})},Table:{variants:{simple:e=>({th:{bg:"dark"===e.colorMode?"gray.700":"gray.100",color:"dark"===e.colorMode?"gray.100":"dark.600",fontWeight:"bold"},tr:{_hover:{bg:"dark"===e.colorMode?"gray.600":"gray.50"}},td:{borderBottom:"1px solid",borderColor:"dark"===e.colorMode?"gray.600":"gray.200"}})},defaultProps:{variant:"simple"}},Box:{baseStyle:e=>({bg:"dark"===e.colorMode?"gray.800":"white",borderRadius:"8px",transition:"all 0.3s ease"})},Flex:{baseStyle:e=>({bg:"dark"===e.colorMode?"gray.800":"white"})},Card:{baseStyle:{container:{borderRadius:"12px",overflow:"hidden",transition:"all 0.3s ease",_hover:{boxShadow:"0 8px 16px rgba(0, 0, 0, 0.1)"}}}}},fonts:{body:"'Poppins', system-ui, sans-serif",heading:"'Poppins', system-ui, sans-serif"},config:{initialColorMode:"light",useSystemColorMode:!1},shadows:{outline:"0 0 0 3px rgba(62, 152, 199, 0.6)"},radii:{sm:"4px",md:"8px",lg:"12px",xl:"16px","2xl":"24px",full:"9999px"}});var i=t(4976),s=t(7767),c=t(1083);let u=null,m=null,d=null;const g=()=>{if(u&&u.readyState===WebSocket.OPEN)return;d&&(clearTimeout(d),d=null);const e=window.location.host,n=`${"https:"===window.location.protocol?"wss:":"ws:"}//${e}/ws/config`;console.log("Creating WebSocket connection to:",n);try{u=new WebSocket(n),u.onmessage=e=>{if(m)try{const n=JSON.parse(e.data);console.log("WebSocket update received:",n),m(n)}catch(e){console.error("Error parsing WebSocket message:",e)}},u.onclose=e=>{console.log(`WebSocket closed (code: ${e.code}, reason: ${e.reason})`),u=null,d=setTimeout((()=>{console.log("Attempting to reconnect WebSocket..."),g()}),5e3)},u.onerror=e=>{console.error("WebSocket error:",e)},u.onopen=()=>{console.log("WebSocket connected successfully")}}catch(e){console.error("Error creating WebSocket:",e),d=setTimeout((()=>{console.log("Attempting to reconnect WebSocket..."),g()}),5e3)}},p={setWebSocketHandler:async e=>{m=e,g();try{const[n,t,r]=await Promise.all([c.A.get("/sources"),c.A.get("/sinks"),c.A.get("/routes")]);e({sources:n.data,sinks:t.data,routes:r.data})}catch(e){console.error("Error fetching initial state:",e)}},getSources:()=>c.A.get("/sources"),getSinks:()=>c.A.get("/sinks"),getRoutes:()=>c.A.get("/routes"),addSource:e=>c.A.post("/sources",e),addSink:e=>c.A.post("/sinks",e),addRoute:e=>c.A.post("/routes",e),updateSource:(e,n)=>c.A.put(`/sources/${e}`,n),updateSink:(e,n)=>c.A.put(`/sinks/${e}`,n),updateRoute:(e,n)=>c.A.put(`/routes/${e}`,n),deleteSource:e=>c.A.delete(`/sources/${e}`),deleteSink:e=>c.A.delete(`/sinks/${e}`),deleteRoute:e=>c.A.delete(`/routes/${e}`),enableSource:e=>c.A.get(`/sources/${e}/enable`),disableSource:e=>c.A.get(`/sources/${e}/disable`),enableSink:e=>c.A.get(`/sinks/${e}/enable`),disableSink:e=>c.A.get(`/sinks/${e}/disable`),enableRoute:e=>c.A.get(`/routes/${e}/enable`),disableRoute:e=>c.A.get(`/routes/${e}/disable`),updateSourceVolume:(e,n)=>c.A.get(`/sources/${e}/volume/${n}`),updateSinkVolume:(e,n)=>c.A.get(`/sinks/${e}/volume/${n}`),updateRouteVolume:(e,n)=>c.A.get(`/routes/${e}/volume/${n}`),updateSourceDelay:(e,n)=>c.A.get(`/sources/${e}/delay/${n}`),updateSinkDelay:(e,n)=>c.A.get(`/sinks/${e}/delay/${n}`),updateRouteDelay:(e,n)=>c.A.get(`/routes/${e}/delay/${n}`),updateSourceTimeshift:(e,n)=>c.A.get(`/sources/${e}/timeshift/${n}`),updateSinkTimeshift:(e,n)=>c.A.get(`/sinks/${e}/timeshift/${n}`),updateRouteTimeshift:(e,n)=>c.A.get(`/routes/${e}/timeshift/${n}`),updateSourceEqualizer:(e,n)=>c.A.post(`/sources/${e}/equalizer`,n),updateSinkEqualizer:(e,n)=>c.A.post(`/sinks/${e}/equalizer`,n),updateRouteEqualizer:(e,n)=>c.A.post(`/routes/${e}/equalizer`,n),reorderSource:(e,n)=>c.A.get(`/sources/${e}/reorder/${n}`),reorderSink:(e,n)=>c.A.get(`/sinks/${e}/reorder/${n}`),reorderRoute:(e,n)=>c.A.get(`/routes/${e}/reorder/${n}`),controlSource:(e,n)=>c.A.get(`/sources/${e}/${n}`),getSinkStreamUrl:e=>`/stream/${e}/?random=${Math.random()}`,getVncUrl:e=>`/site/vnc/${e}`,saveEqualizer:(e,n)=>{const t={...n};return t.name=e,c.A.post("/equalizers/",t)},listEqualizers:()=>c.A.get("/equalizers/"),deleteEqualizer:e=>c.A.delete(`/equalizers/${e}`),updateEqualizer:(e,n,t)=>c.A.post(`/equalizers/${e}/${n}`,t)},b=(0,r.createContext)(void 0),h=e=>{let{children:n}=e;const[t,a]=(0,r.useState)(null),[o,l]=(0,r.useState)(null),[i,s]=(0,r.useState)(null),[c,u]=(0,r.useState)([]),[m,d]=(0,r.useState)([]),[g,h]=(0,r.useState)([]),[f,E]=(0,r.useState)(null),[k,v]=(0,r.useState)(!1),[S,y]=(0,r.useState)(!1),[x,w]=(0,r.useState)(null),[C,z]=(0,r.useState)(null),[$,R]=(0,r.useState)(null),A=(0,r.useRef)(null),[T,I]=(0,r.useState)(!1),[U,M]=(0,r.useState)(!1),N=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:800,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:600;const r=(window.screen.width-n)/2,a=(window.screen.height-t)/2;window.open(e,"_blank",`width=${n},height=${t},left=${r},top=${a}`)},_=async()=>{console.log("Fetching initial data...");try{const[e,n,t]=await Promise.all([p.getSources(),p.getSinks(),p.getRoutes()]);u(Object.values(e.data)),d(Object.values(n.data)),h(Object.values(t.data)),console.log("Initial data fetched successfully"),I(!1),M(!0)}catch(e){console.error("Error fetching initial data:",e)}};return(0,r.useEffect)((()=>{const e=localStorage.getItem("activeSource");e&&a(e),A.current=document.getElementById("audio"),p.setWebSocketHandler((e=>{(e=>{if(console.log("Processing WebSocket update:",e),!U&&e.sources&&Object.keys(e.sources).length>0&&e.sinks&&Object.keys(e.sinks).length>0&&e.routes&&Object.keys(e.routes).length>0)return console.log("Initial data from WebSocket - using direct API data instead"),void M(!0);!U&&(e.sources||e.sinks||e.routes)&&M(!0),e.sources&&Object.keys(e.sources).length>0&&u((n=>{const t=new Map;return n.forEach((e=>{t.set(e.name,e)})),Object.entries(e.sources).forEach((e=>{let[n,r]=e;const a=!t.has(n);t.set(n,r),a?console.log(`Added new source: ${n}`):console.log(`Updated existing source: ${n}`)})),Array.from(t.values())})),e.sinks&&Object.keys(e.sinks).length>0&&d((n=>{const t=new Map;return n.forEach((e=>{t.set(e.name,e)})),Object.entries(e.sinks).forEach((e=>{let[n,r]=e;const a=!t.has(n);t.set(n,r),a?console.log(`Added new sink: ${n}`):console.log(`Updated existing sink: ${n}`)})),Array.from(t.values())})),e.routes&&Object.keys(e.routes).length>0&&h((n=>{const t=new Map;return n.forEach((e=>{t.set(e.name,e)})),Object.entries(e.routes).forEach((e=>{let[n,r]=e;const a=!t.has(n);t.set(n,r),a?console.log(`Added new route: ${n}`):console.log(`Updated existing route: ${n}`)})),Array.from(t.values())})),e.removals&&(e.removals.sources&&e.removals.sources.length>0&&u((n=>{const t=n.filter((n=>!e.removals.sources.includes(n.name)));return e.removals.sources.forEach((e=>{console.log(`Removed source: ${e}`)})),t})),e.removals.sinks&&e.removals.sinks.length>0&&d((n=>{const t=n.filter((n=>!e.removals.sinks.includes(n.name)));return e.removals.sinks.forEach((e=>{console.log(`Removed sink: ${e}`)})),t})),e.removals.routes&&e.removals.routes.length>0&&h((n=>{const t=n.filter((n=>!e.removals.routes.includes(n.name)));return e.removals.routes.forEach((e=>{console.log(`Removed route: ${e}`)})),t})))})(e)})),_();const n=setInterval((()=>{T&&(console.log("Performing full data refresh"),_())}),3e4);return()=>{clearInterval(n)}}),[T]),r.createElement(b.Provider,{value:{activeSource:t,listeningToSink:o,visualizingSink:i,sources:c,sinks:m,routes:g,onToggleActiveSource:e=>{const n=t===e?null:e;a(n),localStorage.setItem("activeSource",n||"")},onTranscribeSink:e=>{window.open(`/site/transcribe/${e}/`,"Transcription")},onListenToSink:e=>{e?(l(e),A.current&&(A.current.src=p.getSinkStreamUrl(e.ip),A.current.play().catch((e=>{"AbortError"!==e.name&&console.error("Error playing audio:",e)})))):(l(null),A.current&&(A.current.pause(),A.current.src=""))},onVisualizeSink:e=>{e&&N(`/site/visualizer?ip=${e.ip}`,800,600),s(e)},toggleEnabled:async(e,n,t)=>{try{"sources"===e?await p.updateSource(n,{enabled:!t}):"sinks"===e?await p.updateSink(n,{enabled:!t}):"routes"===e&&await p.updateRoute(n,{enabled:!t})}catch(n){console.error(`Error toggling ${e} enabled status:`,n)}},updateVolume:async(e,n,t)=>{try{"sources"===e?await p.updateSourceVolume(n,t):"sinks"===e?await p.updateSinkVolume(n,t):await p.updateRouteVolume(n,t)}catch(n){console.error(`Error updating ${e} volume:`,n)}},updateTimeshift:async(e,n,t)=>{try{"sources"===e?await p.updateSourceTimeshift(n,t):"sinks"===e?await p.updateSinkTimeshift(n,t):await p.updateRouteTimeshift(n,t)}catch(n){console.error(`Error updating ${e} timeshift:`,n)}},controlSource:async(e,n)=>{try{await p.controlSource(e,n)}catch(e){console.error("Error controlling source:",e)}},setSelectedItem:E,setShowEqualizerModal:v,setSelectedItemType:w,getRoutesForSource:e=>g.filter((n=>n.source===e)),getRoutesForSink:e=>g.filter((n=>n.sink===e)),fetchSources:async()=>{try{const e=await p.getSources();u(Object.values(e.data))}catch(e){console.error("Error fetching sources:",e)}},fetchSinks:async()=>{try{const e=await p.getSinks();d(Object.values(e.data))}catch(e){console.error("Error fetching sinks:",e)}},fetchRoutes:async()=>{try{const e=await p.getRoutes();h(Object.values(e.data))}catch(e){console.error("Error fetching routes:",e)}},setPrimarySource:e=>{u((n=>n.map((n=>({...n,is_primary:n.name===e?.name})))))},openVNCModal:e=>{e.vnc_ip&&e.vnc_port&&N(`/site/vnc?ip=${e.vnc_ip}&port=${e.vnc_port}`,800,600)},showEqualizerModal:k,selectedEqualizerItem:C,selectedEqualizerType:$,openEqualizerModal:(e,n)=>{z(e),R(n),v(!0)},closeEqualizerModal:()=>{z(null),R(null),v(!1)},showEditModal:S,setShowEditModal:y,editItem:(e,n)=>{E(n),w(e),y(!0)},selectedItem:f,selectedItemType:x,navigateToItem:(e,n)=>{w(e);const t=("sources"===e?c:"sinks"===e?m:g).find((e=>e.name===n));t&&E(t)}}},n)},f=()=>{const e=(0,r.useContext)(b);if(void 0===e)throw new Error("useAppContext must be used within an AppProvider");return e};var E=t(3840),k=t(7234),v=t(4466),S=t(6944),y=t(1175),x=t(9146);const w=e=>{let{source:n}=e;const t=(0,r.useRef)(null),[a,o]=(0,r.useState)(null),l=p.getVncUrl(n.name);(0,r.useEffect)((()=>{document.title=`ScreamRouter - ${n.name}`}),[n.name]),(0,r.useEffect)((()=>{document.body.style.overflow="hidden"}),[n.name]);const i=(0,E.dU)("gray.50","gray.900");return r.createElement(k.s,{direction:"column",height:"100vh",width:"100%",bg:i,position:"relative"},a&&r.createElement(v.F,{status:"error",mb:4},r.createElement(S._,null),r.createElement(y.X,null,a)),r.createElement(x.a,{as:"iframe",ref:t,src:l,title:`${n.name}`,flex:"1",border:"none",width:"100%",maxHeight:{base:"90%",md:"100%"},onError:e=>{console.error("Error loading VNC iframe:",e),o("Failed to load VNC connection. Please try again.")}}))};var C=t(7176),z=t(8137),$=t(1052),R=t(5187),A=t(7347),T=t.n(A),I=t(5814),U=t.n(I),M=t(937);const N=e=>{let{ip:n}=e;const{sources:t,activeSource:a,controlSource:o}=f(),[l,i]=(0,r.useState)(!1),[s,c]=(0,r.useState)(!1),[u,m]=(0,r.useState)(0),[d,g]=(0,r.useState)(!0),[b,h]=(0,r.useState)(!0),[v,S]=(0,r.useState)(15),[y,w]=(0,r.useState)(!1),[A,I]=(0,r.useState)(!0),N=(0,r.useRef)(null),_=(0,r.useRef)(null),P=(0,r.useRef)(null),V=(0,r.useRef)(null),D=(0,r.useRef)(null),W=(0,r.useRef)(null),q=(0,r.useRef)({}),O=(0,r.useRef)([]),B=(0,r.useRef)([]),L=(0,r.useRef)(null),F=(0,r.useRef)(null),j=(0,r.useRef)(null);(0,r.useEffect)((()=>{if(document.title="ScreamRouter - Visualizer",document.body.style.overflow="hidden",q.current={...U().getPresets()},q.current=Object.entries(q.current).sort(((e,n)=>{let[t]=e,[r]=n;return t.toLowerCase().localeCompare(r.toLowerCase())})).reduce(((e,n)=>{let[t,r]=n;return{...e,[t]:r}}),{}),O.current=Object.keys(q.current),m(Math.floor(Math.random()*O.current.length)),N.current){const e=window.devicePixelRatio||1,n=window.innerWidth,t=window.innerHeight;N.current.style.width=`${n}px`,N.current.style.height=`${t}px`,N.current.width=n*e,N.current.height=t*e}const e=()=>{if(N.current&&P.current){const e=window.devicePixelRatio||1,n=window.innerWidth,t=window.innerHeight;if(N.current.style.width=`${n}px`,N.current.style.height=`${t}px`,N.current.width=n*e,N.current.height=t*e,V.current){console.log(`Resizing visualizer, maintaining preset: ${F.current}`);const n=F.current?JSON.parse(JSON.stringify(q.current[F.current])):null;P.current=T().createVisualizer(V.current,N.current,{width:N.current.width,height:N.current.height,pixelRatio:e,textureRatio:2}),W.current&&P.current.connectAudio(W.current),n&&P.current.loadPreset(n,0)}else P.current.setRendererSize(N.current.width,N.current.height)}};window.addEventListener("resize",e);const n=e=>{switch(I(!0),j.current&&clearTimeout(j.current),j.current=setTimeout((()=>{I(!1)}),2e3),e.key.toLowerCase()){case"f":X();break;case"n":G();break;case"p":H();break;case"r":K();break;case"c":w((e=>!e));break;case"arrowleft":te&&o(te.name,"prevtrack");break;case"arrowright":te&&o(te.name,"nexttrack");break;case" ":te&&o(te.name,"play")}};return document.addEventListener("keydown",n),()=>{window.removeEventListener("resize",e),document.removeEventListener("keydown",n),D.current&&D.current.disconnect(),W.current&&W.current.disconnect(),V.current&&"closed"!==V.current.state&&V.current.close(),L.current&&clearInterval(L.current),document.title="ScreamRouter",document.body.style.overflow=""}}),[]),(0,r.useEffect)((()=>{if(l&&b)return L.current&&clearInterval(L.current),L.current=setInterval((()=>{d?K():G()}),1e3*v),()=>{L.current&&clearInterval(L.current)}}),[l,b,d,v]);const J=()=>{P.current&&P.current.render(),requestAnimationFrame(J)},Y=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5.7;if(P.current&&O.current[e]){const t=O.current[e];F.current=t,console.log(`Loading preset: ${t}`),P.current.loadPreset(q.current[t],n)}},G=()=>{B.current.push(u);const e=d?Math.floor(Math.random()*O.current.length):(u+1)%O.current.length;m(e),Y(e)},H=()=>{const e=B.current.length>0?B.current.pop()||0:(u-1+O.current.length)%O.current.length;m(e),Y(e)},K=()=>{B.current.push(u);const e=Math.floor(Math.random()*O.current.length);m(e),Y(e)},X=()=>{if(s)document.exitFullscreen&&document.fullscreenElement&&document.exitFullscreen().then((()=>{setTimeout((()=>{const e=new Event("resize");window.dispatchEvent(e)}),100)})).catch((e=>{console.error("Error attempting to exit fullscreen:",e)}));else{const e=document.documentElement;e.requestFullscreen&&e.requestFullscreen().then((()=>{setTimeout((()=>{const e=new Event("resize");window.dispatchEvent(e)}),100)})).catch((e=>{console.error("Error attempting to enable fullscreen:",e)}))}c(!s),w(!1)},Q=(0,E.dU)("blue.500","blue.400"),Z=(0,E.dU)("blue.600","blue.500"),ee=(0,E.dU)("white","white"),ne=(0,E.dU)("rgba(255, 255, 255, 0.8)","rgba(0, 0, 0, 0.8)"),te=t.find((e=>e.name===a&&e.vnc_ip&&e.vnc_port));return(0,r.useEffect)((()=>{if(!te)return;let e;const n=()=>{I(!0),clearTimeout(e),e=setTimeout((()=>{I(!1)}),2e3)},t=e=>{console.log(`Key pressed: ${e.key}`),"ArrowLeft"===e.key?(console.log("Left arrow pressed - Previous track"),o(te.name,"prevtrack")):"ArrowRight"===e.key?(console.log("Right arrow pressed - Next track"),o(te.name,"nexttrack")):" "===e.key&&(console.log("Space pressed - Play/Pause"),o(te.name,"play"))};return window.addEventListener("mousemove",n),window.addEventListener("keydown",t),e=setTimeout((()=>{I(!1)}),2e3),()=>{window.removeEventListener("mousemove",n),window.removeEventListener("keydown",t),clearTimeout(e)}}),[te,o]),r.createElement(x.a,{width:"100vw",height:"100vh",margin:0,padding:0,overflow:"hidden",bg:"black",onClick:()=>{w(!y),I(!0);const e=setTimeout((()=>{I(!1)}),2e3);return()=>clearTimeout(e)}},te&&A&&r.createElement(k.s,{position:"fixed",bottom:"20px",left:"50%",transform:"translateX(-50%)",bg:"rgba(0, 0, 0, 0.7)",borderRadius:"md",padding:"10px",zIndex:1e3,gap:4,onClick:e=>e.stopPropagation(),opacity:1,transition:"opacity 0.3s ease-in-out"},r.createElement(C.K,{"aria-label":"Previous Track",icon:r.createElement(M.ttb,null),onClick:()=>o(te.name,"prevtrack"),colorScheme:"blue",size:"lg"}),r.createElement(C.K,{"aria-label":"Play/Pause",icon:r.createElement(M.gSK,null),onClick:()=>o(te.name,"play"),colorScheme:"blue",size:"lg"}),r.createElement(C.K,{"aria-label":"Next Track",icon:r.createElement(M.FH8,null),onClick:()=>o(te.name,"nexttrack"),colorScheme:"blue",size:"lg"})),!l&&r.createElement(z.$,{onClick:()=>{const e=p.getSinkStreamUrl(n);if(!_.current||!N.current)return;_.current.src=e,_.current.play().catch((e=>{console.error("Error playing audio:",e)})),V.current=new AudioContext,P.current=T().createVisualizer(V.current,N.current,{width:N.current.width,height:N.current.height,pixelRatio:window.devicePixelRatio||1,textureRatio:2}),D.current=V.current.createMediaElementSource(_.current),W.current=V.current.createDelay(),W.current.delayTime.value=.26,D.current.connect(W.current),P.current.connectAudio(W.current);const t=O.current[u];F.current=t,Y(u,0),requestAnimationFrame(J),i(!0)},position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",padding:"20px 40px",fontSize:"18px",bg:Q,color:ee,_hover:{bg:Z},borderRadius:"md"},"Start Visualization"),r.createElement(x.a,{as:"canvas",ref:N,id:"canvas",width:window.innerWidth,height:window.innerHeight,display:"block"}),r.createElement(x.a,{as:"audio",ref:_,id:"audio_visualizer",display:"none"}),l&&y&&A&&r.createElement(x.a,{position:"fixed",top:"10px",right:"10px",p:4,borderRadius:"md",bg:ne,zIndex:1e3,onClick:e=>e.stopPropagation(),opacity:1,transition:"opacity 0.3s ease-in-out"},r.createElement(k.s,{direction:"column",gap:3},r.createElement(k.s,{align:"center",justify:"space-between"},r.createElement($.E,{fontWeight:"bold"},"Preset:"),r.createElement(R.l,{value:u,onChange:e=>{const n=parseInt(e.target.value,10);m(n),Y(n)},width:"250px",size:"sm"},O.current.map(((e,n)=>r.createElement("option",{key:e,value:n},e.length>40?`${e.substring(0,40)}...`:e))))),r.createElement(k.s,{align:"center",justify:"space-between"},r.createElement($.E,{fontWeight:"bold"},"Cycle Presets:"),r.createElement("input",{type:"checkbox",checked:b,onChange:()=>h(!b)})),r.createElement(k.s,{align:"center",justify:"space-between"},r.createElement($.E,{fontWeight:"bold"},"Cycle Length (seconds):"),r.createElement("input",{type:"number",value:v,onChange:e=>{S(parseInt(e.target.value,10))},min:1,max:60,style:{width:"60px"}})),r.createElement(k.s,{align:"center",justify:"space-between"},r.createElement($.E,{fontWeight:"bold"},"Random Presets:"),r.createElement("input",{type:"checkbox",checked:d,onChange:()=>g(!d)})),r.createElement(k.s,{justify:"space-between",mt:2},r.createElement(z.$,{size:"sm",onClick:H},"Previous"),r.createElement(z.$,{size:"sm",onClick:G},"Next"),r.createElement(z.$,{size:"sm",onClick:K},"Random")),r.createElement(z.$,{size:"sm",onClick:X,mt:2},s?"Exit Fullscreen":"Fullscreen"),r.createElement($.E,{fontSize:"xs",mt:2},"Keyboard shortcuts: F (fullscreen), N (next), P (prev), R (random), C (controls)"))))};var _=t(5353),P=t(4178);const V={"📦Flat":{b1:1,b2:1,b3:1,b4:1,b5:1,b6:1,b7:1,b8:1,b9:1,b10:1,b11:1,b12:1,b13:1,b14:1,b15:1,b16:1,b17:1,b18:1},"📦Classical":{b1:1.2,b2:1.2,b3:1,b4:1,b5:1,b6:1,b7:.9,b8:.9,b9:.9,b10:.8,b11:.8,b12:.8,b13:.8,b14:.8,b15:.8,b16:.8,b17:.8,b18:.8},"📦Rock":{b1:1.2,b2:1.1,b3:.8,b4:.9,b5:1,b6:1.2,b7:1.4,b8:1.4,b9:1.4,b10:1.3,b11:1.2,b12:1.1,b13:1,b14:1,b15:1,b16:1.1,b17:1.2,b18:1.2},"📦Pop":{b1:.8,b2:.9,b3:1,b4:1.1,b5:1.2,b6:1.2,b7:1.1,b8:1,b9:1,b10:1,b11:1,b12:1.1,b13:1.2,b14:1.2,b15:1.1,b16:1,b17:.9,b18:.8},"📦Jazz":{b1:1.1,b2:1.1,b3:1,b4:1,b5:1,b6:1.1,b7:1.2,b8:1.2,b9:1.2,b10:1.1,b11:1,b12:.9,b13:.9,b14:.9,b15:1,b16:1.1,b17:1.1,b18:1.1},"📦Electronic":{b1:1.4,b2:1.3,b3:1.2,b4:1,b5:.8,b6:1,b7:1.2,b8:1.3,b9:1.4,b10:1.4,b11:1.3,b12:1.2,b13:1.1,b14:1,b15:1.1,b16:1.2,b17:1.3,b18:1.4}},D={...V};class W{constructor(){this.a0=this.b0=1,this.a1=this.a2=this.b1=this.b2=0}setParams(e,n,t,r){const a=Math.pow(10,Math.abs(t)/20),o=Math.tan(Math.PI*e/r);if(t>=0){const e=1/(1+1/n*o+o*o);this.b0=(1+a/n*o+o*o)*e,this.b1=2*(o*o-1)*e,this.b2=(1-a/n*o+o*o)*e,this.a1=this.b1,this.a2=(1-1/n*o+o*o)*e}else{const e=1/(1+a/n*o+o*o);this.b0=(1+1/n*o+o*o)*e,this.b1=2*(o*o-1)*e,this.b2=(1-1/n*o+o*o)*e,this.a1=this.b1,this.a2=(1-a/n*o+o*o)*e}this.a0=1}}const q=e=>{let{item:n,type:t,onClose:a,onDataChange:o}=e;const[l,i]=(0,r.useState)(n.equalizer),[s,c]=(0,r.useState)(null),[u,m]=(0,r.useState)("Custom"),[d,g]=(0,r.useState)({}),b=(0,r.useRef)(null);(0,r.useEffect)((()=>{(async()=>{try{const e=(await p.listEqualizers()).data.equalizers,t={};e.forEach((e=>{if(null==e.name)return;const n=`🛠️${e.name}`;t[n]=e,D[n]=e})),g(t),h(n.equalizer),console.log(D)}catch(e){console.error("Error loading equalizers:",e),c("Failed to load equalizers. Please try again.")}console.log(D)})()}),[]);const h=e=>{const n=Object.entries({...D,...d}).find((n=>{let[t,r]=n;return Object.entries(r).every((n=>{let[t,r]=n;if("name"===t)return!0;const a=e[t];return"number"==typeof a&&Math.abs(a-r)<.01}))}));m(n?n[0]:"Custom")},f=Object.entries(l).filter((e=>{let[n]=e;return"name"!==n})).sort(((e,n)=>parseInt(e[0].slice(1),10)-parseInt(n[0].slice(1),10))),y=[65.406392,92.498606,130.81278,184.99721,261.62557,369.99442,523.25113,739.9884,1046.5023,1479.9768,2093.0045,2959.9536,4186.0091,5919.9072,8372.0181,11839.814,16744.036,2e4],w=(e,n)=>{let t=1;return f.forEach(((r,a)=>{let[o,l]=r;console.log(o);const i=new W;i.setParams(y[a],1.41,20*Math.log10(Math.max(l,.001)),n);const s=2*Math.PI*e/n,c=Math.pow(Math.sin(s/2),2),u=i.b0,m=i.b1,d=i.b2,g=i.a0,p=i.a1,b=i.a2,h=Math.sqrt(Math.pow(u+m+d,2)-4*(u*m+4*u*d+m*d)*c+16*u*d*c*c)/Math.sqrt(Math.pow(g+p+b,2)-4*(g*p+4*g*b+p*b)*c+16*g*b*c*c);t*=h})),20*Math.log10(t)};(0,r.useEffect)((()=>{const e=b.current;if(e){const n=e.getContext("2d");if(n){n.clearRect(0,0,e.width,e.height),n.fillStyle="#1e1e1e",n.fillRect(0,0,e.width,e.height),n.strokeStyle="rgba(255, 255, 255, 0.1)",n.lineWidth=1,[20,50,100,200,500,1e3,2e3,5e3,1e4,2e4,24e3].forEach((t=>{const r=Math.log2(t/20)/Math.log2(1200)*e.width;n.beginPath(),n.moveTo(r,0),n.lineTo(r,e.height-20),n.stroke(),n.fillStyle="rgba(255, 255, 255, 0.7)",n.font="10px Arial",n.textAlign="center",n.fillText(t>=1e3?t/1e3+"k":t.toString(),r,e.height-5)}));const t=12;[-12,-9,-6,-3,0,3,6,9,12].forEach((r=>{const a=e.height/2-10-r/t*((e.height-20)/2);n.beginPath(),n.moveTo(0,a),n.lineTo(e.width,a),n.stroke(),n.fillStyle="rgba(255, 255, 255, 0.7)",n.font="10px Arial",n.textAlign="right",n.fillText(`${r} dB`,e.width-5,a+3)})),n.strokeStyle="#2ecc71",n.lineWidth=2,n.beginPath();const r=48e3,a=200;for(let o=0;o<a;o++){const l=Math.exp(Math.log(20)+(Math.log(24e3)-Math.log(20))*(o/(a-1))),i=w(l,r),s=Math.log2(l/20)/Math.log2(1200)*e.width,c=e.height/2-10-i/t*((e.height-20)/2);0===o?n.moveTo(s,c):n.lineTo(s,c)}n.stroke(),n.fillStyle="rgba(255, 255, 255, 0.9)",n.font="12px Arial",n.textAlign="center",n.fillText("Frequency (Hz)",e.width/2,e.height-20),n.save(),n.translate(10,e.height/2),n.rotate(-Math.PI/2),n.textAlign="center",n.fillText("Gain (dB)",0,0),n.restore()}}}),[l]),(0,r.useEffect)((()=>{let e=null;return s&&(e=setTimeout((()=>{c(null)}),1e4)),()=>{e&&clearTimeout(e)}}),[s]);const C=(0,E.dU)("white","gray.800"),A=(0,E.dU)("gray.200","gray.700"),T=(0,E.dU)("gray.800","white"),I=(0,E.dU)("gray.300","gray.600"),U=(0,E.dU)("blue.100","blue.900"),M=(0,E.dU)("blue.500","blue.300"),N=(0,E.dU)("blue.600","blue.400");return r.createElement(x.a,{p:4,bg:C,borderWidth:"1px",borderColor:A,borderRadius:"md",maxW:"800px",mx:"auto"},r.createElement(_.D,{as:"h3",size:"md",mb:4,textAlign:"center"},n.name," ",t.replace(/s$/,"").replace(/^(.)/,(function(e){return e.toUpperCase()}))," Equalizer"),s&&r.createElement(v.F,{status:"error",mb:4,borderRadius:"md"},r.createElement(S._,null),s),r.createElement(x.a,{mb:4,textAlign:"center"},r.createElement(x.a,{as:"canvas",ref:b,width:"600",height:"310",borderWidth:"1px",borderColor:I,borderRadius:"md",mx:"auto"})),r.createElement(x.a,{mb:4},r.createElement(k.s,{mb:4,alignItems:"center",justifyContent:"center",gap:2},r.createElement($.E,{fontWeight:"medium",mr:2},"Preset:"),r.createElement(R.l,{value:u,onChange:e=>{const n=e.target.value;m(n),"Custom"!==n&&i({...D[n],...d[n]})},width:"auto",minW:"200px"},r.createElement("option",{value:"Custom"},"Custom"),Object.keys({...D,...d}).map((e=>r.createElement("option",{key:e,value:e},e)))),r.createElement(z.$,{colorScheme:"blue",size:"sm",onClick:async()=>{const e=prompt("Enter a name for the new equalizer preset:");if(e)if(D[e]||d[e])c("Preset name already exists.");else try{c(null),await p.saveEqualizer(e,l),g((n=>({...n,[`🛠️${e}`]:l}))),m(`🛠️${e}`)}catch(e){console.error("Error saving equalizer:",e),c("Failed to save equalizer. Please try again.")}else c("Name is required.")},ml:2},"Save"),r.createElement(z.$,{colorScheme:"red",size:"sm",onClick:async()=>{if(u in V)c("Cannot delete a hard-coded preset.");else try{c(null),await p.deleteEqualizer(u.replace("🛠️","")),g((e=>{const n={...e};return delete n[u],n})),m("Custom")}catch(e){console.error("Error deleting equalizer:",e),c("Failed to delete equalizer. Please try again.")}}},"Delete")),r.createElement(k.s,{justifyContent:"space-between",alignItems:"flex-end",height:"200px",position:"relative",px:4},f.map(((e,n)=>{let[t,a]=e;return r.createElement(k.s,{key:t,direction:"column",alignItems:"center",height:"100%",width:100/f.length+"%"},r.createElement(P.Ap,{id:t,orientation:"vertical",min:0,max:2,step:.1,value:a,onChange:e=>((e,n)=>{i((t=>{const r={...t,[e]:n};return h(r),r}))})(t,e),height:"180px"},r.createElement(P.hB,{bg:U,width:"8px"},r.createElement(P.hJ,{bg:M})),r.createElement(P.OQ,{bg:N,boxSize:"16px"})),r.createElement($.E,{fontSize:"xs",mt:2,color:T},y[n].toFixed(0)))})),r.createElement($.E,{position:"absolute",bottom:"-25px",right:"0",fontSize:"sm",color:T},"Hz"))),r.createElement(k.s,{justifyContent:"center",gap:4,mt:6},r.createElement(z.$,{colorScheme:"green",onClick:async()=>{try{switch(c(null),t){case"sources":await p.updateSourceEqualizer(n.name,l);break;case"sinks":await p.updateSinkEqualizer(n.name,l);break;case"routes":await p.updateRouteEqualizer(n.name,l)}}catch(e){console.error("Error updating equalizer:",e),c("Failed to update equalizer. Please try again.")}}},"Apply"),r.createElement(z.$,{variant:"outline",onClick:()=>{a(),o()}},"Close")))},O=e=>{let{ip:n}=e;const[t]=(0,i.ok)(),a=(0,s.g)(),o=t.get("ip"),l=a.ip,c=n||l||o,[u,m]=(0,r.useState)("Connecting to transcription service..."),[d,g]=(0,r.useState)(!1),[p,b]=(0,r.useState)(0),h=(0,E.dU)("gray.800","gray.100"),f=(0,E.dU)("gray.200","gray.700"),k=()=>{if(!c)return m("Error: No IP address provided"),null;const e=new WebSocket(`ws://127.0.0.1:8085/transcribe/${c}/`);return e.onopen=()=>{console.log("WebSocket connection established"),m("Connected. Waiting for transcription data..."),g(!0),b(0)},e.onmessage=e=>{console.log("WebSocket message received:",e.data);const n=e.data.replace(/\n/g,"<br/>");m(n)},e.onerror=e=>{console.error("WebSocket error:",e),m("Error connecting to transcription service. Attempting to reconnect..."),g(!1)},e.onclose=()=>{console.log("WebSocket connection closed"),m("Connection closed. Attempting to reconnect..."),g(!1)},e};return(0,r.useEffect)((()=>{document.title="ScreamRouter - Transcribe";const e=k();return()=>{e&&e.readyState===WebSocket.OPEN&&e.close()}}),[c]),(0,r.useEffect)((()=>{let e=null;return!d&&c&&(e=setTimeout((()=>{console.log(`Attempting to reconnect (attempt ${p+1})...`),b((e=>e+1));const e=k();return()=>{e&&e.readyState!==WebSocket.CLOSED&&e.close()}}),3e3)),()=>{e&&clearTimeout(e)}}),[d,p,c]),c?r.createElement(x.a,{width:"100%",height:"100vh",display:"flex",alignItems:"center",justifyContent:"left",bg:"rgba(127, 127, 127, .00)",position:"relative"},r.createElement($.E,{fontSize:"20px",fontWeight:"bold",color:"white",sx:{"text-shadow":"-2px -2px 0 #000, 2px -2px 0 #000, -2px 2px 0 #000, 2px 2px 0 #000;"},textAlign:"left",dangerouslySetInnerHTML:{__html:u}})):r.createElement(x.a,{width:"100%",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",bg:"rgba(127, 127, 127, .6)"},r.createElement(x.a,{p:8,maxWidth:"800px",borderWidth:1,borderRadius:"lg",boxShadow:"lg",bg:"rgba(127, 127, 127, .6)",borderColor:f},r.createElement(_.D,{as:"h2",size:"xl",mb:4,color:h},"Error"),r.createElement($.E,{fontSize:"lg",color:h},"No IP address provided. Please specify an IP address.")))};var B=t(9290),L=t(5958),F=t(7584),j=t(6277),J=t(1570),Y=t(6756),G=t(7486),H=t(5639),K=t(3738),X=t(5311);const Q=e=>{let{value:n,onChange:t}=e;const[a,o]=(0,r.useState)(!1),l=(0,E.dU)("gray.100","gray.700"),i=(0,E.dU)("green.500","green.300"),s=(0,E.dU)("white","gray.200"),c=(0,E.dU)("gray.700","gray.200");return r.createElement(x.a,{width:"100%",maxWidth:"300px"},r.createElement(k.s,{direction:"column",width:"100%"},r.createElement(P.Ap,{id:"volume-slider","aria-label":"Volume slider",min:0,max:1,step:.01,value:n,onChange:t,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),mr:3,flex:"1"},r.createElement(P.hB,{bg:l},r.createElement(P.hJ,{bg:i})),r.createElement(H.m,{hasArrow:!0,bg:"green.500",color:"white",placement:"top",isOpen:a,label:`${Math.round(100*n)}%`},r.createElement(P.OQ,{boxSize:6,bg:s},r.createElement(K.I,{as:X.M,color:"green.500"})))),r.createElement($.E,{fontSize:"sm",width:"40px",textAlign:"right",color:c},Math.round(100*n),"%")))},Z=e=>{let{value:n,onChange:t}=e;const[a,o]=(0,r.useState)(n),[l,i]=(0,r.useState)(!1),s=(0,r.useRef)(null),c=(0,E.dU)("gray.100","gray.700"),u=(0,E.dU)("blue.500","blue.300"),m=(0,E.dU)("white","gray.200"),d=(0,E.dU)("gray.700","gray.200");(0,r.useEffect)((()=>{o(n)}),[n]);const g=(0,r.useCallback)((e=>{s.current&&clearTimeout(s.current),s.current=setTimeout((()=>{t(e)}),300)}),[t]),p=e=>{const n=Math.abs(e);return`${Math.floor(n/60)}:${Math.round(n%60).toString().padStart(2,"0")}`};return r.createElement(x.a,{width:"100%",maxWidth:"300px"},r.createElement(k.s,{direction:"column",width:"100%"},r.createElement(P.Ap,{id:"timeshift-slider","aria-label":"Timeshift slider",min:-300,max:0,step:.1,value:-a,onChange:e=>{const n=-e;o(n),g(n)},onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1)},r.createElement(P.hB,{bg:c},r.createElement(P.hJ,{bg:u})),r.createElement(H.m,{hasArrow:!0,bg:"blue.500",color:"white",placement:"top",isOpen:l,label:`-${p(a)}`},r.createElement(P.OQ,{bg:m}))),r.createElement($.E,{mt:2,fontSize:"sm",color:d,alignSelf:"flex-end"},"-",p(a))))},ee=()=>{const[e]=(0,i.ok)(),n=e.get("name"),t=!!n,[a,o]=(0,r.useState)(null),[l,s]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[m,d]=(0,r.useState)(!0),[g,b]=(0,r.useState)(!1),[h,f]=(0,r.useState)([]),[y,w]=(0,r.useState)(100),[C,$]=(0,r.useState)(0),[R,A]=(0,r.useState)(0),[T,I]=(0,r.useState)(""),[U,M]=(0,r.useState)("5900"),[N,P]=(0,r.useState)(null),[V,D]=(0,r.useState)(null),W=(0,E.dU)("white","gray.800"),q=(0,E.dU)("gray.200","gray.700"),O=(0,E.dU)("white","gray.700");return(0,r.useEffect)((()=>{(async()=>{if(n)try{const e=await p.getSources(),t=Object.values(e.data).find((e=>e.name===n));t?(o(t),s(t.name),u(t.ip||""),d(t.enabled),b(t.is_group),f(t.group_members||[]),w(t.volume||100),$(t.delay||0),A(t.timeshift||0),I(t.vnc_ip||""),M(t.vnc_port?.toString()||"5900")):P(`Source "${n}" not found.`)}catch(e){console.error("Error fetching source:",e),P("Failed to fetch source data. Please try again.")}})()}),[n]),r.createElement(B.m,{maxW:"container.md",py:8},r.createElement(x.a,{bg:W,borderColor:q,borderWidth:"1px",borderRadius:"lg",p:6,boxShadow:"md"},r.createElement(_.D,{as:"h1",size:"lg",mb:6},t?"Edit Source":"Add Source"),N&&r.createElement(v.F,{status:"error",mb:4,borderRadius:"md"},r.createElement(S._,null),N),V&&r.createElement(v.F,{status:"success",mb:4,borderRadius:"md"},r.createElement(S._,null),V),r.createElement(L.B,{spacing:4},r.createElement(F.MJ,{isRequired:!0},r.createElement(j.l,null,"Source Name"),r.createElement(J.p,{value:l,onChange:e=>s(e.target.value),bg:O})),r.createElement(F.MJ,{isRequired:!0},r.createElement(j.l,null,"Source IP"),r.createElement(J.p,{value:c,onChange:e=>u(e.target.value),bg:O})),r.createElement(F.MJ,{display:"flex",alignItems:"center"},r.createElement(j.l,{htmlFor:"enabled",mb:"0"},"Enabled"),r.createElement(Y.d,{id:"enabled",isChecked:m,onChange:e=>d(e.target.checked)})),r.createElement(F.MJ,null,r.createElement(j.l,null,"Volume"),r.createElement(Q,{value:y,onChange:e=>w(e)})),r.createElement(F.MJ,null,r.createElement(j.l,null,"Delay (ms)"),r.createElement(G.Q7,{value:C,onChange:e=>$(parseInt(e)),min:0,max:5e3,bg:O},r.createElement(G.OO,null),r.createElement(G.lw,null,r.createElement(G.Q0,null),r.createElement(G.Sh,null)))),r.createElement(F.MJ,null,r.createElement(j.l,null,"Timeshift"),r.createElement(Z,{value:R,onChange:A})),r.createElement(_.D,{as:"h3",size:"md",mt:4,mb:2},"VNC Settings (Optional)"),r.createElement(F.MJ,null,r.createElement(j.l,null,"VNC IP"),r.createElement(J.p,{value:T,onChange:e=>I(e.target.value),bg:O,placeholder:"Leave empty if not using VNC"})),r.createElement(F.MJ,null,r.createElement(j.l,null,"VNC Port"),r.createElement(G.Q7,{value:U,onChange:e=>M(e),min:1,max:65535,bg:O,isDisabled:!T},r.createElement(G.OO,null),r.createElement(G.lw,null,r.createElement(G.Q0,null),r.createElement(G.Sh,null))))),r.createElement(k.s,{mt:8,gap:3,justifyContent:"flex-end"},r.createElement(z.$,{colorScheme:"blue",onClick:async()=>{const e={name:l,ip:c,enabled:m,is_group:g,group_members:h,volume:y,delay:C,timeshift:R,vnc_ip:T||void 0,vnc_port:T?parseInt(U):void 0};try{t?(await p.updateSource(n,e),D(`Source "${l}" updated successfully.`)):(await p.addSource(e),D(`Source "${l}" added successfully.`)),t||(s(""),u(""),d(!0),b(!1),f([]),w(100),$(0),A(0),I(""),M("5900"))}catch(e){console.error("Error submitting source:",e),P("Failed to submit source. Please try again.")}}},t?"Update Source":"Add Source"),r.createElement(z.$,{variant:"outline",onClick:()=>{window.close()}},"Close"))))};var ne=t(8059);const te=()=>{const[e]=(0,i.ok)(),n=e.get("name"),t=!!n,[a,o]=(0,r.useState)(null),[l,s]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[m,d]=(0,r.useState)("4010"),[g,b]=(0,r.useState)("32"),[h,f]=(0,r.useState)("48000"),[y,w]=(0,r.useState)("2"),[C,$]=(0,r.useState)("stereo"),[A,T]=(0,r.useState)(1),[I,U]=(0,r.useState)(0),[M,N]=(0,r.useState)(!1),[P,V]=(0,r.useState)("0"),[D,W]=(0,r.useState)(null),[q,O]=(0,r.useState)(null),Y=(0,E.dU)("white","gray.800"),H=(0,E.dU)("gray.200","gray.700"),K=(0,E.dU)("white","gray.700");return(0,r.useEffect)((()=>{(async()=>{if(n)try{const e=await p.getSinks(),t=Object.values(e.data).find((e=>e.name===n));t?(o(t),s(t.name),u(t.ip||""),d(t.port?.toString()||"4010"),b(t.bit_depth?.toString()||"32"),f(t.sample_rate?.toString()||"48000"),w(t.channels?.toString()||"2"),$(t.channel_layout||"stereo"),T(t.volume||1),U(t.delay||0),N(t.time_sync||!1),V(t.time_sync_delay?.toString()||"0")):W(`Sink "${n}" not found.`)}catch(e){console.error("Error fetching sink:",e),W("Failed to fetch sink data. Please try again.")}})()}),[n]),r.createElement(B.m,{maxW:"container.md",py:8},r.createElement(x.a,{bg:Y,borderColor:H,borderWidth:"1px",borderRadius:"lg",p:6,boxShadow:"md"},r.createElement(_.D,{as:"h1",size:"lg",mb:6},t?"Edit Sink":"Add Sink"),D&&r.createElement(v.F,{status:"error",mb:4,borderRadius:"md"},r.createElement(S._,null),D),q&&r.createElement(v.F,{status:"success",mb:4,borderRadius:"md"},r.createElement(S._,null),q),r.createElement(L.B,{spacing:4},r.createElement(F.MJ,{isRequired:!0},r.createElement(j.l,null,"Sink Name"),r.createElement(J.p,{value:l,onChange:e=>s(e.target.value),bg:K})),r.createElement(F.MJ,{isRequired:!0},r.createElement(j.l,null,"Sink IP"),r.createElement(J.p,{value:c,onChange:e=>u(e.target.value),bg:K})),r.createElement(F.MJ,{isRequired:!0},r.createElement(j.l,null,"Sink Port"),r.createElement(G.Q7,{value:m,onChange:e=>d(e),min:1,max:65535,bg:K},r.createElement(G.OO,null),r.createElement(G.lw,null,r.createElement(G.Q0,null),r.createElement(G.Sh,null)))),r.createElement(F.MJ,null,r.createElement(j.l,null,"Bit Depth"),r.createElement(R.l,{value:g,onChange:e=>b(e.target.value),bg:K},r.createElement("option",{value:"16"},"16"),r.createElement("option",{value:"24"},"24"),r.createElement("option",{value:"32"},"32"))),r.createElement(F.MJ,null,r.createElement(j.l,null,"Sample Rate"),r.createElement(R.l,{value:h,onChange:e=>f(e.target.value),bg:K},r.createElement("option",{value:"44100"},"44100"),r.createElement("option",{value:"48000"},"48000"),r.createElement("option",{value:"88200"},"88200"),r.createElement("option",{value:"96000"},"96000"),r.createElement("option",{value:"192000"},"192000"))),r.createElement(F.MJ,{isRequired:!0},r.createElement(j.l,null,"Channels"),r.createElement(G.Q7,{value:y,onChange:e=>w(e),min:1,max:8,bg:K},r.createElement(G.OO,null),r.createElement(G.lw,null,r.createElement(G.Q0,null),r.createElement(G.Sh,null)))),r.createElement(F.MJ,null,r.createElement(j.l,null,"Channel Layout"),r.createElement(R.l,{value:C,onChange:e=>$(e.target.value),bg:K},r.createElement("option",{value:"mono"},"Mono"),r.createElement("option",{value:"stereo"},"Stereo"),r.createElement("option",{value:"quad"},"Quad"),r.createElement("option",{value:"surround"},"Surround"),r.createElement("option",{value:"5.1"},"5.1"),r.createElement("option",{value:"7.1"},"7.1"))),r.createElement(F.MJ,null,r.createElement(j.l,null,"Volume"),r.createElement(Q,{value:A,onChange:T})),r.createElement(F.MJ,null,r.createElement(j.l,null,"Timeshift"),r.createElement(Z,{value:I,onChange:U})),r.createElement(F.MJ,null,r.createElement(k.s,{alignItems:"center"},r.createElement(ne.S,{isChecked:M,onChange:e=>N(e.target.checked),mr:2}),r.createElement(j.l,{mb:0},"Time Sync"))),r.createElement(F.MJ,null,r.createElement(j.l,null,"Time Sync Delay (ms)"),r.createElement(G.Q7,{value:P,onChange:e=>V(e),min:0,max:5e3,bg:K,isDisabled:!M},r.createElement(G.OO,null),r.createElement(G.lw,null,r.createElement(G.Q0,null),r.createElement(G.Sh,null))))),r.createElement(k.s,{mt:8,gap:3,justifyContent:"flex-end"},r.createElement(z.$,{colorScheme:"blue",onClick:async()=>{const e={name:l,ip:c,port:parseInt(m),bit_depth:parseInt(g),sample_rate:parseInt(h),channels:parseInt(y),channel_layout:C,volume:A,delay:I,time_sync:M,time_sync_delay:parseInt(P)};try{t?(await p.updateSink(n,e),O(`Sink "${l}" updated successfully.`)):(await p.addSink(e),O(`Sink "${l}" added successfully.`)),t||(s(""),u(""),d("4010"),b("32"),f("48000"),w("2"),$("stereo"),T(1),U(0),N(!1),V("0"))}catch(e){console.error("Error submitting sink:",e),W("Failed to submit sink. Please try again.")}}},t?"Update Sink":"Add Sink"),r.createElement(z.$,{variant:"outline",onClick:()=>{window.close()}},"Close"))))},re=()=>{const[e]=(0,i.ok)(),n=e.get("name"),t=e.get("source"),a=e.get("sink"),o=!!n,[l,s]=(0,r.useState)(null),[c,u]=(0,r.useState)(""),[m,d]=(0,r.useState)(!1),[g,b]=(0,r.useState)(""),[h,f]=(0,r.useState)(""),[y,w]=(0,r.useState)(!0),[C,$]=(0,r.useState)(100),[A,T]=(0,r.useState)(0),[I,U]=(0,r.useState)(0),[M,N]=(0,r.useState)([]),[P,V]=(0,r.useState)([]),[D,W]=(0,r.useState)(null),[q,O]=(0,r.useState)(null),G=(0,E.dU)("white","gray.800"),H=(0,E.dU)("gray.200","gray.700"),K=(0,E.dU)("white","gray.700");return(0,r.useEffect)((()=>{(async()=>{try{const[e,n]=await Promise.all([p.getSources(),p.getSinks()]);N(Object.values(e.data)),V(Object.values(n.data)),t&&!o&&Object.values(e.data).some((e=>e.name===t))&&b(t),a&&!o&&Object.values(n.data).some((e=>e.name===a))&&f(a)}catch(e){console.error("Error fetching sources and sinks:",e),W("Failed to fetch sources and sinks. Please try again.")}})()}),[t,a,o]),(0,r.useEffect)((()=>{(async()=>{if(n)try{const e=await p.getRoutes(),t=Object.values(e.data).find((e=>e.name===n));t?(s(t),u(t.name),b(t.source),f(t.sink),w(t.enabled),$(t.volume||100),T(t.delay||0),U(t.timeshift||0)):W(`Route "${n}" not found.`)}catch(e){console.error("Error fetching route:",e),W("Failed to fetch route data. Please try again.")}})()}),[n]),(0,r.useEffect)((()=>{!o&&!m&&g&&h&&u(`${g} to ${h}`)}),[g,h,m,o]),r.createElement(B.m,{maxW:"container.md",py:8},r.createElement(x.a,{bg:G,borderColor:H,borderWidth:"1px",borderRadius:"lg",p:6,boxShadow:"md"},r.createElement(_.D,{as:"h1",size:"lg",mb:6},o?"Edit Route":"Add Route"),D&&r.createElement(v.F,{status:"error",mb:4,borderRadius:"md"},r.createElement(S._,null),D),q&&r.createElement(v.F,{status:"success",mb:4,borderRadius:"md"},r.createElement(S._,null),q),r.createElement(L.B,{spacing:4},r.createElement(F.MJ,{isRequired:!0},r.createElement(j.l,null,"Route Name"),r.createElement(J.p,{value:c,onChange:e=>{u(e.target.value),d(""!==e.target.value)},bg:K})),r.createElement(F.MJ,{isRequired:!0},r.createElement(j.l,null,"Source"),r.createElement(R.l,{value:g,onChange:e=>b(e.target.value),bg:K,placeholder:"Select a source"},M.map((e=>r.createElement("option",{key:e.name,value:e.name},e.name))))),r.createElement(F.MJ,{isRequired:!0},r.createElement(j.l,null,"Sink"),r.createElement(R.l,{value:h,onChange:e=>f(e.target.value),bg:K,placeholder:"Select a sink"},P.map((e=>r.createElement("option",{key:e.name,value:e.name},e.name))))),r.createElement(F.MJ,{display:"flex",alignItems:"center"},r.createElement(j.l,{htmlFor:"enabled",mb:"0"},"Enabled"),r.createElement(Y.d,{id:"enabled",isChecked:y,onChange:e=>w(e.target.checked)})),r.createElement(F.MJ,null,r.createElement(j.l,null,"Volume"),r.createElement(Q,{value:C,onChange:e=>$(e)})),r.createElement(F.MJ,null,r.createElement(j.l,null,"Delay (ms)"),r.createElement(Z,{value:A,onChange:T})),r.createElement(F.MJ,null,r.createElement(j.l,null,"Timeshift"),r.createElement(Z,{value:I,onChange:U}))),r.createElement(k.s,{mt:8,gap:3,justifyContent:"flex-end"},r.createElement(z.$,{colorScheme:"blue",onClick:async()=>{if(!g)return void W("Please select a source.");if(!h)return void W("Please select a sink.");const e={name:c,source:g,sink:h,enabled:y,volume:C,delay:A,timeshift:I};try{o?(await p.updateRoute(n,e),O(`Route "${c}" updated successfully.`)):(await p.addRoute(e),O(`Route "${c}" added successfully.`)),o||(u(""),b(""),f(""),w(!0),$(100),T(0),U(0))}catch(e){console.error("Error submitting route:",e),W("Failed to submit route. Please try again.")}}},o?"Update Route":"Add Route"),r.createElement(z.$,{variant:"outline",onClick:()=>{window.close()}},"Close"))))};var ae=t(2961),oe=t(551);const le=()=>{const[e]=(0,i.ok)(),n=e.get("name"),t=e.get("type")||"source",a=!!n,[o,l]=(0,r.useState)(null),[s,c]=(0,r.useState)(""),[u,m]=(0,r.useState)(!0),[d,g]=(0,r.useState)([]),[b,h]=(0,r.useState)([]),[f,y]=(0,r.useState)(null),[w,C]=(0,r.useState)(null),$=(0,E.dU)("white","gray.800"),R=(0,E.dU)("gray.200","gray.700"),A=(0,E.dU)("white","gray.700");return(0,r.useEffect)((()=>{(async()=>{try{if("source"===t){const e=await p.getSources(),n=Object.values(e.data).filter((e=>!e.is_group));h(n)}else{const e=await p.getSinks(),n=Object.values(e.data).filter((e=>!e.is_group));h(n)}}catch(e){console.error(`Error fetching ${t}s:`,e),y(`Failed to fetch ${t}s. Please try again.`)}})()}),[t]),(0,r.useEffect)((()=>{(async()=>{if(n)try{if("source"===t){const e=await p.getSources(),t=Object.values(e.data).find((e=>e.name===n));t?(l(t),c(t.name),m(t.enabled),g(t.group_members||[])):y(`Source group "${n}" not found.`)}else{const e=await p.getSinks(),t=Object.values(e.data).find((e=>e.name===n));t?(l(t),c(t.name),m(t.enabled),g(t.group_members||[])):y(`Sink group "${n}" not found.`)}}catch(e){console.error(`Error fetching ${t} group:`,e),y(`Failed to fetch ${t} group data. Please try again.`)}})()}),[n,t]),r.createElement(B.m,{maxW:"container.md",py:8},r.createElement(x.a,{bg:$,borderColor:R,borderWidth:"1px",borderRadius:"lg",p:6,boxShadow:"md"},r.createElement(_.D,{as:"h1",size:"lg",mb:6},a?`Edit ${t.charAt(0).toUpperCase()+t.slice(1)} Group`:`Add ${t.charAt(0).toUpperCase()+t.slice(1)} Group`),f&&r.createElement(v.F,{status:"error",mb:4,borderRadius:"md"},r.createElement(S._,null),f),w&&r.createElement(v.F,{status:"success",mb:4,borderRadius:"md"},r.createElement(S._,null),w),r.createElement(L.B,{spacing:4},r.createElement(F.MJ,{isRequired:!0},r.createElement(j.l,null,"Group Name"),r.createElement(J.p,{value:s,onChange:e=>c(e.target.value),bg:A})),r.createElement(F.MJ,{display:"flex",alignItems:"center"},r.createElement(j.l,{htmlFor:"enabled",mb:"0"},"Enabled"),r.createElement(Y.d,{id:"enabled",isChecked:u,onChange:e=>m(e.target.checked)})),r.createElement(F.MJ,{isRequired:!0},r.createElement(j.l,null,"Group Members"),r.createElement(x.a,{borderWidth:"1px",borderRadius:"md",p:4,bg:A,maxH:"300px",overflowY:"auto"},r.createElement(ae.$,{colorScheme:"blue",value:d,onChange:e=>g(e)},r.createElement(oe.T,{align:"start",spacing:2},b.map((e=>r.createElement(ne.S,{key:e.name,value:e.name},e.name)))))))),r.createElement(k.s,{mt:8,gap:3,justifyContent:"flex-end"},r.createElement(z.$,{colorScheme:"blue",onClick:async()=>{if(0===d.length)return void y("Please select at least one member for the group.");const e={name:s,enabled:u,is_group:!0,group_members:d};try{a?("source"===t?await p.updateSource(n,e):await p.updateSink(n,e),C(`${t.charAt(0).toUpperCase()+t.slice(1)} group "${s}" updated successfully.`)):("source"===t?await p.addSource(e):await p.addSink(e),C(`${t.charAt(0).toUpperCase()+t.slice(1)} group "${s}" added successfully.`)),a||(c(""),m(!0),g([]))}catch(e){console.error(`Error submitting ${t} group:`,e),y(`Failed to submit ${t} group. Please try again.`)}}},a?"Update Group":"Add Group"),r.createElement(z.$,{variant:"outline",onClick:()=>{window.close()}},"Close"))))};var ie=t(2609),se=t(5790),ce=t(1035),ue=t(3609),me=t(5444),de=t(5323),ge=t(714);const pe=e=>{let{isOpen:n,onClose:t,onConfirm:a,title:o,message:l,confirmButtonText:i="Delete",confirmColorScheme:s="red"}=e;const c=r.useRef(null);return r.createElement(ce.Lt,{isOpen:n,leastDestructiveRef:c,onClose:t},r.createElement(ue.m,{bg:"rgba(0, 0, 0, 0)"},r.createElement(ce.EO,{pointerEvents:"auto",position:"fixed",bottom:"30%",left:"50%",transform:"translateX(-50%)"},r.createElement(me.r,{fontSize:"lg",fontWeight:"bold"},o),r.createElement(de.c,null,l),r.createElement(ge.j,null,r.createElement(z.$,{ref:c,onClick:t},"Cancel"),r.createElement(z.$,{colorScheme:s,onClick:()=>{a(),t()},ml:3},i)))))},be=(0,r.createContext)(null),he={r:68,g:77,b:82,a:1},fe=new class{listeners=[];constructor(){const e=localStorage.getItem("desktopMenuColor");if(e)try{const n=JSON.parse(e);n&&"object"==typeof n&&"r"in n&&"g"in n&&"b"in n&&"number"==typeof n.r&&"number"==typeof n.g&&"number"==typeof n.b?this.currentColor=n:this.currentColor=he}catch{this.currentColor=he}else this.currentColor=he}setCurrentColor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{r:0,g:0,b:0,a:0};if(0===e.r&&0===e.g&&0===e.b)this.currentColor=he;else{console.log(`ColorContextManager: Setting color to RGB(${e.r}, ${e.g}, ${e.b}, ${e.a})`);const n=(e.r+e.g+e.b)/3,t=.15*n;this.currentColor={a:e.a,r:Math.round(Math.min(e.r,n+t)),g:Math.round(Math.min(e.g,n+t)),b:Math.round(Math.min(e.b,n+t))}}const n=window.matchMedia("(prefers-color-scheme: dark)").matches;this.currentColor=n?this.getDarkerColorColor(.66):this.getLighterColorColor(1.5),localStorage.setItem("desktopMenuColor",JSON.stringify(this.currentColor)),this.notifyListeners()}getCurrentColor(){return this.currentColor}subscribe(e){return this.listeners.push(e),()=>{this.listeners=this.listeners.filter((n=>n!==e))}}notifyListeners(){this.listeners.forEach((e=>e(this.currentColor)))}getColor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return`rgba(${this.currentColor.r}, ${this.currentColor.g}, ${this.currentColor.b}, ${e})`}getLighterColor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1.2,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return`rgba(${Math.min(255,Math.round(this.currentColor.r*e))}, \n            ${Math.min(255,Math.round(this.currentColor.g*e))}, \n            ${Math.min(255,Math.round(this.currentColor.b*e))},\n            ${n})`}getDarkerColor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.8,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return`rgba(${Math.round(this.currentColor.r*e)}, \n            ${Math.round(this.currentColor.g*e)}, \n            ${Math.round(this.currentColor.b*e)},\n            ${n})`}getDarkerColorColor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.8;return{r:Math.round(this.currentColor.r*e),g:Math.round(this.currentColor.g*e),b:Math.round(this.currentColor.b*e),a:this.currentColor.a}}getLighterColorColor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.8;return{r:Math.min(Math.round(this.currentColor.r*e),255),g:Math.min(Math.round(this.currentColor.g*e),255),b:Math.min(Math.round(this.currentColor.b*e),255),a:this.currentColor.a}}},Ee=e=>{let{children:n}=e;const[t,a]=(0,r.useState)(fe.getCurrentColor());(0,r.useEffect)((()=>fe.subscribe((e=>{a(e)}))),[]);const o={baseColor:t,setBaseColor:e=>{fe.setCurrentColor(e)},getColor:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return`rgba(${t.r}, ${t.g}, ${t.b}, ${e})`},getLighterColor:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1.2,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return`rgba(${Math.min(255,Math.round(t.r*e))}, \n                ${Math.min(255,Math.round(t.g*e))}, \n                ${Math.min(255,Math.round(t.b*e))},\n                ${n})`},getDarkerColor:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.8,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return`rgba(${Math.round(t.r*e)}, \n                ${Math.round(t.g*e)}, \n                ${Math.round(t.b*e)},\n                ${n})`},getDarkerColorColor:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.8;return{r:Math.round(t.r*e),g:Math.round(t.g*e),b:Math.round(t.b*e)}},getLighterColorColor:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.8;return{r:Math.min(Math.round(t.r*e),255),g:Math.min(Math.round(t.g*e),255),b:Math.min(Math.round(t.b*e),255)}}};return r.createElement(be.Provider,{value:o},n)},ke=()=>{const e=(0,r.useContext)(be);if(!e)throw new Error("useColorContext must be used within a ColorProvider");return e};var ve=t(3246),Se=t(5800),ye=t(548),xe=t(7998),we=t(1994),Ce=t(9245),ze=t(6350),$e=t(4154),Re=t(9546),Ae=t(770),Te=t(4927),Ie=t(895),Ue=t(9702),Me=t(5736);const Ne=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:800,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:600;const r=(window.screen.width-n)/2,a=(window.screen.height-t)/2;window.open(e,"_blank",`width=${n},height=${t},left=${r},top=${a}`)},_e=(e,n)=>{let t;switch(e){case"sources":t=`/site/edit-source?name=${encodeURIComponent(n.name)}`;break;case"sinks":t=`/site/edit-sink?name=${encodeURIComponent(n.name)}`;break;case"routes":t=`/site/edit-route?name=${encodeURIComponent(n.name)}`;break;case"group-sink":t=`/site/edit-group?type=sink&name=${encodeURIComponent(n.name)}`;break;case"group-source":t=`/site/edit-group?type=source&name=${encodeURIComponent(n.name)}`;break;default:return}Ne(t,800,700)},Pe=e=>{let n;switch(e){case"sources":n="/site/add-source";break;case"sinks":n="/site/add-sink";break;case"routes":n="/site/add-route";break;case"group-sink":n="/site/add-group?type=sink";break;case"group-source":n="/site/add-group?type=source";break;default:return}Ne(n,800,700)},Ve=(e,n)=>{const t=`/site/add-route?${e}=${encodeURIComponent(n)}`;Ne(t,800,700)};function De(){return De=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},De.apply(null,arguments)}const We=e=>{let{icon:n,onClick:t,isActive:a=!0,...o}=e;const{getLighterColor:l,getDarkerColor:i}=ke(),s=a?l(5):i(.5);return r.createElement(C.K,De({"aria-label":n,icon:(e=>{switch(e){case"star":return r.createElement(M.gt3,null);case"check":default:return r.createElement(M.CMH,null);case"x":return r.createElement(M.QCr,null);case"volume":return r.createElement(M.pPd,null);case"volume-mute":return r.createElement(M.FZ2,null);case"equalizer":return r.createElement(M.C8d,null);case"desktop":return r.createElement(M.Wqt,null);case"play":return r.createElement(M.gSK,null);case"pause":return r.createElement(M.kwt,null);case"prevtrack":return r.createElement(M.ttb,null);case"nexttrack":return r.createElement(M.FH8,null);case"headphones":return r.createElement(M.tLl,null);case"waveform":return r.createElement(M.g0N,null);case"arrow-right":return r.createElement(M.Z0P,null);case"arrow-left":return r.createElement(M.QVr,null)}})(n),size:"xs",bgColor:"transparent",border:`1px ${s}`,onClick:t,_hover:{opacity:.8},mx:0},o))},qe=e=>{let{value:n,onChange:t,maxWidth:a="100px",enabled:o}=e;const{getDarkerColor:l,getLighterColor:i}=ke(),s=o?i(2):l(.2),c=o?i(5):l(.4),u=o?"white":i(3);return r.createElement(x.a,{width:"100%",maxWidth:a},r.createElement(P.Ap,{"aria-label":"Volume control",min:0,max:1,step:.01,value:n,onChange:t,size:"sm",isDisabled:!o,style:{width:"100%"}},r.createElement(P.hB,{bg:s,height:"6px",borderRadius:"3px"},r.createElement(P.hJ,{style:{backgroundColor:c,opacity:o?1:.5,height:"6px"}})),r.createElement(P.OQ,{boxSize:4,style:{backgroundColor:u,opacity:o?1:.5,border:o?`2px solid ${u}`:"none"}})))},Oe=e=>{let{route:n,actions:t}=e;return r.createElement($e.D,{onClick:()=>t.toggleEnabled("routes",n.name,!n.enabled)},r.createElement(ie.z,{spacing:2},r.createElement(K.I,{boxSize:3,viewBox:"0 0 200 200",color:n.enabled?"green.500":"red.500"},r.createElement("path",{fill:"currentColor",d:n.enabled?"M 100, 100 m -75, 0 a 75,75 0 1,0 150,0 a 75,75 0 1,0 -150,0":"M 50,50 L 150,150 M 50,150 L 150,50"})),r.createElement($.E,null,n.name)))},Be=e=>{let{source:n,routes:t,isStarred:a,actions:o,isSelected:l=!1}=e;const{getLighterColor:i}=ke(),s=i(1.25),c=t.filter((e=>e.enabled)).length,u=t.slice(0,3),m=t.slice(3),d=m.length>0;return r.createElement(ye.Tr,{bg:l?s:void 0,id:`sources-${encodeURIComponent(n.name)}`,onContextMenu:e=>{e.preventDefault()},cursor:"context-menu"},r.createElement(Re.Td,null,r.createElement(Ae.W,{placement:"auto",strategy:"fixed",boundary:"scrollParent",flip:!0,preventOverflow:!0},r.createElement(Te.I,{as:$.E,fontWeight:"normal"},n.name),r.createElement(Ie.c,{maxH:"calc(100vh - 100px)",overflowY:"auto",overflowX:"hidden",pr:2.5},r.createElement(x.a,{px:3,py:2},r.createElement($.E,{fontSize:"sm"},c," active route",1!==c?"s":"",n.vnc_ip&&` • VNC: ${n.vnc_ip}`,0!==n.timeshift&&` • Timeshift: ${n.timeshift}s`)),r.createElement(Ue.N,null),r.createElement($e.D,{onClick:()=>o.toggleStar("sources",n.name),role:"menuitem","aria-label":a?"Remove from Favorites":"Add to Favorites"},a?"★ Remove from Favorites":"☆ Add to Favorites"),r.createElement($e.D,{onClick:()=>o.toggleActiveSource(n.name),role:"menuitem","aria-label":n.is_primary?"Remove as Primary Source":"Set as Primary Source"},n.is_primary?"Remove as Primary Source":"Set as Primary Source"),r.createElement($e.D,{onClick:()=>o.toggleEnabled("sources",n.name,!n.enabled)},n.enabled?"Disable":"Enable"),r.createElement($e.D,{onClick:()=>_e("sources",n)},"Edit Settings"),r.createElement($e.D,{onClick:()=>o.showEqualizer(!0,"sources",n)},"Equalize"),r.createElement($e.D,{onClick:()=>o.confirmDelete("sources",n.name)},"Delete"),n.vnc_ip&&r.createElement(r.Fragment,null,r.createElement(Ue.N,null),r.createElement($e.D,{onClick:()=>o.showVNC(!0,n)},"VNC"),r.createElement($e.D,{onClick:()=>o.controlSource(n.name,"prevtrack")},"Previous Track"),r.createElement($e.D,{onClick:()=>o.controlSource(n.name,"play")},"Play/Pause"),r.createElement($e.D,{onClick:()=>o.controlSource(n.name,"nexttrack")},"Next Track")),r.createElement(Ue.N,null),r.createElement(Me.r,{title:"Routes"},u.map((e=>r.createElement(Oe,{key:e.name,route:e,actions:o}))),d&&r.createElement(Ae.W,{placement:"right-start"},r.createElement($e.D,{as:Te.I},r.createElement(ie.z,{justify:"space-between",width:"100%"},r.createElement($.E,null,"More Routes..."),r.createElement(K.I,{viewBox:"0 0 24 24",boxSize:5},r.createElement("path",{fill:"currentColor",d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})))),r.createElement(Ie.c,null,m.map((e=>r.createElement(Oe,{key:e.name,route:e,actions:o})))))),r.createElement(Ue.N,null),r.createElement(x.a,{px:3,py:2},r.createElement($.E,{mb:2,fontSize:"sm"},"Timeshift"),r.createElement(P.Ap,{min:-60,max:0,step:1,value:n.timeshift||0,maxW:"95%",onChange:e=>o.updateTimeshift("sources",n.name,e)},r.createElement(P.hB,null,r.createElement(P.hJ,null)),r.createElement(P.OQ,null)))))),r.createElement(Re.Td,null,n.vnc_ip&&r.createElement(ie.z,{spacing:1},r.createElement(We,{icon:"desktop",onClick:()=>o.showVNC(!0,n)}),r.createElement(We,{icon:"prevtrack",onClick:()=>o.controlSource(n.name,"prevtrack")}),r.createElement(We,{icon:"play",onClick:()=>o.controlSource(n.name,"play")}),r.createElement(We,{icon:"nexttrack",onClick:()=>o.controlSource(n.name,"nexttrack")}))),r.createElement(Re.Td,null,r.createElement(We,{icon:n.enabled?"volume":"x",isActive:n.enabled,onClick:()=>o.toggleEnabled("sources",n.name,!n.enabled)})),r.createElement(Re.Td,null,r.createElement(x.a,{position:"relative",minW:"250px"},r.createElement(qe,{maxWidth:"250px",value:n.volume,onChange:e=>o.updateVolume("sources",n.name,e),enabled:n.enabled}))))},Le=e=>{let{sources:n,routes:t,starredSources:a,activeSource:o,actions:l,selectedItem:i}=e;const s="transparent",[c,u]=(0,r.useState)((()=>localStorage.getItem("sourceList_sortField")||null)),[m,d]=(0,r.useState)((()=>localStorage.getItem("sourceList_sortDirection")||"none")),g=e=>{let n="asc",t=e;c===e&&("asc"===m?n="desc":"desc"===m?(n="none",t=null):n="asc"),u(t),d(n),t?localStorage.setItem("sourceList_sortField",t):localStorage.removeItem("sourceList_sortField"),localStorage.setItem("sourceList_sortDirection",n)},p=[...n.map((e=>({...e,is_primary:e.name===o})))].sort(((e,n)=>{if(null===c||"none"===m)return 0;let t=0;if("name"===c)t=e.name.localeCompare(n.name);else if("status"===c){const r=e.enabled;t=r===n.enabled?0:r?-1:1}else"volume"===c&&(t=e.volume-n.volume);return"asc"===m?t:-t}));return r.createElement(x.a,{overflowX:"auto",width:"100%"},r.createElement(ve.X,{variant:"simple",size:"sm",width:"100%"},r.createElement(Se.d,{sx:{th:{borderBottom:"1px",borderColor:"rgba(0,0,0,.1)"}}},r.createElement(ye.Tr,{sx:{th:{color:"#EEEEEE"}}},r.createElement(xe.Th,{bg:s,cursor:"pointer",onClick:()=>g("name")},r.createElement(k.s,{align:"center"},"Name","name"===c&&"none"!==m&&r.createElement(K.I,{as:"asc"===m?Ce.D:ze.k,ml:1,boxSize:3}))),r.createElement(xe.Th,{bg:s,width:"120px"},"Actions"),r.createElement(xe.Th,{bg:s,width:"40px",cursor:"pointer",onClick:()=>g("status")},r.createElement(k.s,{align:"center"},"Status","status"===c&&"none"!==m&&r.createElement(K.I,{as:"asc"===m?Ce.D:ze.k,ml:1,boxSize:3}))),r.createElement(xe.Th,{bg:s,width:"100px",cursor:"pointer",onClick:()=>g("volume")},r.createElement(k.s,{align:"center"},"Volume","volume"===c&&"none"!==m&&r.createElement(K.I,{as:"asc"===m?Ce.D:ze.k,ml:1,boxSize:3}))))),r.createElement(we.N,null,p.map((e=>{return r.createElement(Be,{key:e.name,source:e,isStarred:a.includes(e.name),actions:l,isSelected:i===e.name,routes:(n=e.name,t.filter((e=>e.source===n)))});var n})))))},Fe=e=>{let{route:n,actions:t}=e;return r.createElement($e.D,{onClick:()=>t.toggleEnabled("routes",n.name,!n.enabled)},r.createElement(ie.z,{spacing:2},r.createElement(K.I,{boxSize:3,viewBox:"0 0 200 200",color:n.enabled?"green.500":"red.500"},r.createElement("path",{fill:"currentColor",d:n.enabled?"M 100, 100 m -75, 0 a 75,75 0 1,0 150,0 a 75,75 0 1,0 -150,0":"M 50,50 L 150,150 M 50,150 L 150,50"})),r.createElement($.E,null,n.name)))},je=e=>{let{sink:n,routes:t,isStarred:a,actions:o,isSelected:l=!1,listeningToSink:i,visualizingSink:s}=e;const{getLighterColor:c}=ke(),u=c(1.25),m=t.filter((e=>e.enabled)).length,d=Boolean(n.port),g=t.slice(0,3),p=t.slice(3),b=p.length>0;return r.createElement(ye.Tr,{bg:l?u:void 0,id:`sinks-${encodeURIComponent(n.name)}`,onContextMenu:e=>{e.preventDefault()},cursor:"context-menu"},r.createElement(Re.Td,null,r.createElement(Ae.W,{placement:"auto",strategy:"fixed",boundary:"scrollParent",flip:!0,preventOverflow:!0},r.createElement(Te.I,{as:$.E,fontWeight:"normal"},n.name),r.createElement(Ie.c,{maxH:"calc(100vh - 100px)",overflowY:"auto",overflowX:"hidden",pr:2.5},r.createElement(x.a,{px:3,py:2},r.createElement($.E,{fontSize:"sm"},m," active route",1!==m?"s":"",d&&" • Real Device",0!==n.timeshift&&` • Timeshift: ${n.timeshift}s`)),r.createElement(Ue.N,null),r.createElement($e.D,{onClick:()=>o.toggleStar("sinks",n.name),role:"menuitem","aria-label":a?"Remove from Favorites":"Add to Favorites"},a?"★ Remove from Favorites":"☆ Add to Favorites"),r.createElement($e.D,{onClick:()=>o.toggleEnabled("sinks",n.name,!n.enabled)},n.enabled?"Disable":"Enable"),r.createElement($e.D,{onClick:()=>_e("sinks",n)},"Edit Settings"),r.createElement($e.D,{onClick:()=>o.showEqualizer(!0,"sinks",n)},"Equalize"),r.createElement($e.D,{onClick:()=>o.confirmDelete("sinks",n.name)},"Delete"),d&&r.createElement(r.Fragment,null,r.createElement(Ue.N,null),r.createElement($e.D,{onClick:()=>o.transcribeSink(n.ip)},"Transcribe"),r.createElement($e.D,{onClick:()=>o.visualizeSink(s===n.name?null:n.name),_active:{bg:s===n.name?"blue.500":void 0}},"Visualize"),r.createElement($e.D,{onClick:()=>o.listenToSink(i===n.name?null:n.name),_active:{bg:i===n.name?"blue.500":void 0}},"Listen")),r.createElement(Ue.N,null),r.createElement(Me.r,{title:"Routes"},g.map((e=>r.createElement(Fe,{key:e.name,route:e,actions:o}))),b&&r.createElement(Ae.W,{placement:"right-start"},r.createElement($e.D,{as:Te.I},r.createElement(ie.z,{justify:"space-between",width:"100%"},r.createElement($.E,null,"More Routes..."),r.createElement(K.I,{viewBox:"0 0 24 24",boxSize:5},r.createElement("path",{fill:"currentColor",d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})))),r.createElement(Ie.c,null,p.map((e=>r.createElement(Fe,{key:e.name,route:e,actions:o})))))),r.createElement(Ue.N,null),r.createElement(x.a,{px:3,py:2},r.createElement($.E,{mb:2,fontSize:"sm"},"Timeshift"),r.createElement(P.Ap,{min:-60,max:0,step:1,value:n.timeshift||0,maxW:"95%",onChange:e=>o.updateTimeshift("sinks",n.name,e)},r.createElement(P.hB,null,r.createElement(P.hJ,null)),r.createElement(P.OQ,null)))))),r.createElement(Re.Td,null,r.createElement(We,{icon:n.enabled?"volume":"x",isActive:n.enabled,onClick:()=>o.toggleEnabled("sinks",n.name,!n.enabled)})),r.createElement(Re.Td,null,r.createElement(x.a,{position:"relative",minW:"250px"},r.createElement(qe,{maxWidth:"250px",value:n.volume,onChange:e=>o.updateVolume("sinks",n.name,e),enabled:n.enabled}))))},Je=e=>{let{sinks:n,routes:t,starredSinks:a,listeningToSink:o,visualizingSink:l,actions:i,selectedItem:s}=e;const c="transparent",[u,m]=(0,r.useState)((()=>localStorage.getItem("sinkList_sortField")||null)),[d,g]=(0,r.useState)((()=>localStorage.getItem("sinkList_sortDirection")||"none")),p=e=>{let n="asc",t=e;u===e&&("asc"===d?n="desc":"desc"===d?(n="none",t=null):n="asc"),m(t),g(n),t?localStorage.setItem("sinkList_sortField",t):localStorage.removeItem("sinkList_sortField"),localStorage.setItem("sinkList_sortDirection",n)},b=[...n].sort(((e,n)=>{if(null===u||"none"===d)return 0;let t=0;if("name"===u)t=e.name.localeCompare(n.name);else if("status"===u){const r=e.enabled;t=r===n.enabled?0:r?-1:1}else"volume"===u&&(t=e.volume-n.volume);return"asc"===d?t:-t}));return r.createElement(x.a,{overflowX:"auto",width:"100%"},r.createElement(ve.X,{variant:"simple",size:"sm",width:"100%"},r.createElement(Se.d,{sx:{th:{borderBottom:"1px",borderColor:"rgba(0,0,0,.1)"}}},r.createElement(ye.Tr,{sx:{th:{color:"#EEEEEE"}}},r.createElement(xe.Th,{bg:c,cursor:"pointer",onClick:()=>p("name")},r.createElement(k.s,{align:"center"},"Name","name"===u&&"none"!==d&&r.createElement(K.I,{as:"asc"===d?Ce.D:ze.k,ml:1,boxSize:3}))),r.createElement(xe.Th,{bg:c,width:"40px",cursor:"pointer",onClick:()=>p("status")},r.createElement(k.s,{align:"center"},"Status","status"===u&&"none"!==d&&r.createElement(K.I,{as:"asc"===d?Ce.D:ze.k,ml:1,boxSize:3}))),r.createElement(xe.Th,{bg:c,width:"100px",cursor:"pointer",onClick:()=>p("volume")},r.createElement(k.s,{align:"center"},"Volume","volume"===u&&"none"!==d&&r.createElement(K.I,{as:"asc"===d?Ce.D:ze.k,ml:1,boxSize:3}))))),r.createElement(we.N,null,b.map((e=>{return r.createElement(je,{key:e.name,sink:e,routes:(n=e.name,t.filter((e=>e.sink===n))),isStarred:a.includes(e.name),listeningToSink:o,visualizingSink:l,actions:i,isSelected:s===e.name});var n})))))},Ye=e=>{let{route:n,isStarred:t,actions:a,isSelected:o=!1}=e;const{getLighterColor:l}=ke(),i=l(1.25);return r.createElement(ye.Tr,{bg:o?i:void 0,id:`routes-${encodeURIComponent(n.name)}`,onContextMenu:e=>{e.preventDefault()},cursor:"context-menu"},r.createElement(Re.Td,null,r.createElement(Ae.W,{placement:"auto",strategy:"fixed",boundary:"scrollParent",flip:!0,preventOverflow:!0},r.createElement(Te.I,{as:$.E,fontWeight:"normal"},n.name),r.createElement(Ie.c,{maxH:"calc(100vh - 100px)",overflowY:"auto",overflowX:"hidden",pr:2.5},r.createElement(x.a,{px:3,py:2},r.createElement($.E,{fontSize:"sm"},n.source," → ",n.sink,0!==n.timeshift&&` • Timeshift: ${n.timeshift}s`)),r.createElement(Ue.N,null),r.createElement($e.D,{onClick:()=>a.toggleStar("routes",n.name),role:"menuitem","aria-label":t?"Remove from Favorites":"Add to Favorites"},t?"★ Remove from Favorites":"☆ Add to Favorites"),r.createElement($e.D,{onClick:()=>a.toggleEnabled("routes",n.name,!n.enabled)},n.enabled?"Disable":"Enable"),r.createElement($e.D,{onClick:()=>_e("routes",n)},"Edit Settings"),r.createElement($e.D,{onClick:()=>a.showEqualizer(!0,"routes",n)},"Equalize"),r.createElement($e.D,{onClick:()=>a.confirmDelete("routes",n.name)},"Delete"),r.createElement(Ue.N,null),r.createElement(Me.r,{title:"Source"},r.createElement($e.D,{onClick:()=>a.toggleEnabled("sources",n.source,!n.enabled)},r.createElement(ie.z,{spacing:2},r.createElement(K.I,{boxSize:3,viewBox:"0 0 200 200",color:n.enabled?"green.500":"red.500"},r.createElement("path",{fill:"currentColor",d:n.enabled?"M 100, 100 m -75, 0 a 75,75 0 1,0 150,0 a 75,75 0 1,0 -150,0":"M 50,50 L 150,150 M 50,150 L 150,50"})),r.createElement($.E,null,n.source)))),r.createElement(Me.r,{title:"Sink"},r.createElement($e.D,{onClick:()=>a.toggleEnabled("sinks",n.sink,!n.enabled)},r.createElement(ie.z,{spacing:2},r.createElement(K.I,{boxSize:3,viewBox:"0 0 200 200",color:n.enabled?"green.500":"red.500"},r.createElement("path",{fill:"currentColor",d:n.enabled?"M 100, 100 m -75, 0 a 75,75 0 1,0 150,0 a 75,75 0 1,0 -150,0":"M 50,50 L 150,150 M 50,150 L 150,50"})),r.createElement($.E,null,n.sink)))),r.createElement(Ue.N,null),r.createElement(x.a,{px:3,py:2},r.createElement($.E,{mb:2,fontSize:"sm"},"Timeshift"),r.createElement(P.Ap,{min:-60,max:0,step:1,value:n.timeshift||0,maxW:"95%",onChange:e=>a.updateTimeshift("routes",n.name,e)},r.createElement(P.hB,null,r.createElement(P.hJ,null)),r.createElement(P.OQ,null)))))),r.createElement(Re.Td,null,r.createElement(We,{icon:n.enabled?"volume":"x",isActive:n.enabled,onClick:()=>a.toggleEnabled("routes",n.name,!n.enabled)})),r.createElement(Re.Td,null,r.createElement(x.a,{position:"relative",minW:"250px"},r.createElement(qe,{maxWidth:"250px",value:n.volume,onChange:e=>a.updateVolume("routes",n.name,e),enabled:n.enabled}))))},Ge=e=>{let{routes:n,starredRoutes:t,actions:a,selectedItem:o}=e;const l="transparent",[i,s]=(0,r.useState)((()=>localStorage.getItem("routeList_sortField")||null)),[c,u]=(0,r.useState)((()=>localStorage.getItem("routeList_sortDirection")||"none")),m=e=>{let n="asc",t=e;i===e&&("asc"===c?n="desc":"desc"===c?(n="none",t=null):n="asc"),s(t),u(n),t?localStorage.setItem("routeList_sortField",t):localStorage.removeItem("routeList_sortField"),localStorage.setItem("routeList_sortDirection",n)},d=[...n].sort(((e,n)=>{if(null===i||"none"===c)return 0;let t=0;if("name"===i)t=e.name.localeCompare(n.name);else if("status"===i){const r=e.enabled;t=r===n.enabled?0:r?-1:1}else"volume"===i&&(t=e.volume-n.volume);return"asc"===c?t:-t}));return r.createElement(x.a,{overflowX:"auto",width:"100%"},r.createElement(ve.X,{variant:"simple",size:"sm",width:"100%"},r.createElement(Se.d,{sx:{th:{borderBottom:"1px",borderColor:"rgba(0,0,0,.1)"}}},r.createElement(ye.Tr,{sx:{th:{color:"#EEEEEE"}}},r.createElement(xe.Th,{bg:l,cursor:"pointer",onClick:()=>m("name")},r.createElement(k.s,{align:"center"},"Name","name"===i&&"none"!==c&&r.createElement(K.I,{as:"asc"===c?Ce.D:ze.k,ml:1,boxSize:3}))),r.createElement(xe.Th,{bg:l,width:"40px",cursor:"pointer",onClick:()=>m("status")},r.createElement(k.s,{align:"center"},"Status","status"===i&&"none"!==c&&r.createElement(K.I,{as:"asc"===c?Ce.D:ze.k,ml:1,boxSize:3}))),r.createElement(xe.Th,{bg:l,width:"100px",cursor:"pointer",onClick:()=>m("volume")},r.createElement(k.s,{align:"center"},"Volume","volume"===i&&"none"!==c&&r.createElement(K.I,{as:"asc"===c?Ce.D:ze.k,ml:1,boxSize:3}))))),r.createElement(we.N,null,d.map((e=>r.createElement(Ye,{key:e.name,route:e,isStarred:t.includes(e.name),actions:a,isSelected:o===e.name}))))))};let He=function(e){return e[e.Main=0]="Main",e[e.NowListening=1]="NowListening",e[e.Sources=2]="Sources",e[e.Sinks=3]="Sinks",e[e.Routes=4]="Routes",e[e.AllSources=5]="AllSources",e[e.AllSinks=6]="AllSinks",e[e.AllRoutes=7]="AllRoutes",e}({});const Ke=()=>{const{sources:e,sinks:n,routes:t,activeSource:a,listeningToSink:o,visualizingSink:l,onTranscribeSink:i,onListenToSink:s,onVisualizeSink:c,onToggleActiveSource:u}=f(),[m,d]=(0,r.useState)((()=>{const e=localStorage.getItem("currentMenu");return e?parseInt(e,10):He.Main})),[g,b]=(0,r.useState)([]),[h,E]=(0,r.useState)([]),[y,w]=(0,r.useState)([]),[C,$]=(0,r.useState)(null),[R,A]=(0,r.useState)(null),[T,I]=(0,r.useState)(!1),[U,M]=(0,r.useState)(null),[N,_]=(0,r.useState)(null),P=r.useRef(null),[V,D]=(0,r.useState)(0);(0,r.useEffect)((()=>fe.subscribe((()=>{D((e=>e+1))}))),[]);const W=fe.getDarkerColor(.9,.9),q=fe.getDarkerColor(.88,.9),O=fe.getDarkerColor(.7),B=fe.getDarkerColor(.5),L="#EEEEEE",F="#EEE";(0,r.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("starredSources")||"[]"),n=JSON.parse(localStorage.getItem("starredSinks")||"[]"),t=JSON.parse(localStorage.getItem("starredRoutes")||"[]");b(e),E(n),w(t)}),[a]),(0,r.useEffect)((()=>{const e=e=>{if("starredSources"===e.key||"starredSinks"===e.key||"starredRoutes"===e.key){const n=e.key,t=JSON.parse(e.newValue||"[]");"starredSources"===n?b(t):"starredSinks"===n?E(t):"starredRoutes"===n&&w(t)}};return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}}),[]),(0,r.useEffect)((()=>{localStorage.setItem("currentMenu",m.toString())}),[m]),(0,r.useEffect)((()=>{if(C&&P.current){const e=document.getElementById(`${He[m].toLowerCase()}-${C}`);e&&e.scrollIntoView({behavior:"smooth",block:"center"})}}),[C,m]);const j=(e,n)=>{let t;switch(e){case"sources":t=He.AllSources;break;case"sinks":t=He.AllSinks;break;case"routes":t=He.AllRoutes;break;default:t=He.Main}d(t),$(n)},J=(e,n)=>{"sources"===e?b(n):"sinks"===e?E(n):"routes"===e&&w(n)},Y=(0,r.useMemo)((()=>((e,n,t,r,a,o,l)=>{const i=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:800,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:600;const r=(window.screen.width-n)/2,a=(window.screen.height-t)/2;window.open(e,"_blank",`width=${n},height=${t},left=${r},top=${a}`)};return{toggleStar:(t,r)=>{e(t,(e=>e.includes(r)?e.filter((e=>e!==r)):[...e,r]));const a=`starred${t.charAt(0).toUpperCase()+t.slice(1)}`;try{const e=JSON.parse(localStorage.getItem(a)||"[]");e.includes(r)?localStorage.setItem(a,JSON.stringify(e.filter((e=>e!==r)))):localStorage.setItem(a,JSON.stringify([...e,r]))}catch(e){console.error(`Error saving starred ${t} to localStorage:`,e),n(`Error saving starred ${t}`)}},toggleEnabled:async(e,t,r)=>{try{"sources"===e?r?await p.enableSource(t):await p.disableSource(t):"sinks"===e?r?await p.enableSink(t):await p.disableSink(t):"routes"===e&&(r?await p.enableRoute(t):await p.disableRoute(t))}catch(t){console.error(`Error toggling ${e} enabled status:`,t),n(`Error toggling ${e} enabled status`)}},updateVolume:async(e,t,r)=>{try{"sources"===e?await p.updateSourceVolume(t,r):"sinks"===e?await p.updateSinkVolume(t,r):"routes"===e&&await p.updateRouteVolume(t,r)}catch(t){console.error(`Error updating ${e} volume:`,t),n(`Error updating ${e} volume`)}},updateTimeshift:async(e,t,r)=>{try{await p.updateSourceTimeshift(t,r)}catch(t){console.error(`Error updating ${e} timeshift:`,t),n(`Error updating ${e} timeshift`)}},showEqualizer:(e,n,t)=>{e&&t&&i(`/site/equalizer?type=${n}&name=${encodeURIComponent(t.name)}`)},showVNC:(e,n)=>{e&&n&&n.vnc_ip&&n.vnc_port&&i(`/site/vnc?ip=${n.vnc_ip}&port=${n.vnc_port}`)},toggleActiveSource:e=>{t(e)},transcribeSink:e=>{r(e)},listenToSink:e=>{a(e)},visualizeSink:e=>{o(e)},controlSource:async(e,t)=>{try{const n="pause"===t?"play":t;await p.controlSource(e,n)}catch(e){console.error("Error controlling source:",e),n("Error controlling source")}},navigate:(e,n)=>{l(e,n)}}})(J,A,u,(e=>i(e)),(e=>s(e&&n.find((n=>n.name===e))||null)),(e=>c(e&&n.find((n=>n.name===e))||null)),j)),[u,i,s,c,n]);return Y.confirmDelete=(e,n)=>{M(e),_(n),I(!0)},r.createElement(k.s,{direction:"column",height:"950px",maxHeight:"950px",justifyContent:"flex-end",alignContent:"flex-end"},r.createElement(pe,{isOpen:T,onClose:()=>I(!1),onConfirm:async()=>{if(U&&N)try{"sources"===U?await p.deleteSource(N):"sinks"===U?await p.deleteSink(N):"routes"===U&&await p.deleteRoute(N),"sources"===U&&g.includes(N)?J("sources",(e=>e.filter((e=>e!==N)))):"sinks"===U&&h.includes(N)?J("sinks",(e=>e.filter((e=>e!==N)))):"routes"===U&&y.includes(N)&&J("routes",(e=>e.filter((e=>e!==N))))}catch(e){console.error(`Error deleting ${U}:`,e),A(`Error deleting ${U}`)}finally{I(!1),M(null),_(null)}},title:"Delete Item",message:`Are you sure you want to delete ${N}? This action cannot be undone.`}),r.createElement(x.a,{onClick:e=>{if(T){const n=document.querySelector('[role="alertdialog"]');n&&!n.contains(e.target)&&(I(!1),e.stopPropagation())}},style:{backgroundColor:"rgba(0,0,0,0);",borderWidth:"0px",borderColor:q,borderStyle:"solid",borderRadius:"4px",color:"#EEEEEE",fontWeight:"lighter",fontFamily:"Segoe UI"},pb:3,pr:3,marginLeft:"30%",width:"70%",maxW:"70%",maxH:"950px",display:"flex",flexDirection:"column",className:"desktop-menu",justifySelf:"flex-end"},R&&r.createElement(v.F,{status:"error",mb:2,borderRadius:"md",size:"sm"},r.createElement(S._,null),R),r.createElement(x.a,{flex:"1",overflow:"auto",ref:P,style:{borderWidth:"1px",borderStyle:"solid",borderColor:"rgba(128, 128, 128, .5)",borderTopWidth:"1px",borderLeftWidth:"1px",borderRightWidth:"1px",borderBottomWidth:"0px",borderTopLeftRadius:"8px",borderTopRightRadius:"8px",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px",padding:"4px"},sx:{td:{"padding-bottom":"0","padding-top":"0",border:"0"}},backgroundColor:W},(()=>{const i=e.find((e=>e.name===a));switch(m){case He.Sources:return r.createElement(Le,{sources:e.filter((e=>g.includes(e.name))),routes:t,starredSources:g,activeSource:a,actions:Y,selectedItem:C});case He.Sinks:return r.createElement(Je,{sinks:n.filter((e=>h.includes(e.name))),routes:t,starredSinks:h,listeningToSink:o?.name||null,visualizingSink:l?.name||null,actions:Y,selectedItem:C});case He.Routes:return r.createElement(Ge,{routes:t.filter((e=>y.includes(e.name))),starredRoutes:y,actions:Y,selectedItem:C});case He.AllSources:return r.createElement(Le,{sources:e,routes:t,starredSources:g,activeSource:a,actions:Y,selectedItem:C});case He.AllSinks:return r.createElement(Je,{sinks:n,routes:t,starredSinks:h,listeningToSink:o?.name||null,visualizingSink:l?.name||null,actions:Y,selectedItem:C});case He.AllRoutes:return r.createElement(Ge,{routes:t,starredRoutes:y,actions:Y,selectedItem:C});case He.NowListening:return r.createElement(Je,{sinks:o?[o]:[],routes:t,starredSinks:h,listeningToSink:o?.name||null,visualizingSink:l?.name||null,actions:Y,selectedItem:C});default:return r.createElement(Le,{sources:i?[i]:[],routes:t,starredSources:g,activeSource:a,actions:Y,selectedItem:C})}})()),r.createElement(k.s,{as:"nav",p:1,style:{backgroundColor:q,border:"solid",borderColor:"rgba(128, 128, 128, .5)",borderTopLeftRadius:"0px",borderTopRightRadius:"0px",borderBottomLeftRadius:"8px",borderBottomRightRadius:"8px",borderTopWidth:"0px",borderLeftWidth:"1px",borderRightWidth:"1px",borderBottomWidth:"1px",padding:"4px"},wrap:"wrap",gap:1,width:"100%"},r.createElement(ie.z,{width:"100%",justify:"space-evenly"},r.createElement(se.e,{variant:"outline",isAttached:!0,spacing:0,size:"sm"},r.createElement(z.$,{style:{backgroundColor:m===He.Main?O:B,color:m===He.Main?L:F},onClick:()=>d(He.Main),_hover:{opacity:.8},size:"xs"},"Primary"),r.createElement(z.$,{style:{backgroundColor:m===He.Sources?O:B,color:m===He.Sources?L:F},onClick:()=>d(He.Sources),_hover:{opacity:.8},size:"xs"},"★ Sources"),r.createElement(z.$,{style:{backgroundColor:m===He.Sinks?O:B,color:m===He.Sinks?L:F},onClick:()=>d(He.Sinks),_hover:{opacity:.8},size:"xs"},"★ Sinks"),r.createElement(z.$,{style:{backgroundColor:m===He.Routes?O:B,color:m===He.Routes?L:F},onClick:()=>d(He.Routes),_hover:{opacity:.8},size:"xs"},"★ Routes"),r.createElement(z.$,{style:{backgroundColor:m===He.AllSources?O:B,color:m===He.AllSources?L:F},onClick:()=>d(He.AllSources),_hover:{opacity:.8},size:"xs"},"All Sources"),r.createElement(z.$,{style:{backgroundColor:m===He.AllSinks?O:B,color:m===He.AllSinks?L:F},onClick:()=>d(He.AllSinks),_hover:{opacity:.8},size:"xs"},"All Sinks"),r.createElement(z.$,{style:{backgroundColor:m===He.AllRoutes?O:B,color:m===He.AllRoutes?L:F},onClick:()=>d(He.AllRoutes),_hover:{opacity:.8},size:"xs"},"All Routes"),r.createElement(z.$,{style:{backgroundColor:B,color:F},onClick:()=>{window.open("/site/","FullView")},_hover:{opacity:.8},size:"xs"},"Full View"))))))},Xe=(e,n,t,r,a,o,l,i,s,c,u,m)=>({toggleEnabled:async(t,r)=>{try{const n="sources"===t?await p.getSources():"sinks"===t?await p.getSinks():await p.getRoutes(),a=Object.values(n.data).find((e=>e.name===r));if(!a)throw new Error(`${t} not found`);const o="sources"===t?p.updateSource:"sinks"===t?p.updateSink:p.updateRoute;await o(r,{enabled:!a.enabled}),e()}catch(e){console.error(`Error toggling ${t} status:`,e),n(`Failed to update ${t} status. Please try again.`)}},deleteItem:async(t,r)=>{try{const n="sources"===t?p.deleteSource:"sinks"===t?p.deleteSink:p.deleteRoute;await n(r),e()}catch(e){console.error(`Error deleting ${t}:`,e),n(`Failed to delete ${t}. Please try again.`)}},updateVolume:async(t,r,a)=>{try{const n="sources"===t?p.updateSourceVolume:"sinks"===t?p.updateSinkVolume:p.updateRouteVolume;await n(r,a),e()}catch(e){console.error(`Error updating ${t} volume:`,e),n(`Failed to update ${t} volume. Please try again.`)}},updateTimeshift:async(t,r,a)=>{try{const n="sources"===t?p.updateSourceTimeshift:"sinks"===t?p.updateSinkTimeshift:p.updateRouteTimeshift;await n(r,a),e()}catch(e){console.error(`Error updating ${t} timeshift:`,e),n(`Failed to update ${t} timeshift. Please try again.`)}},toggleStar:(e,n)=>{t(e,(t=>{const r=t.includes(n)?t.filter((e=>e!==n)):[...t,n];return localStorage.setItem(`starred${e.charAt(0).toUpperCase()+e.slice(1)}`,JSON.stringify(r)),r}))},editItem:(e,n)=>{_e(e,n)},showEqualizer:(e,n,t)=>{a(t),o(n),r(e,n,t)},showVNC:(e,n)=>{a(n),l(e,n)},controlSource:async(t,r)=>{try{await p.controlSource(t,r),e()}catch(e){console.error("Error controlling source:",e),n("Failed to control source. Please try again.")}},toggleActiveSource:e=>{i((n=>n===e?null:e))},listenToSink:s,visualizeSink:c,navigateToItem:m});var Qe=t(6419),Ze=t(4459),en=t(7593),nn=t(8772),tn=t(7701),rn=t(332),an=t(9296),on=t(457),ln=t(536),sn=t(8129),cn=t(6364),un=t(4983),mn=t(879),dn=t(9378),gn=t(954),pn=t(6466);const bn=e=>{let{sources:n,sinks:t,routes:a,navigate:o}=e;const[l,i]=(0,r.useState)(""),[s,c]=(0,r.useState)(!1),[u,m]=(0,r.useState)([]),d=(0,r.useRef)(null),g=(0,r.useRef)(null),p=(0,E.dU)("white","gray.800"),b=(0,E.dU)("gray.100","gray.700"),h=(0,E.dU)("gray.800","gray.200"),f=(0,E.dU)("gray.600","gray.400"),v=(0,E.dU)("gray.200","gray.400");return(0,rn.j)({ref:g,handler:()=>c(!1)}),r.createElement(x.a,{width:"100%",maxW:"400px",position:"relative",ref:g},r.createElement(an.A,{isOpen:s&&u.length>0,autoFocus:!1,placement:"bottom-start",closeOnBlur:!1,isLazy:!0},r.createElement(on.W,null,r.createElement(ln.M,null,r.createElement(sn.W,{pointerEvents:"none"},r.createElement(pn.W,{color:v})),r.createElement(J.p,{ref:d,placeholder:"Search sources, sinks, routes...",value:l,onChange:e=>{const r=e.target.value;i(r),(e=>{if(!e.trim())return void m([]);const r=e.toLowerCase(),o=[],l=new Set;n.forEach((e=>{const n=e.name.toLowerCase().includes(r),t=e.ip?.toLowerCase().includes(r);if((n||t)&&(o.push({id:`source-${e.name}`,name:e.name,type:e.is_group?"group-source":"sources",enabled:e.enabled,volume:e.volume,ip:e.ip,isGroup:e.is_group}),l.add(`source-${e.name}`)),e.is_group&&e.group_members&&!l.has(`source-${e.name}`)){const n=e.group_members.find((e=>e.toLowerCase().includes(r)));n&&(o.push({id:`source-group-${e.name}`,name:e.name,type:"group-source",enabled:e.enabled,volume:e.volume,ip:e.ip,isGroup:!0,matchedMember:n}),l.add(`source-${e.name}`))}})),t.forEach((e=>{const n=e.name.toLowerCase().includes(r),t=e.ip?.toLowerCase().includes(r);if((n||t)&&(o.push({id:`sink-${e.name}`,name:e.name,type:e.is_group?"group-sink":"sinks",enabled:e.enabled,volume:e.volume,ip:e.ip,isGroup:e.is_group}),l.add(`sink-${e.name}`)),e.is_group&&e.group_members&&!l.has(`sink-${e.name}`)){const n=e.group_members.find((e=>e.toLowerCase().includes(r)));n&&(o.push({id:`sink-group-${e.name}`,name:e.name,type:"group-sink",enabled:e.enabled,volume:e.volume,ip:e.ip,isGroup:!0,matchedMember:n}),l.add(`sink-${e.name}`))}})),a.forEach((e=>{const n=e.name.toLowerCase().includes(r),t=e.source.toLowerCase().includes(r),a=e.sink.toLowerCase().includes(r);(n||t||a)&&o.push({id:`route-${e.name}`,name:e.name,type:"routes",enabled:e.enabled,volume:e.volume})})),m(o)})(r),c(!0)},onFocus:()=>{l&&u.length>0&&c(!0)},borderRadius:"md",_placeholder:{color:"gray.300"},_focus:{borderColor:"blue.400",boxShadow:"0 0 0 1px var(--chakra-colors-blue-400)"}}))),r.createElement(cn.Z,null,r.createElement(un.h,{width:"400px",maxH:"400px",overflowY:"auto",bg:p,borderColor:"gray.200",boxShadow:"lg",_dark:{borderColor:"gray.600"}},r.createElement(mn.e,{p:0},r.createElement(oe.T,{spacing:0,align:"stretch",divider:r.createElement(dn.c,null)},u.map((e=>{return r.createElement(x.a,{key:e.id,p:3,cursor:"pointer",_hover:{bg:b},onClick:()=>(e=>{o(e.type,e.name),c(!1),i(""),m([]),d.current&&d.current.blur()})(e)},r.createElement(k.s,{justifyContent:"space-between",alignItems:"center",mb:1},r.createElement(ie.z,null,r.createElement(gn.E,{colorScheme:(t=e.type,"sources"===t?"green":"sinks"===t?"blue":"routes"===t?"red":"group-source"===t||"group-sink"===t?"purple":"gray")},(e=>"sources"===e?"Source":"sinks"===e?"Sink":"routes"===e?"Route":"group-source"===e?"Source Group":"group-sink"===e?"Sink Group":e)(e.type)),r.createElement(gn.E,{colorScheme:e.enabled?"green":"red"},e.enabled?"Enabled":"Disabled")),void 0!==e.volume&&r.createElement($.E,{fontSize:"sm",color:f},"Vol: ",void 0===(n=e.volume)?"100%":`${Math.round(n)}%`)),r.createElement($.E,{fontWeight:"bold",color:h},e.name),e.ip&&r.createElement($.E,{fontSize:"sm",color:f},"IP: ",e.ip),e.matchedMember&&r.createElement(k.s,{alignItems:"center",mt:1},r.createElement(gn.E,{colorScheme:"orange",size:"sm",mr:1},"Member match"),r.createElement($.E,{fontSize:"sm",color:f},"Contains: ",r.createElement($.E,{as:"span",fontWeight:"bold"},e.matchedMember))));var n,t}))))))))},hn=e=>{let{value:n,onChange:t,showLabel:a=!0}=e;const[o,l]=(0,r.useState)(!1),i=(0,E.dU)("gray.100","gray.700"),s=(0,E.dU)("green.500","green.300"),c=(0,E.dU)("white","gray.200"),u=(0,E.dU)("gray.700","gray.200");return r.createElement(x.a,{width:"100%",maxWidth:"300px"},r.createElement(k.s,{direction:"column",width:"100%"},r.createElement(P.Ap,{id:"volume-slider","aria-label":"Volume slider",min:0,max:1,step:.01,value:n,onChange:t,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),mr:3,flex:"1"},r.createElement(P.hB,{bg:i},r.createElement(P.hJ,{bg:s})),r.createElement(H.m,{hasArrow:!0,bg:"green.500",color:"white",placement:"top",isOpen:o,label:`${Math.round(100*n)}%`},r.createElement(P.OQ,{boxSize:6,bg:c},r.createElement(K.I,{as:X.M,color:"green.500"})))),a&&r.createElement($.E,{fontSize:"sm",width:"40px",textAlign:"right",color:u},Math.round(100*n),"%")))},fn=e=>{let{isDarkMode:n,sources:t,sinks:a,routes:o,navigate:l,toggleSidebar:i,activeSource:s,controlSource:c,updateVolume:u}=e;const{toggleColorMode:m}=(0,E.G6)(),d=(0,E.dU)("blue.500","blue.700"),g=(0,E.dU)("white","white"),p=(0,E.dU)("blue.600","blue.800"),b=s?t.find((e=>e.name===s)):null;return r.createElement(k.s,{as:"header",align:"center",justify:"space-between",py:3,px:5,bg:d,color:g,boxShadow:"md"},r.createElement(k.s,{align:"center"},r.createElement(C.K,{"aria-label":"Open menu",icon:r.createElement(Qe.R,null),variant:"ghost",color:"white",_hover:{bg:p},display:{base:"flex",md:"none"},mr:2,onClick:i}),r.createElement(x.a,{mr:2,fontSize:"xl"},r.createElement("i",{className:"fas fa-broadcast-tower"})),r.createElement($.E,{fontSize:"xl",fontWeight:"bold"},"ScreamRouter")),r.createElement(x.a,{flex:"1",mx:6,display:"flex",alignItems:"center"},r.createElement(bn,{sources:t,sinks:a,routes:o,navigate:l}),s&&r.createElement(r.Fragment,null,c&&r.createElement(ie.z,{spacing:1,mr:4},r.createElement(H.m,{label:"Previous Track"},r.createElement(C.K,{"aria-label":"Previous Track",icon:r.createElement(M.ttb,null),size:"sm",colorScheme:"purple",variant:"ghost",color:"white",_hover:{bg:p},onClick:()=>c(s,"prevtrack"),isDisabled:!s})),r.createElement(H.m,{label:"Play/Pause"},r.createElement(C.K,{"aria-label":"Play/Pause",icon:r.createElement(M.gSK,null),size:"sm",colorScheme:"purple",variant:"ghost",color:"white",_hover:{bg:p},onClick:()=>c(s,"play"),isDisabled:!s})),r.createElement(H.m,{label:"Next Track"},r.createElement(C.K,{"aria-label":"Next Track",icon:r.createElement(M.FH8,null),size:"sm",colorScheme:"purple",variant:"ghost",color:"white",_hover:{bg:p},onClick:()=>c(s,"nexttrack"),isDisabled:!s}))),u&&b&&r.createElement(x.a,{mr:4,width:"150px"},r.createElement(hn,{showLabel:!1,value:b.volume||0,onChange:e=>{u&&u("sources",s,e)}})))),r.createElement(ie.z,{spacing:2},r.createElement(C.K,{"aria-label":"Refresh",icon:r.createElement(Ze.H,null),variant:"ghost",color:"white",_hover:{bg:p}}),r.createElement(C.K,{"aria-label":"Settings",icon:r.createElement(en.Z,null),variant:"ghost",color:"white",_hover:{bg:p}}),r.createElement(C.K,{"aria-label":"Toggle color mode",icon:n?r.createElement(nn.g,null):r.createElement(tn.r,null),variant:"ghost",color:"white",_hover:{bg:p},onClick:m})))};var En=t(5486);const kn=e=>{let{icon:n,label:t,isActive:a=!1,badge:o,onClick:l}=e;const i=(0,E.dU)("blue.100","blue.700"),s=(0,E.dU)("gray.100","gray.700"),c=(0,E.dU)("blue.700","white"),u=(0,E.dU)("gray.700","gray.200"),m=(0,E.dU)("blue.500","blue.300"),d=(0,E.dU)("white","gray.800");return r.createElement(z.$,{variant:"ghost",justifyContent:"flex-start",alignItems:"center",width:"100%",py:3,px:4,borderRadius:"md",fontWeight:"normal",bg:a?i:"transparent",color:a?c:u,_hover:{bg:a?i:s},onClick:l,"aria-current":a?"page":void 0,leftIcon:r.createElement("i",{className:`fas fa-${n}`,"aria-hidden":"true"})},r.createElement(k.s,{width:"100%",justify:"space-between",align:"center"},r.createElement($.E,null,t),void 0!==o&&r.createElement(gn.E,{ml:2,borderRadius:"full",px:2,bg:m,color:d},o)))},vn=e=>{let{currentCategory:n,setCurrentCategory:t,sources:a,sinks:o,routes:l,starredSources:i,starredSinks:s,starredRoutes:c,sidebarOpen:u,toggleSidebar:m}=e;const d=(0,E.dU)("white","gray.800"),g=(0,E.dU)("gray.200","gray.700"),p=(0,E.dU)("gray.700","gray.100"),b=(0,E.dU)("gray.500","gray.400");return r.createElement(r.Fragment,null,r.createElement(x.a,{as:"aside",position:{base:"fixed",md:"relative"},left:{base:0,md:"auto"},top:{base:0,md:"auto"},bottom:{base:0,md:"auto"},w:["100%","100%","250px"],bg:d,borderRightWidth:"1px",borderColor:g,transform:{base:u?"translateX(0)":"translateX(-100%)",md:"translateX(0)"},transition:"transform 0.3s ease",zIndex:20,display:"flex",flexDirection:"column",overflowY:"auto",height:{md:"100%"}},r.createElement(k.s,{p:4,justify:"space-between",align:"center",borderBottomWidth:"1px",borderColor:g},r.createElement(_.D,{as:"h2",size:"md",color:p},"Navigation"),r.createElement(En.J,{display:{base:"block",md:"none"},onClick:m})),r.createElement(oe.T,{as:"nav",spacing:6,align:"stretch",flex:"1",p:4,overflowY:"auto"},r.createElement(x.a,null,r.createElement(_.D,{as:"h3",size:"sm",mb:2,color:b,fontWeight:"medium"},"Overview"),r.createElement(oe.T,{spacing:1,align:"stretch"},r.createElement(kn,{icon:"dashboard",label:"Dashboard",isActive:"dashboard"===n,onClick:()=>{t("dashboard"),window.innerWidth<768&&m()}}),r.createElement(kn,{icon:"broadcast-tower",label:"Primary Source",isActive:"active-source"===n,onClick:()=>{t("active-source"),window.innerWidth<768&&m()}}),r.createElement(kn,{icon:"headphones",label:"Now Listening",isActive:"now-listening"===n,onClick:()=>{t("now-listening"),window.innerWidth<768&&m()}}))),r.createElement(dn.c,null),r.createElement(x.a,null,r.createElement(_.D,{as:"h3",size:"sm",mb:2,color:b,fontWeight:"medium"},"Resources"),r.createElement(oe.T,{spacing:1,align:"stretch"},r.createElement(kn,{icon:"microphone",label:"Sources",isActive:"sources"===n,badge:a.length,onClick:()=>{t("sources"),window.innerWidth<768&&m()}}),r.createElement(kn,{icon:"volume-up",label:"Sinks",isActive:"sinks"===n,badge:o.length,onClick:()=>{t("sinks"),window.innerWidth<768&&m()}}),r.createElement(kn,{icon:"route",label:"Routes",isActive:"routes"===n,badge:l.length,onClick:()=>{t("routes"),window.innerWidth<768&&m()}}))),r.createElement(dn.c,null),r.createElement(x.a,null,r.createElement(_.D,{as:"h3",size:"sm",mb:2,color:b,fontWeight:"medium"},"Favorites"),r.createElement(oe.T,{spacing:1,align:"stretch"},r.createElement(kn,{icon:"star",label:"Starred Items",isActive:"favorites"===n,badge:i.length+s.length+c.length,onClick:()=>{t("favorites"),window.innerWidth<768&&m()}}))))),u&&r.createElement(x.a,{position:"fixed",top:0,left:0,right:0,bottom:0,bg:"blackAlpha.600",zIndex:10,display:{base:"block",md:"none"},onClick:m}))};var Sn=t(3842),yn=t(8151),xn=t(931),wn=t(1835),Cn=t(6226),zn=t(9821);const $n=e=>{let{sortConfig:n,onSort:t,options:a,label:o="Sort by"}=e;const l=(0,E.dU)("white","gray.800"),i=(0,E.dU)("gray.200","gray.600"),s=(0,E.dU)("white","gray.800"),c=(0,E.dU)("gray.200","gray.600"),u=(0,E.dU)("gray.100","gray.700"),m=(0,E.dU)("blue.50","blue.900"),d=(0,E.dU)("blue.600","blue.200"),g=(0,E.dU)("gray.600","gray.300"),p=(0,E.dU)("gray.800","gray.100"),b=a.find((e=>e.key===n.key));return r.createElement(Ae.W,{closeOnSelect:!0},r.createElement(Te.I,{as:z.$,rightIcon:r.createElement(K.I,{as:wn.D,color:p}),bg:l,borderColor:i,borderWidth:"1px",_hover:{bg:u},_active:{bg:u},size:"md",width:"100%"},r.createElement(k.s,{alignItems:"center",justifyContent:"space-between"},r.createElement($.E,{fontSize:"sm",color:g,mr:2},o,":"),r.createElement(k.s,{alignItems:"center"},r.createElement($.E,{fontWeight:"medium",mr:1,color:p},b?b.label:"Name"),"asc"===n.direction?r.createElement(K.I,{as:Cn.K,boxSize:3,color:p}):r.createElement(K.I,{as:zn.Z,boxSize:3,color:p})))),r.createElement(Ie.c,{bg:s,borderColor:c,minWidth:"200px"},a.map((e=>r.createElement($e.D,{key:e.key,onClick:()=>t(e.key),bg:e.key===n.key?m:"transparent",color:e.key===n.key?d:p,_hover:{bg:u}},r.createElement(k.s,{alignItems:"center",width:"100%"},r.createElement($.E,{flex:"1",color:e.key===n.key?d:p},e.label),e.key===n.key&&r.createElement(K.I,{as:"asc"===n.direction?Cn.K:zn.Z,color:d,ml:2,boxSize:3})))))))},Rn=e=>{let{value:n,onChange:t}=e;const[a,o]=(0,r.useState)(n),[l,i]=(0,r.useState)(!1),s=(0,r.useRef)(null),c=(0,E.dU)("gray.100","gray.700"),u=(0,E.dU)("blue.500","blue.300"),m=(0,E.dU)("white","gray.200"),d=(0,E.dU)("gray.700","gray.200");(0,r.useEffect)((()=>{o(n)}),[n]);const g=(0,r.useCallback)((e=>{s.current&&clearTimeout(s.current),s.current=setTimeout((()=>{t(e)}),300)}),[t]),p=e=>{const n=Math.abs(e);return`${Math.floor(n/60)}:${Math.round(n%60).toString().padStart(2,"0")}`};return r.createElement(x.a,{width:"100%",maxWidth:"300px"},r.createElement(k.s,{direction:"column",width:"100%"},r.createElement(P.Ap,{id:"timeshift-slider","aria-label":"Timeshift slider",min:-300,max:0,step:.1,value:-a,onChange:e=>{const n=-e;o(n),g(n)},onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1)},r.createElement(P.hB,{bg:c},r.createElement(P.hJ,{bg:u})),r.createElement(H.m,{hasArrow:!0,bg:"blue.500",color:"white",placement:"top",isOpen:l,label:`-${p(a)}`},r.createElement(P.OQ,{bg:m}))),r.createElement($.E,{mt:2,fontSize:"sm",color:d,alignSelf:"flex-end"},"-",p(a))))},An=e=>{let{viewMode:n,onChange:t}=e;const a=(0,E.dU)("white","gray.800"),o=(0,E.dU)("gray.200","gray.600"),l=(0,E.dU)("blue.500","blue.400"),i="white",s=(0,E.dU)("gray.600","gray.400");return r.createElement(se.e,{size:"sm",isAttached:!0,variant:"outline"},r.createElement(z.$,{leftIcon:r.createElement(K.I,{as:M.x7F}),onClick:()=>t("grid"),bg:"grid"===n?l:a,color:"grid"===n?i:s,borderColor:o,_hover:{bg:"grid"===n?l:(0,E.dU)("gray.100","gray.700")},"aria-label":"Grid view",title:"Grid view"},"Grid"),r.createElement(z.$,{leftIcon:r.createElement(K.I,{as:M.svy}),onClick:()=>t("list"),bg:"list"===n?l:a,color:"list"===n?i:s,borderColor:o,_hover:{bg:"list"===n?l:(0,E.dU)("gray.100","gray.700")},"aria-label":"List view",title:"List view"},"List"))},Tn=e=>{let{currentCategory:n,viewMode:t,setViewMode:a,sortConfig:o,onSort:l}=e;const i=(0,E.dU)("white","gray.800"),s=(0,E.dU)("gray.200","gray.700"),c=["sources","sinks","routes"].includes(n),u=["sources","sinks","routes"].includes(n),m=[{key:"name",label:"Name"},{key:"enabled",label:"Status"},..."routes"!==n?[{key:"active",label:"Active"}]:[],{key:"favorite",label:"Favorite"}];return r.createElement(k.s,{p:4,bg:i,borderBottomWidth:"1px",borderColor:s,justify:"space-between",align:"center",flexWrap:["wrap","nowrap"]},r.createElement(k.s,{align:"center"},r.createElement(Sn.Q,{separator:"/",mb:[2,0]},r.createElement(yn.J,null,r.createElement(xn.w,null,"ScreamRouter")),r.createElement(yn.J,{isCurrentPage:!0},r.createElement(xn.w,{fontWeight:"semibold"},(e=>{switch(e){case"dashboard":return"Dashboard";case"active-source":return"Primary Source";case"now-listening":return"Now Listening";case"sources":return"Sources";case"sinks":return"Sinks";case"routes":return"Routes";case"favorites":return"Favorites";default:return"ScreamRouter"}})(n)))),u&&r.createElement(ie.z,{spacing:2,ml:4},r.createElement(z.$,{size:"sm",colorScheme:"blue",leftIcon:r.createElement("i",{className:"fas fa-plus"}),onClick:()=>{switch(n){case"sources":Pe("sources");break;case"sinks":Pe("sinks");break;case"routes":Pe("routes")}}},"Add ","sources"===n?"Source":"sinks"===n?"Sink":"Route"),("sources"===n||"sinks"===n)&&r.createElement(z.$,{size:"sm",colorScheme:"purple",leftIcon:r.createElement("i",{className:"fas fa-object-group"}),onClick:()=>{switch(n){case"sources":Pe("group-source");break;case"sinks":Pe("group-sink")}}},"Add ","sources"===n?"Source":"Sink"," Group"))),c&&r.createElement(ie.z,{spacing:4,width:["100%","auto"]},r.createElement(An,{viewMode:t,onChange:a}),r.createElement($n,{sortConfig:o,onSort:l,options:m,label:"Sort by"})))};var In=t(7286),Un=t(2862),Mn=t(946),Nn=t(9370),_n=t(3391),Pn=t(9824),Vn=t(9151);const Dn=e=>{let{item:n,type:t,isStarred:a,isActive:o,onStar:l,onActivate:i,onEdit:s,onEqualizer:c,onVnc:u,onListen:m,onVisualize:d,onUpdateVolume:g,onUpdateTimeshift:p,routes:b=[],allSources:h=[],allSinks:f=[],navigate:v,onToggleActiveSource:S,onControlSource:y,navigateToDetails:w}=e;const R=e=>"sources"===t,A=e=>"sinks"===t,T=e=>"routes"===t,I=R()?b.filter((e=>e.source===n.name&&e.enabled)).map((e=>e.name)):A()?b.filter((e=>e.sink===n.name&&e.enabled)).map((e=>e.name)):[],U=R()?b.filter((e=>e.source===n.name&&!e.enabled)).map((e=>e.name)):A()?b.filter((e=>e.sink===n.name&&!e.enabled)).map((e=>e.name)):[],N=(()=>{const e=[];return R()?h.forEach((t=>{t.is_group&&t.group_members&&t.group_members.includes(n.name)&&e.push({name:t.name,type:"sources"})})):A()&&f.forEach((t=>{t.is_group&&t.group_members&&t.group_members.includes(n.name)&&e.push({name:t.name,type:"sinks"})})),e})(),P=(0,E.dU)("white","gray.800"),V=(0,E.dU)("gray.800","white"),D=(0,E.dU)("gray.600","gray.300"),W=(0,E.dU)("yellow.400","yellow.500");return r.createElement(x.a,{id:`${t.slice(0,-1)}-${n.name}`,borderWidth:"1px",borderRadius:"lg",overflow:"hidden",bg:P,boxShadow:"md",transition:"all 0.2s",position:"relative",pr:2},r.createElement(k.s,{p:5,justify:"space-between",align:"center",borderColor:"transparent"},r.createElement(_.D,{as:"h3",size:"md",color:V,cursor:v?"pointer":"default",_hover:v?{color:(0,E.dU)("blue.600","blue.300")}:{},onClick:w||(()=>{v&&(R()?v("sources",n.name):A()?v("sinks",n.name):T()&&v("routes",n.name))})},n.name),r.createElement(ie.z,null,r.createElement(C.K,{"aria-label":a?"Remove from favorites":"Add to favorites",title:a?"Remove from favorites":"Add to favorites",icon:r.createElement(Un.G,{color:a?W:"gray.400"}),onClick:l,variant:"ghost",size:"sm"}),R()&&r.createElement(C.K,{"aria-label":o?"Unmark as Primary Source":"Mark as Primary Source",title:o?"Unmark as Primary Source":"Mark as Primary Source",icon:r.createElement(x.a,{as:M.Uhg,color:o?"cyan.500":"gray.400",transition:"all 0.2s"}),onClick:e=>{e.stopPropagation(),S&&S()},variant:"ghost",size:"sm"}),r.createElement(r.Fragment,null,c&&r.createElement(C.K,{"aria-label":"Equalizer",title:"Open Equalizer",icon:r.createElement(x.a,{as:M.QCN,transform:"rotate(90deg)"}),onClick:c,variant:"ghost",size:"sm"}),r.createElement(C.K,{"aria-label":"Edit",title:"Edit",icon:r.createElement(en.Z,null),onClick:()=>{s?s():R()?_e("sources",n):A()?_e("sinks",n):T()&&_e("routes",n)},variant:"ghost",size:"sm"})))),r.createElement(x.a,{px:5,pt:2},r.createElement(k.s,{mb:2,justify:"flex-start",flexWrap:"wrap",gap:1},R()&&r.createElement(gn.E,{colorScheme:"green",mr:1,borderRadius:"full",px:2,py:1,userSelect:"none"},"Source"),A()&&r.createElement(gn.E,{colorScheme:"blue",mr:1,borderRadius:"full",px:2,py:1,userSelect:"none"},"Sink"),T()&&r.createElement(gn.E,{colorScheme:"red",mr:1,borderRadius:"full",px:2,py:1,userSelect:"none"},"Route"),r.createElement(gn.E,{colorScheme:n.enabled?"green":"red",px:2,py:1,borderRadius:"full",cursor:"pointer",userSelect:"none",_hover:{opacity:.8},onClick:i,title:n.enabled?"Click to disable":"Click to enable"},n.enabled?"Enabled":"Disabled"),A()&&m&&r.createElement(gn.E,{colorScheme:o?"purple":"gray",mr:1,borderRadius:"full",px:2,py:1,userSelect:"none",cursor:"pointer",_hover:{opacity:.8},onClick:m,title:o?"Click to stop listening":"Click to listen"},o?"Listening":"Not Listening"),R()&&n.vnc_ip&&u&&r.createElement(gn.E,{colorScheme:"purple",mr:1,borderRadius:"full",px:2,py:1,userSelect:"none",cursor:"pointer",_hover:{opacity:.8},onClick:u,title:"Open VNC"},"VNC")),(R()||A()||T())&&r.createElement(x.a,{mt:3,mb:3},r.createElement(k.s,{mb:1,align:"center"},r.createElement(x.a,{as:"i",className:"fas fa-volume-up",mr:2}),r.createElement($.E,{fontWeight:"medium"},"Volume:")),r.createElement(hn,{value:T()?n.volume||100:n.volume,onChange:e=>g&&g(e)}))),r.createElement(k.s,{justify:"flex-start",wrap:"wrap",width:"100%",justifyContent:"center",gap:2,mb:3,minH:"45px"},R()&&n.vnc_ip&&r.createElement(r.Fragment,null,y&&r.createElement(ie.z,{spacing:1,ml:2},r.createElement(C.K,{"aria-label":"Previous Track",icon:r.createElement(M.ttb,null),size:"sm",colorScheme:"purple",variant:"outline",onClick:e=>{e.stopPropagation(),y("prevtrack")}}),r.createElement(C.K,{"aria-label":"Play/Pause",icon:r.createElement(M.gSK,null),size:"sm",colorScheme:"purple",variant:"outline",onClick:e=>{e.stopPropagation(),y("play")}}),r.createElement(C.K,{"aria-label":"Next Track",icon:r.createElement(M.FH8,null),size:"sm",colorScheme:"purple",variant:"outline",onClick:e=>{e.stopPropagation(),y("nexttrack")}}))),A()&&d&&r.createElement(z.$,{leftIcon:r.createElement(x.a,{as:"i",className:"fas fa-chart-bar"}),colorScheme:"cyan",variant:"outline",size:"sm",onClick:d,"aria-label":"Visualize",title:"Visualize"},"Visualize")),r.createElement(Mn.n,{allowMultiple:!0,defaultIndex:[],mt:2},r.createElement(Nn.A,{border:"none"},r.createElement("h2",null,r.createElement(_n.J,{px:4,py:2,_hover:{bg:(0,E.dU)("blue.50","gray.700")},borderRadius:"md",color:(0,E.dU)("gray.700","gray.200")},r.createElement(x.a,{flex:"1",textAlign:"left",fontWeight:"medium"},"Timeshift"),r.createElement(Pn.Q,{color:(0,E.dU)("blue.500","blue.300")}))),r.createElement(Vn.v,{pb:4,px:5,bg:(0,E.dU)("gray.50","gray.800")},(R()||A()||T())&&r.createElement(x.a,{mb:4},r.createElement(k.s,{mb:1,align:"center"},r.createElement(x.a,{as:"i",className:"fas fa-clock",mr:2}),r.createElement($.E,{fontWeight:"medium"},"Timeshift:")),r.createElement(Rn,{value:(R()||A(),n.timeshift||0),onChange:e=>p&&p(e)})),A()&&d&&r.createElement(x.a,{mb:4},r.createElement(z.$,{leftIcon:r.createElement(x.a,{as:"i",className:"fas fa-chart-bar"}),colorScheme:"cyan",variant:"outline",size:"sm",onClick:d,"aria-label":"Visualize",title:"Visualize"},"Visualize")))),r.createElement(Nn.A,{border:"none"},r.createElement("h2",null,r.createElement(_n.J,{px:4,py:2,_hover:{bg:(0,E.dU)("blue.50","gray.700")},borderRadius:"md",color:(0,E.dU)("gray.700","gray.200")},r.createElement(x.a,{flex:"1",textAlign:"left",fontWeight:"medium"},T()?"Related Items":"Related Routes"),r.createElement(Pn.Q,{color:(0,E.dU)("blue.500","blue.300")}))),r.createElement(Vn.v,{pb:4,px:5,bg:(0,E.dU)("gray.50","gray.800")},T()&&r.createElement(x.a,{fontSize:"sm"},r.createElement(k.s,{mb:2,align:"center"},r.createElement(x.a,{as:"i",className:"fas fa-microphone",mr:2}),r.createElement($.E,{fontWeight:"medium",mr:1},"From:"),r.createElement($.E,{color:D},n.source)),r.createElement(k.s,{mb:3,align:"center"},r.createElement(x.a,{as:"i",className:"fas fa-volume-up",mr:2}),r.createElement($.E,{fontWeight:"medium",mr:1},"To:"),r.createElement($.E,{color:D},n.sink)),r.createElement($.E,{fontWeight:"semibold",fontSize:"xs",color:(0,E.dU)("gray.600","gray.400")},"Connection Links:"),r.createElement(k.s,{flexWrap:"wrap",gap:1,mt:1,mb:3},r.createElement(gn.E,{colorScheme:"green",cursor:v?"pointer":"default",_hover:v?{bg:"green.500"}:{},onClick:e=>{e.stopPropagation(),v&&v("sources",n.source)},borderRadius:"full",px:2,py:1,userSelect:"none"},"Source: ",n.source,v&&r.createElement(x.a,{as:"span",ml:1},r.createElement("i",{className:"fas fa-external-link-alt",style:{fontSize:"0.7em"}}))),r.createElement(gn.E,{colorScheme:"blue",cursor:v?"pointer":"default",_hover:v?{bg:"blue.500"}:{},onClick:e=>{e.stopPropagation(),v&&v("sinks",n.sink)},borderRadius:"full",px:2,py:1,userSelect:"none"},"Sink: ",n.sink,v&&r.createElement(x.a,{as:"span",ml:1},r.createElement("i",{className:"fas fa-external-link-alt",style:{fontSize:"0.7em"}}))))),(R()||A())&&r.createElement(x.a,{fontSize:"sm"},(R()||A())&&n.is_group&&n.group_members&&n.group_members.length>0&&r.createElement(x.a,{mb:2},r.createElement($.E,{fontWeight:"semibold",fontSize:"xs",color:(0,E.dU)("gray.600","gray.400")},"Group Members (",n.group_members.length,"):"),r.createElement(k.s,{flexWrap:"wrap",gap:1,mt:1},n.group_members.map(((e,n)=>r.createElement(gn.E,{key:n,colorScheme:"purple",cursor:v?"pointer":"default",_hover:v?{bg:"purple.500"}:{},onClick:n=>{n.stopPropagation(),v&&v(R()?"sources":"sinks",e)},borderRadius:"full",px:2,py:1,userSelect:"none"},e,v&&r.createElement(x.a,{as:"span",ml:1},r.createElement("i",{className:"fas fa-external-link-alt",style:{fontSize:"0.7em"}}))))))),(R()||A())&&!n.is_group&&N.length>0&&r.createElement(x.a,{mb:2},r.createElement($.E,{fontWeight:"semibold",fontSize:"xs",color:(0,E.dU)("gray.600","gray.400")},"Member of Groups (",N.length,"):"),r.createElement(k.s,{flexWrap:"wrap",gap:1,mt:1},N.map(((e,n)=>r.createElement(gn.E,{key:n,colorScheme:"sources"===e.type?"green":"blue",cursor:v?"pointer":"default",_hover:v?{bg:"sources"===e.type?"green.500":"blue.500"}:{},onClick:n=>{n.stopPropagation(),v&&v("sources"===e.type?"sources":"sinks",e.name)},borderRadius:"full",px:2,py:1,userSelect:"none"},e.name,v&&r.createElement(x.a,{as:"span",ml:1},r.createElement("i",{className:"fas fa-external-link-alt",style:{fontSize:"0.7em"}}))))))),I.length>0&&r.createElement(x.a,{mb:2},r.createElement($.E,{fontWeight:"semibold",fontSize:"xs",color:(0,E.dU)("gray.600","gray.400")},"Active Routes (",I.length,"):"),r.createElement(k.s,{flexWrap:"wrap",gap:1,mt:1},I.map(((e,n)=>r.createElement(gn.E,{key:n,colorScheme:"green",cursor:v?"pointer":"default",_hover:v?{bg:"green.500"}:{},onClick:n=>{n.stopPropagation(),v&&v("routes",e)},borderRadius:"full",px:2,py:1,userSelect:"none"},e,v&&r.createElement(x.a,{as:"span",ml:1},r.createElement("i",{className:"fas fa-external-link-alt",style:{fontSize:"0.7em"}}))))))),U.length>0&&r.createElement(x.a,null,r.createElement($.E,{fontWeight:"semibold",fontSize:"xs",color:(0,E.dU)("gray.600","gray.400")},"Disabled Routes (",U.length,"):"),r.createElement(k.s,{flexWrap:"wrap",gap:1,mt:1},U.map(((e,n)=>r.createElement(gn.E,{key:n,colorScheme:"red",variant:"outline",cursor:v?"pointer":"default",_hover:v?{bg:"red.100"}:{},onClick:n=>{n.stopPropagation(),v&&v("routes",e)},borderRadius:"full",px:2,py:1,userSelect:"none"},e,v&&r.createElement(x.a,{as:"span",ml:1},r.createElement("i",{className:"fas fa-external-link-alt",style:{fontSize:"0.7em"}}))))))))))))},Wn=e=>{let{title:n,icon:t,subtitle:a,status:o,isPositive:l=!0,children:i,onClick:s}=e;const c=(0,E.dU)("white","gray.800"),u=(0,E.dU)("gray.200","gray.700"),m=(0,E.dU)("gray.50","gray.700"),d=(0,E.dU)("gray.800","white"),g=(0,E.dU)("gray.600","gray.400");return r.createElement(x.a,{p:4,borderWidth:"1px",borderRadius:"lg",borderColor:u,bg:c,boxShadow:"sm",transition:"all 0.2s",_hover:s?{boxShadow:"md",bg:m}:{},onClick:s,role:s?"button":void 0,tabIndex:s?0:void 0,cursor:s?"pointer":"default"},r.createElement(k.s,{justify:"space-between",align:"center",mb:a?2:0},r.createElement(k.s,{align:"center"},r.createElement(x.a,{as:"i",className:`fas fa-${t}`,fontSize:"xl",color:d,mr:2,"aria-hidden":"true"}),r.createElement(_.D,{as:"h3",size:"md",color:d},n)),o&&r.createElement(gn.E,{colorScheme:l?"green":"red",px:2,py:1,borderRadius:"full"},o)),a&&r.createElement($.E,{color:g,fontSize:"sm",mb:i?4:0},a),i&&r.createElement(x.a,{mt:2},i))},qn=e=>{let{sources:n,sinks:t,routes:a,starredSources:o,starredSinks:l,starredRoutes:i,contextActiveSource:s,listeningToSink:c,setCurrentCategory:u,handleStar:m,handleToggleSource:d,handleToggleSink:g,handleToggleRoute:p,handleOpenSourceEqualizer:b,handleOpenSinkEqualizer:h,handleOpenRouteEqualizer:f,handleOpenVnc:v,handleOpenVisualizer:S,handleUpdateSourceVolume:y,handleUpdateSinkVolume:w,handleUpdateSourceTimeshift:C,handleUpdateSinkTimeshift:R,handleUpdateRouteVolume:A,handleUpdateRouteTimeshift:T,handleControlSource:I,actions:U}=e;const M=n.find((e=>e.name===s)),N=(0,E.dU)("white","gray.800"),P=(0,E.dU)("gray.200","gray.700"),V=(0,E.dU)("gray.700","white"),D="blue";return r.createElement(x.a,null,r.createElement(In.r,{columns:{base:1,md:3},spacing:4,mb:6},r.createElement(Wn,{title:"Primary Source",icon:"broadcast-tower",status:M?"Active":"None",isPositive:!!M,onClick:()=>u("active-source")},M&&r.createElement(x.a,null,r.createElement($.E,{fontWeight:"bold",mb:1},M.name),r.createElement($.E,null,"Volume: ",M.volume,"%"),void 0!==M.timeshift&&r.createElement($.E,null,"Timeshift: ",M.timeshift,"ms"))),r.createElement(Wn,{title:"Now Listening",icon:"headphones",status:c?"Active":"None",isPositive:!!c,onClick:()=>u("now-listening")},c&&r.createElement(x.a,null,r.createElement($.E,{fontWeight:"bold",mb:1},c.name),void 0!==c.volume&&r.createElement($.E,null,"Volume: ",c.volume,"%"))),r.createElement(Wn,{title:"System Status",icon:"server",status:"Online",isPositive:!0},r.createElement(x.a,null,r.createElement($.E,null,"Primary Sources: ",n.filter((e=>e.enabled)).length),r.createElement($.E,null,"Active Sinks: ",t.filter((e=>e.enabled)).length),r.createElement($.E,null,"Active Routes: ",a.filter((e=>e.enabled)).length)))),M&&r.createElement(x.a,{mb:6,p:4,borderWidth:"1px",borderRadius:"lg",borderColor:P,bg:N},r.createElement(k.s,{justify:"space-between",align:"center",mb:4},r.createElement(k.s,{align:"center"},r.createElement(x.a,{as:"i",className:"fas fa-broadcast-tower",mr:2}),r.createElement(_.D,{as:"h3",size:"md",color:V},"Primary Source: ",M.name)),r.createElement(z.$,{size:"sm",onClick:()=>u("active-source"),colorScheme:D,variant:"outline"},"View Details")),r.createElement(Dn,{key:`primary-source-${M.name}`,item:M,type:"sources",isStarred:o.includes(M.name),isActive:!0,onStar:()=>m("sources",M.name),onActivate:()=>d(M.name),onEqualizer:()=>b(M.name),onVnc:M.vnc_ip?()=>v(M.name):void 0,onUpdateVolume:e=>y(M.name,e),onUpdateTimeshift:e=>C(M.name,e),onControlSource:M.vnc_ip?e=>I&&I(M.name,e):void 0,onToggleActiveSource:()=>d(M.name),routes:a,allSources:n,allSinks:t,navigate:(e,n)=>{"routes"===e?(localStorage.setItem("currentRouteName",n),u("route"),console.log(`Navigating to route detail: ${n}`)):"sources"===e||"group-source"===e?(localStorage.setItem("currentSourceName",n),u("source"),console.log(`Navigating to source detail: ${n}`)):"sinks"!==e&&"group-sink"!==e||(localStorage.setItem("currentSinkName",n),u("sink"),console.log(`Navigating to sink detail: ${n}`))}})),r.createElement(x.a,{mb:6,p:4,borderWidth:"1px",borderRadius:"lg",borderColor:P,bg:N},r.createElement(k.s,{justify:"space-between",align:"center",mb:4},r.createElement(k.s,{align:"center"},r.createElement(K.I,{as:Un.G,mr:2,color:"yellow.400"}),r.createElement(_.D,{as:"h3",size:"md",color:V},"Favorites")),r.createElement(z.$,{size:"sm",onClick:()=>u("favorites"),colorScheme:D,variant:"outline"},"View All")),r.createElement(In.r,{columns:{base:1,md:2,lg:3,"2xl":4},spacing:4},o.slice(0,3).map((e=>{const o=n.find((n=>n.name===e));return o?r.createElement(Dn,{key:`source-${o.name}`,item:o,type:"sources",isStarred:!0,isActive:s===o.name,onStar:()=>m("sources",o.name),onActivate:()=>d(o.name),onEqualizer:()=>b(o.name),onVnc:o.vnc_ip?()=>v(o.name):void 0,onUpdateVolume:e=>y(o.name,e),onUpdateTimeshift:e=>C(o.name,e),onControlSource:o.vnc_ip?e=>I&&I(o.name,e):void 0,onToggleActiveSource:()=>d(o.name),routes:a,allSources:n,allSinks:t,navigate:(e,n)=>{"routes"===e?(localStorage.setItem("currentRouteName",n),u("route"),console.log(`Navigating to route detail: ${n}`)):"sources"===e||"group-source"===e?(localStorage.setItem("currentSourceName",n),u("source"),console.log(`Navigating to source detail: ${n}`)):"sinks"!==e&&"group-sink"!==e||(localStorage.setItem("currentSinkName",n),u("sink"),console.log(`Navigating to sink detail: ${n}`))}}):null})),l.slice(0,3).map((e=>{const o=t.find((n=>n.name===e));return o?r.createElement(Dn,{key:`sink-${o.name}`,item:o,type:"sinks",isStarred:!0,isActive:c?.name===o.name,onStar:()=>m("sinks",o.name),onActivate:()=>g(o.name),onEqualizer:()=>h(o.name),onListen:()=>{c?.name===o.name?U.listenToSink(null):U.listenToSink(o)},onVisualize:()=>S?S(o):{},onUpdateVolume:e=>w(o.name,e),onUpdateTimeshift:e=>R(o.name,e),routes:a,allSources:n,allSinks:t,navigate:(e,n)=>{"routes"===e?(localStorage.setItem("currentRouteName",n),u("route"),console.log(`Navigating to route detail: ${n}`)):"sources"===e||"group-source"===e?(localStorage.setItem("currentSourceName",n),u("source"),console.log(`Navigating to source detail: ${n}`)):"sinks"!==e&&"group-sink"!==e||(localStorage.setItem("currentSinkName",n),u("sink"),console.log(`Navigating to sink detail: ${n}`))}}):null})),i.slice(0,3).map((e=>{const o=a.find((n=>n.name===e));return o?r.createElement(Dn,{key:`route-${o.name}`,item:o,type:"routes",isStarred:!0,isActive:o.enabled,onStar:()=>m("routes",o.name),onActivate:()=>p(o.name),onEqualizer:()=>f(o.name),onUpdateVolume:e=>A(o.name,e),onUpdateTimeshift:e=>T(o.name,e),routes:a,allSources:n,allSinks:t,navigate:(e,n)=>{"routes"===e?(localStorage.setItem("currentRouteName",n),u("route"),console.log(`Navigating to route detail: ${n}`)):"sources"===e||"group-source"===e?(localStorage.setItem("currentSourceName",n),u("source"),console.log(`Navigating to source detail: ${n}`)):"sinks"!==e&&"group-sink"!==e||(localStorage.setItem("currentSinkName",n),u("sink"),console.log(`Navigating to sink detail: ${n}`))}}):null})))),r.createElement(x.a,{mb:6,p:4,borderWidth:"1px",borderRadius:"lg",borderColor:P,bg:N},r.createElement(k.s,{justify:"space-between",align:"center",mb:4},r.createElement(k.s,{align:"center"},r.createElement(x.a,{as:"i",className:"fas fa-broadcast-tower",mr:2}),r.createElement(_.D,{as:"h3",size:"md",color:V},"Primary Sources")),r.createElement(z.$,{size:"sm",onClick:()=>u("sources"),colorScheme:D,variant:"outline"},"View All")),r.createElement(In.r,{columns:{base:1,md:2,lg:3,"2xl":4},spacing:4},n.filter((e=>e.enabled)).slice(0,10).map((e=>r.createElement(Dn,{key:`active-source-${e.name}`,item:e,type:"sources",isStarred:o.includes(e.name),isActive:s===e.name,onStar:()=>m("sources",e.name),onActivate:()=>d(e.name),onEqualizer:()=>b(e.name),onVnc:e.vnc_ip?()=>v(e.name):void 0,onUpdateVolume:n=>y(e.name,n),onUpdateTimeshift:n=>C(e.name,n),onControlSource:e.vnc_ip?n=>I&&I(e.name,n):void 0,onToggleActiveSource:()=>d(e.name),routes:a,allSources:n,allSinks:t,navigate:(e,n)=>{"routes"===e?(localStorage.setItem("currentRouteName",n),u("route"),console.log(`Navigating to route detail: ${n}`)):"sources"===e||"group-source"===e?(localStorage.setItem("currentSourceName",n),u("source"),console.log(`Navigating to source detail: ${n}`)):"sinks"!==e&&"group-sink"!==e||(localStorage.setItem("currentSinkName",n),u("sink"),console.log(`Navigating to sink detail: ${n}`))}}))))),r.createElement(x.a,{mb:6,p:4,borderWidth:"1px",borderRadius:"lg",borderColor:P,bg:N},r.createElement(k.s,{justify:"space-between",align:"center",mb:4},r.createElement(k.s,{align:"center"},r.createElement(x.a,{as:"i",className:"fas fa-volume-up",mr:2}),r.createElement(_.D,{as:"h3",size:"md",color:V},"Active Sinks")),r.createElement(z.$,{size:"sm",onClick:()=>u("sinks"),colorScheme:D,variant:"outline"},"View All")),r.createElement(In.r,{columns:{base:1,md:2,lg:3,"2xl":4},spacing:4},t.filter((e=>e.enabled)).slice(0,10).map((e=>r.createElement(Dn,{key:`active-sink-${e.name}`,item:e,type:"sinks",isStarred:l.includes(e.name),isActive:c?.name===e.name,onStar:()=>m("sinks",e.name),onActivate:()=>g(e.name),onEqualizer:()=>h(e.name),onListen:()=>{c?.name===e.name?U.listenToSink(null):U.listenToSink(e)},onVisualize:()=>S?S(e):{},onUpdateVolume:n=>w(e.name,n),onUpdateTimeshift:n=>R(e.name,n),routes:a,allSources:n,allSinks:t,navigate:(e,n)=>{"routes"===e?(localStorage.setItem("currentRouteName",n),u("route"),console.log(`Navigating to route detail: ${n}`)):"sources"===e||"group-source"===e?(localStorage.setItem("currentSourceName",n),u("source"),console.log(`Navigating to source detail: ${n}`)):"sinks"!==e&&"group-sink"!==e||(localStorage.setItem("currentSinkName",n),u("sink"),console.log(`Navigating to sink detail: ${n}`))}}))))),r.createElement(x.a,{mb:6,p:4,borderWidth:"1px",borderRadius:"lg",borderColor:P,bg:N},r.createElement(k.s,{justify:"space-between",align:"center",mb:4},r.createElement(k.s,{align:"center"},r.createElement(x.a,{as:"i",className:"fas fa-route",mr:2}),r.createElement(_.D,{as:"h3",size:"md",color:V},"Active Routes")),r.createElement(z.$,{size:"sm",onClick:()=>u("routes"),colorScheme:D,variant:"outline"},"View All")),r.createElement(In.r,{columns:{base:1,md:2,lg:3,"2xl":4},spacing:4},a.filter((e=>e.enabled)).slice(0,10).map((e=>r.createElement(Dn,{key:`active-route-${e.name}`,item:e,type:"routes",isStarred:i.includes(e.name),isActive:e.enabled,onStar:()=>m("routes",e.name),onActivate:()=>p(e.name),onEqualizer:()=>f(e.name),onUpdateVolume:n=>A(e.name,n),onUpdateTimeshift:n=>T(e.name,n),routes:a,allSources:n,allSinks:t,navigate:(e,n)=>{"routes"===e?(localStorage.setItem("currentRouteName",n),u("route"),console.log(`Navigating to route detail: ${n}`)):"sources"===e||"group-source"===e?(localStorage.setItem("currentSourceName",n),u("source"),console.log(`Navigating to source detail: ${n}`)):"sinks"!==e&&"group-sink"!==e||(localStorage.setItem("currentSinkName",n),u("sink"),console.log(`Navigating to sink detail: ${n}`))}}))))))},On=e=>{let{icon:n,title:t,message:a,actionText:o,onAction:l}=e;const i=(0,E.dU)("gray.50","gray.700"),s=(0,E.dU)("gray.200","gray.600"),c=(0,E.dU)("blue.500","blue.300");return r.createElement(x.a,{p:8,borderWidth:"1px",borderRadius:"lg",borderColor:s,bg:i,textAlign:"center",width:"100%",maxWidth:"500px",mx:"auto",my:8},r.createElement(oe.T,{spacing:4},r.createElement(x.a,{fontSize:"4xl",color:c},r.createElement("i",{className:`fas fa-${n}`})),r.createElement(_.D,{as:"h3",size:"lg"},t),r.createElement($.E,{color:(0,E.dU)("gray.600","gray.300")},a),o&&l&&r.createElement(z.$,{colorScheme:"blue",onClick:l,mt:2},o)))},Bn=e=>{let{sources:n,sinks:t,routes:a,starredSources:o,contextActiveSource:l,setCurrentCategory:i,handleStar:s,handleToggleSource:c,handleToggleRoute:u,handleOpenSourceEqualizer:m,handleOpenVnc:d,handleUpdateSourceVolume:g,handleUpdateSourceTimeshift:p,handleUpdateRouteVolume:b,handleUpdateRouteTimeshift:h,handleControlSource:f}=e;const v=n.find((e=>e.name===l)),S=(0,E.dU)("gray.700","white");return v?r.createElement(x.a,null,r.createElement(x.a,{mb:6},r.createElement(_.D,{as:"h2",size:"lg",color:S,mb:4},"Primary Source"),r.createElement(Dn,{key:`primary-source-${v.name}`,item:v,type:"sources",isStarred:o.includes(v.name),isActive:!0,onStar:()=>s("sources",v.name),onActivate:()=>c(v.name),onEqualizer:()=>m(v.name),onVnc:v.vnc_ip?()=>d(v.name):void 0,onUpdateVolume:e=>g(v.name,e),onUpdateTimeshift:e=>p(v.name,e),onControlSource:v.vnc_ip&&f?e=>f(v.name,e):void 0,onToggleActiveSource:()=>c(v.name),routes:a,allSources:n,allSinks:t,navigateToDetails:void 0,navigate:(e,n)=>{"routes"===e?(i("routes"),console.log(`Navigating to route: ${n}`)):"sources"===e||"group-source"===e?(i("sources"),console.log(`Navigating to source: ${n}`)):"sinks"!==e&&"group-sink"!==e||(i("sinks"),console.log(`Navigating to sink: ${n}`))}})),r.createElement(x.a,{mb:6},r.createElement(k.s,{align:"center",justify:"space-between",mb:4},r.createElement(k.s,{align:"center"},r.createElement(K.I,{as:M.$Fg,mr:2,color:S}),r.createElement(_.D,{as:"h3",size:"md",color:S},"Connected Routes")),r.createElement(z.$,{leftIcon:r.createElement(K.I,{as:M.OiG}),colorScheme:"blue",size:"sm",onClick:()=>Ve("source",v.name)},"Add Route")),r.createElement(In.r,{columns:{base:1,md:2,lg:3,"2xl":4},spacing:4},a.filter((e=>e.source===v.name)).map((e=>r.createElement(Dn,{key:`source-route-${e.name}`,item:e,type:"routes",isStarred:o.includes(e.name),isActive:e.enabled,onStar:()=>s("routes",e.name),onActivate:()=>u(e.name),onEqualizer:()=>m(e.name),onUpdateVolume:n=>b(e.name,n),onUpdateTimeshift:n=>h(e.name,n),routes:a,allSources:n,allSinks:t,navigateToDetails:()=>{localStorage.setItem("currentRouteName",e.name),i("route")},navigate:(e,n)=>{"routes"===e?(i("routes"),console.log(`Navigating to route: ${n}`)):"sources"===e||"group-source"===e?(i("sources"),console.log(`Navigating to source: ${n}`)):"sinks"!==e&&"group-sink"!==e||(i("sinks"),console.log(`Navigating to sink: ${n}`))}})))))):r.createElement(On,{icon:"broadcast-tower",title:"No Primary Source",message:"Select a source to make it active",actionText:"View Sources",onAction:()=>i("sources")})},Ln=e=>{let{routes:n,starredSinks:t,listeningToSink:a,setCurrentCategory:o,handleStar:l,handleToggleSink:i,handleToggleRoute:s,handleOpenSinkEqualizer:c,handleOpenVisualizer:u,handleUpdateRouteVolume:m,handleUpdateRouteTimeshift:d,actions:g}=e;const p=(0,E.dU)("white","gray.800"),b=(0,E.dU)("gray.200","gray.700"),h=(0,E.dU)("gray.700","white"),f=(0,E.dU)("gray.600","gray.400"),v=(0,E.dU)("gray.800","white"),S=(0,E.dU)("gray.200","gray.600"),y=(0,E.dU)("blue.50","blue.900"),w=(0,E.dU)("blue.600","blue.200"),C=(0,E.dU)("yellow.400","yellow.300");return a?r.createElement(x.a,null,r.createElement(x.a,{p:5,borderWidth:"1px",borderRadius:"lg",borderColor:b,bg:p,mb:6,boxShadow:"sm"},r.createElement(k.s,{justify:"space-between",align:"center",mb:4},r.createElement(_.D,{as:"h2",size:"lg",color:h},a.name),r.createElement(z.$,{variant:"ghost",onClick:()=>l("sinks",a.name),"aria-label":t.includes(a.name)?"Unstar":"Star",color:t.includes(a.name)?C:"gray.400",_hover:{bg:"transparent"}},r.createElement(K.I,{as:Un.G,boxSize:5}))),r.createElement(dn.c,{mb:4}),r.createElement(In.r,{columns:{base:1,md:2},spacing:4,mb:6},r.createElement(k.s,{direction:"column"},r.createElement($.E,{fontWeight:"bold",color:f,mb:1},"Status"),r.createElement(gn.E,{colorScheme:a.enabled?"green":"red",alignSelf:"flex-start",px:2,py:1,borderRadius:"full"},a.enabled?"Enabled":"Disabled")),a.ip&&r.createElement(k.s,{direction:"column"},r.createElement($.E,{fontWeight:"bold",color:f,mb:1},"IP Address"),r.createElement($.E,{color:v},a.ip)),a.port&&r.createElement(k.s,{direction:"column"},r.createElement($.E,{fontWeight:"bold",color:f,mb:1},"Port"),r.createElement($.E,{color:v},a.port)),void 0!==a.volume&&r.createElement(k.s,{direction:"column"},r.createElement($.E,{fontWeight:"bold",color:f,mb:1},"Volume"),r.createElement($.E,{color:v},a.volume,"%"))),r.createElement(k.s,{wrap:"wrap",gap:3},r.createElement(z.$,{colorScheme:a.enabled?"red":"green",onClick:()=>i(a.name),size:"md",mr:2},a.enabled?"Disable":"Enable"),r.createElement(z.$,{leftIcon:r.createElement("i",{className:"fas fa-headphones-alt"}),colorScheme:"teal",onClick:()=>g.listenToSink(null),size:"md"},"Stop Listening"),r.createElement(z.$,{leftIcon:r.createElement(K.I,{as:M.QCN}),onClick:()=>c(a.name),bg:y,color:w,_hover:{bg:S},size:"md"},"Equalizer"),u&&r.createElement(z.$,{leftIcon:r.createElement(K.I,{as:M.v$b}),onClick:()=>u(a),bg:y,color:w,_hover:{bg:S},size:"md"},"Visualizer"))),r.createElement(x.a,{mb:6},r.createElement(k.s,{align:"center",justify:"space-between",mb:4},r.createElement(k.s,{align:"center"},r.createElement(K.I,{as:M.$Fg,mr:2,color:h}),r.createElement(_.D,{as:"h3",size:"md",color:h},"Connected Routes")),r.createElement(z.$,{leftIcon:r.createElement(K.I,{as:M.OiG}),colorScheme:"blue",size:"sm",onClick:()=>Ve("sink",a.name)},"Add Route")),r.createElement(In.r,{columns:{base:1,md:2,lg:3,"2xl":4},spacing:4},n.filter((e=>e.sink===a.name)).map((e=>r.createElement(Dn,{key:`sink-route-${e.name}`,item:e,type:"routes",isStarred:!1,isActive:e.enabled,onStar:()=>l("routes",e.name),onActivate:()=>s(e.name),onUpdateVolume:n=>m(e.name,n),onUpdateTimeshift:n=>d(e.name,n),routes:n})))))):r.createElement(On,{icon:"headphones",title:"Not Listening to Any Sink",message:"Select a sink to listen to",actionText:"View Sinks",onAction:()=>o("sinks")})};var Fn=t(9822);const jn=e=>{let{item:n,type:t,isStarred:a,isActive:o,onStar:l,onActivate:i,onEdit:s,onEqualizer:c,onVnc:u,onListen:m,onVisualize:d,onUpdateVolume:g,onUpdateTimeshift:p,routes:b=[],allSources:h=[],allSinks:f=[],navigate:v,onToggleActiveSource:S,onControlSource:y,navigateToDetails:w}=e;const[R,A]=(0,r.useState)(!1),T=e=>"sources"===t,I=e=>"sinks"===t,U=e=>"routes"===t,N=T()?b.filter((e=>e.source===n.name&&e.enabled)).map((e=>e.name)):I()?b.filter((e=>e.sink===n.name&&e.enabled)).map((e=>e.name)):[],_=T()?b.filter((e=>e.source===n.name&&!e.enabled)).map((e=>e.name)):I()?b.filter((e=>e.sink===n.name&&!e.enabled)).map((e=>e.name)):[],P=(()=>{const e=[];return T()?h.forEach((t=>{t.is_group&&t.group_members&&t.group_members.includes(n.name)&&e.push({name:t.name,type:"sources"})})):I()&&f.forEach((t=>{t.is_group&&t.group_members&&t.group_members.includes(n.name)&&e.push({name:t.name,type:"sinks"})})),e})(),V=(0,E.dU)("white","gray.800"),D=(0,E.dU)("gray.800","white"),W=(0,E.dU)("gray.600","gray.300"),q=(0,E.dU)("yellow.400","yellow.500");return r.createElement(x.a,{id:`${t.slice(0,-1)}-${n.name}`,className:`resource-list-item ${o?"active":""} ${R?"expanded":""}`,borderWidth:"1px",borderRadius:"md",mb:2,overflow:"hidden",bg:V,_hover:{boxShadow:"sm"},display:"flex",flexDirection:"column",width:"100%",position:"relative"},r.createElement(k.s,{p:3,alignItems:"center",justifyContent:"space-between",borderBottomWidth:R?"1px":"0",borderColor:"transparent",width:"100%",cursor:"pointer",onClick:e=>{e.stopPropagation(),A(!R)}},r.createElement(k.s,{alignItems:"center",flex:"1"},r.createElement(C.K,{"aria-label":a?"Remove from favorites":"Add to favorites",icon:r.createElement(Un.G,{color:a?q:"gray.300"}),size:"sm",variant:"ghost",mr:2,onClick:e=>{e.stopPropagation(),l()}}),T()&&r.createElement(C.K,{"aria-label":o?"Unmark as Primary Source":"Mark as Primary Source",title:o?"Unmark as Primary Source":"Mark as Primary Source",icon:r.createElement(x.a,{as:M.Uhg,color:o?"cyan.500":"gray.400",transition:"all 0.2s"}),onClick:e=>{e.stopPropagation(),S&&S()},variant:"ghost",size:"sm",mr:2}),c&&r.createElement(C.K,{"aria-label":"Equalizer",title:"Open Equalizer",icon:r.createElement(x.a,{as:M.QCN,transform:"rotate(90deg)"}),onClick:e=>{e.stopPropagation(),c()},variant:"ghost",size:"sm",mr:2}),s&&r.createElement(C.K,{"aria-label":"Edit",title:"Edit",icon:r.createElement(en.Z,null),onClick:e=>{e.stopPropagation(),s?s():T()?_e("sources",n):I()?_e("sinks",n):U()&&_e("routes",n)},variant:"ghost",size:"sm",mr:2}),r.createElement(x.a,{onClick:e=>{e.target.closest("button")||(w?w():v&&(T()?v("sources",n.name):I()?v("sinks",n.name):U()&&v("routes",n.name)))}},r.createElement($.E,{fontWeight:"bold",mr:3,color:D},n.name)),r.createElement(ie.z,{spacing:1,mr:3},(()=>{const e=[];return T()?e.push(r.createElement(gn.E,{key:"type",colorScheme:"green",mr:1,borderRadius:"full",px:2,py:1,userSelect:"none"},"Source")):I()?e.push(r.createElement(gn.E,{key:"type",colorScheme:"blue",mr:1,borderRadius:"full",px:2,py:1,userSelect:"none"},"Sink")):U()&&e.push(r.createElement(gn.E,{key:"type",colorScheme:"red",mr:1,borderRadius:"full",px:2,py:1,userSelect:"none"},"Route")),e})(),r.createElement(gn.E,{colorScheme:n.enabled?"green":"red",px:2,py:1,borderRadius:"full",cursor:"pointer",userSelect:"none",_hover:{opacity:.8},onClick:e=>{e.stopPropagation(),i()},title:n.enabled?"Click to disable":"Click to enable"},n.enabled?"Enabled":"Disabled"),I()&&m&&r.createElement(gn.E,{colorScheme:o?"purple":"gray",mr:1,borderRadius:"full",px:2,py:1,userSelect:"none",cursor:"pointer",_hover:{opacity:.8},onClick:e=>{e.stopPropagation(),m()},title:o?"Click to stop listening":"Click to listen"},o?"Listening":"Not Listening"),T()&&n.vnc_ip&&u&&r.createElement(gn.E,{colorScheme:"purple",mr:1,borderRadius:"full",px:2,py:1,userSelect:"none",cursor:"pointer",_hover:{opacity:.8},onClick:e=>{e.stopPropagation(),u()},title:"Open VNC"},"VNC"))),r.createElement(k.s,null,r.createElement(C.K,{"aria-label":R?"Collapse":"Expand",icon:R?r.createElement(X.M,null):r.createElement(wn.D,null),size:"sm",variant:"ghost"}))),r.createElement(Fn.S,{in:R,animateOpacity:!0,style:{width:"100%"}},r.createElement(x.a,{p:4,width:"100%"},(T()||I()||U())&&r.createElement(x.a,{mt:3,mb:3},r.createElement(k.s,{mb:1,align:"center"},r.createElement(x.a,{as:"i",className:"fas fa-volume-up",mr:2}),r.createElement($.E,{fontWeight:"medium"},"Volume:")),r.createElement(ie.z,{spacing:3,ml:2},r.createElement(hn,{value:U()?n.volume||100:n.volume,onChange:e=>g&&g(e)}),T()&&n.vnc_ip&&r.createElement(r.Fragment,null,y&&r.createElement(r.Fragment,null,r.createElement(C.K,{"aria-label":"Previous Track",icon:r.createElement(M.ttb,null),size:"sm",colorScheme:"purple",variant:"outline",onClick:e=>{e.stopPropagation(),y("prevtrack")},ml:5,mt:-5}),r.createElement(C.K,{"aria-label":"Play/Pause",icon:r.createElement(M.gSK,null),size:"sm",colorScheme:"purple",variant:"outline",onClick:e=>{e.stopPropagation(),y("play")},mt:-5}),r.createElement(C.K,{"aria-label":"Next Track",icon:r.createElement(M.FH8,null),size:"sm",colorScheme:"purple",variant:"outline",onClick:e=>{e.stopPropagation(),y("nexttrack")},mt:-5}))))),r.createElement(k.s,{justify:"flex-start",wrap:"wrap",width:"100%",justifyContent:"center",gap:2,mb:3},I()&&d&&r.createElement(z.$,{leftIcon:r.createElement(x.a,{as:"i",className:"fas fa-chart-bar"}),colorScheme:"cyan",variant:"outline",size:"sm",onClick:d,"aria-label":"Visualize",title:"Visualize"},"Visualize")),r.createElement(Mn.n,{allowMultiple:!0,defaultIndex:[],mt:2},r.createElement(Nn.A,{border:"none"},r.createElement("h2",null,r.createElement(_n.J,{px:4,py:2,_hover:{bg:(0,E.dU)("blue.50","gray.700")},borderRadius:"md",color:(0,E.dU)("gray.700","gray.200")},r.createElement(x.a,{flex:"1",textAlign:"left",fontWeight:"medium"},"Timeshift"),r.createElement(Pn.Q,{color:(0,E.dU)("blue.500","blue.300")}))),r.createElement(Vn.v,{pb:4,px:5,bg:(0,E.dU)("gray.50","gray.800")},(T()||I()||U())&&r.createElement(x.a,{mb:4},r.createElement(k.s,{mb:1,align:"center"},r.createElement(x.a,{as:"i",className:"fas fa-clock",mr:2}),r.createElement($.E,{fontWeight:"medium"},"Timeshift:")),r.createElement(Rn,{value:(T()||I(),n.timeshift||0),onChange:e=>p&&p(e)})),I()&&d&&r.createElement(x.a,{mb:4},r.createElement(z.$,{leftIcon:r.createElement(x.a,{as:"i",className:"fas fa-chart-bar"}),colorScheme:"cyan",variant:"outline",size:"sm",onClick:d,"aria-label":"Visualize",title:"Visualize"},"Visualize")))),r.createElement(Nn.A,{border:"none"},r.createElement("h2",null,r.createElement(_n.J,{px:4,py:2,_hover:{bg:(0,E.dU)("blue.50","gray.700")},borderRadius:"md",color:(0,E.dU)("gray.700","gray.200")},r.createElement(x.a,{flex:"1",textAlign:"left",fontWeight:"medium"},U()?"Related Items":"Related Routes"),r.createElement(Pn.Q,{color:(0,E.dU)("blue.500","blue.300")}))),r.createElement(Vn.v,{pb:4,px:5,bg:(0,E.dU)("gray.50","gray.800")},U()&&r.createElement(x.a,{fontSize:"sm"},r.createElement(k.s,{mb:2,align:"center"},r.createElement(x.a,{as:"i",className:"fas fa-microphone",mr:2}),r.createElement($.E,{fontWeight:"medium",mr:1},"From:"),r.createElement($.E,{color:W},n.source)),r.createElement(k.s,{mb:3,align:"center"},r.createElement(x.a,{as:"i",className:"fas fa-volume-up",mr:2}),r.createElement($.E,{fontWeight:"medium",mr:1},"To:"),r.createElement($.E,{color:W},n.sink)),r.createElement($.E,{fontWeight:"semibold",fontSize:"xs",color:(0,E.dU)("gray.600","gray.400")},"Connection Links:"),r.createElement(k.s,{flexWrap:"wrap",gap:1,mt:1,mb:3},r.createElement(gn.E,{colorScheme:"green",cursor:v?"pointer":"default",_hover:v?{bg:"green.500"}:{},onClick:e=>{e.stopPropagation(),v&&v("sources",n.source)},borderRadius:"full",px:2,py:1,userSelect:"none"},"Source: ",n.source,v&&r.createElement(x.a,{as:"span",ml:1},r.createElement("i",{className:"fas fa-external-link-alt",style:{fontSize:"0.7em"}}))),r.createElement(gn.E,{colorScheme:"blue",cursor:v?"pointer":"default",_hover:v?{bg:"blue.500"}:{},onClick:e=>{e.stopPropagation(),v&&v("sinks",n.sink)},borderRadius:"full",px:2,py:1,userSelect:"none"},"Sink: ",n.sink,v&&r.createElement(x.a,{as:"span",ml:1},r.createElement("i",{className:"fas fa-external-link-alt",style:{fontSize:"0.7em"}}))))),(T()||I())&&r.createElement(x.a,{fontSize:"sm"},(T()||I())&&n.is_group&&n.group_members&&n.group_members.length>0&&r.createElement(x.a,{mb:2},r.createElement($.E,{fontWeight:"semibold",fontSize:"xs",color:(0,E.dU)("gray.600","gray.400")},"Group Members (",n.group_members.length,"):"),r.createElement(k.s,{flexWrap:"wrap",gap:1,mt:1},n.group_members.map(((e,n)=>r.createElement(gn.E,{key:n,colorScheme:"purple",cursor:v?"pointer":"default",_hover:v?{bg:"purple.500"}:{},onClick:n=>{n.stopPropagation(),v&&v(T()?"sources":"sinks",e)},borderRadius:"full",px:2,py:1,userSelect:"none"},e,v&&r.createElement(x.a,{as:"span",ml:1},r.createElement("i",{className:"fas fa-external-link-alt",style:{fontSize:"0.7em"}}))))))),(T()||I())&&!n.is_group&&P.length>0&&r.createElement(x.a,{mb:2},r.createElement($.E,{fontWeight:"semibold",fontSize:"xs",color:(0,E.dU)("gray.600","gray.400")},"Member of Groups (",P.length,"):"),r.createElement(k.s,{flexWrap:"wrap",gap:1,mt:1},P.map(((e,n)=>r.createElement(gn.E,{key:n,colorScheme:"sources"===e.type?"green":"blue",cursor:v?"pointer":"default",_hover:v?{bg:"sources"===e.type?"green.500":"blue.500"}:{},onClick:n=>{n.stopPropagation(),v&&v("sources"===e.type?"sources":"sinks",e.name)},borderRadius:"full",px:2,py:1,userSelect:"none"},e.name,v&&r.createElement(x.a,{as:"span",ml:1},r.createElement("i",{className:"fas fa-external-link-alt",style:{fontSize:"0.7em"}}))))))),N.length>0&&r.createElement(x.a,{mb:2},r.createElement($.E,{fontWeight:"semibold",fontSize:"xs",color:(0,E.dU)("gray.600","gray.400")},"Active Routes (",N.length,"):"),r.createElement(k.s,{flexWrap:"wrap",gap:1,mt:1},N.map(((e,n)=>r.createElement(gn.E,{key:n,colorScheme:"green",cursor:v?"pointer":"default",_hover:v?{bg:"green.500"}:{},onClick:n=>{n.stopPropagation(),v&&v("routes",e)},borderRadius:"full",px:2,py:1,userSelect:"none"},e,v&&r.createElement(x.a,{as:"span",ml:1},r.createElement("i",{className:"fas fa-external-link-alt",style:{fontSize:"0.7em"}}))))))),_.length>0&&r.createElement(x.a,null,r.createElement($.E,{fontWeight:"semibold",fontSize:"xs",color:(0,E.dU)("gray.600","gray.400")},"Disabled Routes (",_.length,"):"),r.createElement(k.s,{flexWrap:"wrap",gap:1,mt:1},_.map(((e,n)=>r.createElement(gn.E,{key:n,colorScheme:"red",variant:"outline",cursor:v?"pointer":"default",_hover:v?{bg:"red.100"}:{},onClick:n=>{n.stopPropagation(),v&&v("routes",e)},borderRadius:"full",px:2,py:1,userSelect:"none"},e,v&&r.createElement(x.a,{as:"span",ml:1},r.createElement("i",{className:"fas fa-external-link-alt",style:{fontSize:"0.7em"}}))))))))))),I()&&r.createElement(oe.T,{spacing:4,align:"stretch",width:"100%"},(n.ip||n.port||n.sample_rate||n.bit_depth)&&r.createElement(x.a,null,r.createElement($.E,{fontWeight:"semibold",mb:2},"Technical Details"),r.createElement(In.r,{columns:{base:1,md:2,lg:3,"2xl":4},spacing:2},n.ip&&r.createElement($.E,{fontSize:"sm"},r.createElement("i",{className:"fas fa-network-wired"})," IP: ",n.ip),n.port&&r.createElement($.E,{fontSize:"sm"},r.createElement("i",{className:"fas fa-plug"})," Port: ",n.port),n.sample_rate&&r.createElement($.E,{fontSize:"sm"},r.createElement("i",{className:"fas fa-wave-square"})," Sample Rate: ",n.sample_rate,"Hz"),n.bit_depth&&r.createElement($.E,{fontSize:"sm"},r.createElement("i",{className:"fas fa-microchip"})," Bit Depth: ",n.bit_depth,"-bit"))),!n.is_group&&P.length>0&&r.createElement(x.a,null,r.createElement($.E,{fontWeight:"semibold",mb:2},"Member of Groups"),r.createElement(oe.T,{align:"stretch",spacing:1,width:"100%"},P.map(((e,n)=>r.createElement(x.a,{key:n,p:2,borderWidth:"1px",borderRadius:"md",cursor:v?"pointer":"default",_hover:v?{bg:(0,E.dU)("gray.100","gray.700")}:{},onClick:n=>{n.stopPropagation(),v&&v("sources"===e.type?"sources":"sinks",e.name)},bg:(0,E.dU)("sources"===e.type?"green.50":"blue.50","sources"===e.type?"green.900":"blue.900"),borderColor:(0,E.dU)("sources"===e.type?"green.200":"blue.200","sources"===e.type?"green.700":"blue.700")},r.createElement($.E,{fontSize:"sm"},e.name,v&&r.createElement(x.a,{as:"span",ml:1,color:(0,E.dU)("blue.500","blue.300")},r.createElement("i",{className:"fas fa-external-link-alt",style:{fontSize:"0.7em"}}))))))))))))},Jn=e=>{let{sources:n,starredSources:t,contextActiveSource:a,viewMode:o,sortConfig:l,handleStar:i,handleToggleSource:s,handleOpenSourceEqualizer:c,handleOpenVnc:u,handleUpdateSourceVolume:m,handleUpdateSourceTimeshift:d,actions:g,routes:p,handleControlSource:b}=e;const h=((e,n,t,r)=>[...e].sort(((e,a)=>{if("favorite"===n.key){const r=t.includes(e.name),o=t.includes(a.name);return"asc"===n.direction?r===o?0:r?-1:1:r===o?0:r?1:-1}if("active"===n.key){const t=r===e.name,o=r===a.name;return"asc"===n.direction?t===o?0:t?-1:1:t===o?0:t?1:-1}const o=e[n.key],l=a[n.key];return void 0===o||void 0===l?0:"string"==typeof o&&"string"==typeof l?"asc"===n.direction?o.localeCompare(l):l.localeCompare(o):o<l?"asc"===n.direction?-1:1:o>l?"asc"===n.direction?1:-1:0})))(n,l,t,a),f=(0,E.dU)("white","gray.800");return r.createElement(x.a,null,"grid"===o?r.createElement(In.r,{columns:{base:1,md:2,lg:3,"2xl":4},spacing:4},h.map((e=>r.createElement(Dn,{key:`source-${e.name}`,item:e,type:"sources",isStarred:t.includes(e.name),isActive:a===e.name,onStar:()=>i("sources",e.name),onActivate:()=>s(e.name),onEqualizer:()=>c(e.name),onVnc:e.vnc_ip?()=>u(e.name):void 0,onUpdateVolume:n=>m(e.name,n),onUpdateTimeshift:n=>d(e.name,n),onEdit:()=>g.editItem(e.is_group?"group-source":"sources",e),routes:p,allSources:n,navigate:g.navigate,onToggleActiveSource:()=>g.toggleActiveSource(e.name),onControlSource:e.vnc_ip&&b?n=>b(e.name,n):void 0})))):r.createElement(oe.T,{spacing:2,align:"stretch",bg:f,borderRadius:"md"},h.map((e=>r.createElement(jn,{key:`source-${e.name}`,item:e,type:"sources",isStarred:t.includes(e.name),isActive:a===e.name,onStar:()=>i("sources",e.name),onActivate:()=>s(e.name),onEqualizer:()=>c(e.name),onVnc:e.vnc_ip?()=>u(e.name):void 0,onUpdateVolume:n=>m(e.name,n),onUpdateTimeshift:n=>d(e.name,n),onEdit:()=>g.editItem(e.is_group?"group-source":"sources",e),routes:p,allSources:n,navigate:g.navigate,onToggleActiveSource:()=>g.toggleActiveSource(e.name),onControlSource:e.vnc_ip&&b?n=>b(e.name,n):void 0})))))},Yn=e=>{let{sinks:n,starredSinks:t,listeningToSink:a,viewMode:o,sortConfig:l,handleStar:i,handleToggleSink:s,handleOpenSinkEqualizer:c,handleUpdateSinkVolume:u,handleUpdateSinkTimeshift:m,handleOpenVisualizer:d,actions:g,routes:p}=e;const b=((e,n,t,r)=>[...e].sort(((e,a)=>{if("favorite"===n.key){const r=t.includes(e.name),o=t.includes(a.name);return"asc"===n.direction?r===o?0:r?-1:1:r===o?0:r?1:-1}if("active"===n.key){const t=r?.name===e.name,o=r?.name===a.name;return"asc"===n.direction?t===o?0:t?-1:1:t===o?0:t?1:-1}const o=e[n.key],l=a[n.key];return void 0===o||void 0===l?0:"string"==typeof o&&"string"==typeof l?"asc"===n.direction?o.localeCompare(l):l.localeCompare(o):o<l?"asc"===n.direction?-1:1:o>l?"asc"===n.direction?1:-1:0})))(n,l,t,a),h=(0,E.dU)("white","gray.800");return r.createElement(x.a,null,"grid"===o?r.createElement(In.r,{columns:{base:1,md:2,lg:3,"2xl":4},spacing:4},b.map((e=>r.createElement(Dn,{key:`sink-${e.name}`,item:e,type:"sinks",isStarred:t.includes(e.name),isActive:a?.name===e.name,onStar:()=>i("sinks",e.name),onActivate:()=>s(e.name),onEqualizer:()=>c(e.name),onUpdateVolume:n=>u(e.name,n),onUpdateTimeshift:n=>m(e.name,n),onEdit:()=>g.editItem(e.is_group?"group-sink":"sinks",e),onListen:()=>{a?.name===e.name?g.listenToSink(null):g.listenToSink(e)},onVisualize:()=>d?d(e):void 0,routes:p,allSinks:n,navigate:g.navigate})))):r.createElement(oe.T,{spacing:2,align:"stretch",bg:h,borderRadius:"md"},b.map((e=>r.createElement(jn,{key:`sink-${e.name}`,item:e,type:"sinks",isStarred:t.includes(e.name),isActive:a?.name===e.name,onStar:()=>i("sinks",e.name),onActivate:()=>s(e.name),onEqualizer:()=>c(e.name),onUpdateVolume:n=>u(e.name,n),onUpdateTimeshift:n=>m(e.name,n),onEdit:()=>g.editItem(e.is_group?"group-sink":"sinks",e),onListen:()=>{a?.name===e.name?g.listenToSink(null):g.listenToSink(e)},onVisualize:()=>d?d(e):void 0,routes:p,allSinks:n,navigate:g.navigate})))))},Gn=e=>{let{routes:n,starredRoutes:t,viewMode:a,sortConfig:o,handleStar:l,handleToggleRoute:i,handleOpenRouteEqualizer:s,handleUpdateRouteVolume:c,handleUpdateRouteTimeshift:u,actions:m}=e;const d=((e,n,t)=>[...e].sort(((e,r)=>{if("favorite"===n.key){const a=t.includes(e.name),o=t.includes(r.name);return"asc"===n.direction?a===o?0:a?-1:1:a===o?0:a?1:-1}const a=e[n.key],o=r[n.key];return void 0===a||void 0===o?0:"string"==typeof a&&"string"==typeof o?"asc"===n.direction?a.localeCompare(o):o.localeCompare(a):a<o?"asc"===n.direction?-1:1:a>o?"asc"===n.direction?1:-1:0})))(n,o,t),g=(0,E.dU)("white","gray.800");return r.createElement(x.a,null,"grid"===a?r.createElement(In.r,{columns:{base:1,md:2,lg:3,"2xl":4},spacing:4},d.map((e=>r.createElement(Dn,{key:`route-${e.name}`,item:e,type:"routes",isStarred:t.includes(e.name),isActive:e.enabled,onStar:()=>l("routes",e.name),onActivate:()=>i(e.name),onEqualizer:()=>s(e.name),onUpdateVolume:n=>c(e.name,n),onUpdateTimeshift:n=>u(e.name,n),onEdit:()=>m.editItem("routes",e),routes:n,navigate:m.navigate})))):r.createElement(oe.T,{spacing:2,align:"stretch",bg:g,borderRadius:"md"},d.map((e=>r.createElement(jn,{key:`route-${e.name}`,item:e,type:"routes",isStarred:t.includes(e.name),isActive:e.enabled,onStar:()=>l("routes",e.name),onActivate:()=>i(e.name),onEqualizer:()=>s(e.name),onUpdateVolume:n=>c(e.name,n),onUpdateTimeshift:n=>u(e.name,n),onEdit:()=>m.editItem("routes",e),routes:n,navigate:m.navigate})))))},Hn=e=>{let{sources:n,sinks:t,routes:a,starredSources:o,starredSinks:l,starredRoutes:i,contextActiveSource:s,listeningToSink:c,viewMode:u,handleStar:m,handleToggleSource:d,handleToggleSink:g,handleToggleRoute:p,handleOpenSourceEqualizer:b,handleOpenSinkEqualizer:h,handleOpenRouteEqualizer:f,handleOpenVnc:v,handleUpdateSourceVolume:S,handleUpdateSinkVolume:y,handleUpdateSourceTimeshift:w,handleUpdateSinkTimeshift:C,handleUpdateRouteVolume:z,handleUpdateRouteTimeshift:$,handleControlSource:R,setCurrentCategory:A,sortConfig:T,actions:I,handleOpenVisualizer:U}=e;const N=n.filter((e=>o.includes(e.name))),P=t.filter((e=>l.includes(e.name))),V=a.filter((e=>i.includes(e.name)));if(0===N.length&&0===P.length&&0===V.length)return r.createElement(On,{icon:"star",title:"No Favorites",message:"Star items to add them to your favorites"});const D=(0,E.dU)("white","gray.800"),W=(0,E.dU)("gray.200","gray.700"),q=(0,E.dU)("gray.700","white"),O=(0,E.dU)("white","gray.800");return r.createElement(x.a,null,N.length>0&&r.createElement(x.a,{mb:6,p:4,borderWidth:"1px",borderRadius:"lg",borderColor:W,bg:D},r.createElement(k.s,{align:"center",mb:4},r.createElement(K.I,{as:M.i0t,mr:2,color:q}),r.createElement(_.D,{as:"h3",size:"md",color:q},"Favorite Sources")),r.createElement(x.a,null,"grid"===u?r.createElement(In.r,{columns:{base:1,md:2,lg:3,"2xl":4},spacing:4},N.map((e=>r.createElement(Dn,{key:`favorite-source-${e.name}`,item:e,type:"sources",isStarred:!0,isActive:s===e.name,onStar:()=>m("sources",e.name),onActivate:()=>d(e.name),onEqualizer:()=>b(e.name),onVnc:e.vnc_ip?()=>v(e.name):void 0,onUpdateVolume:n=>S(e.name,n),onUpdateTimeshift:n=>w(e.name,n),onControlSource:e.vnc_ip?n=>R?R(e.name,n):{}:void 0,onToggleActiveSource:()=>d(e.name),routes:a,allSources:n,allSinks:t,navigateToDetails:()=>{localStorage.setItem("currentSourceName",e.name),window.location.hash="#/source"},navigate:(e,n)=>{"routes"===e?(localStorage.setItem("currentRouteName",n),window.location.hash="#/route"):"sources"===e||"group-source"===e?(localStorage.setItem("currentSourceName",n),window.location.hash="#/source"):"sinks"!==e&&"group-sink"!==e||(localStorage.setItem("currentSinkName",n),window.location.hash="#/sink")}})))):r.createElement(oe.T,{spacing:2,align:"stretch",bg:O,borderRadius:"md"},N.map((e=>r.createElement(jn,{key:`favorite-source-${e.name}`,item:e,type:"sources",isStarred:!0,isActive:s===e.name,onStar:()=>m("sources",e.name),onActivate:()=>d(e.name),onEqualizer:()=>b(e.name),onVnc:e.vnc_ip?()=>v(e.name):void 0,onUpdateVolume:n=>S(e.name,n),onUpdateTimeshift:n=>w(e.name,n),onControlSource:e.vnc_ip?n=>R?R(e.name,n):{}:void 0,onToggleActiveSource:()=>d(e.name),routes:a,allSources:n,allSinks:t,navigateToDetails:()=>{localStorage.setItem("currentSourceName",e.name),window.location.hash="#/source"},navigate:(e,n)=>{"routes"===e?(localStorage.setItem("currentRouteName",n),window.location.hash="#/route"):"sources"===e||"group-source"===e?(localStorage.setItem("currentSourceName",n),window.location.hash="#/source"):"sinks"!==e&&"group-sink"!==e||(localStorage.setItem("currentSinkName",n),window.location.hash="#/sink")}})))))),P.length>0&&r.createElement(x.a,{mb:6,p:4,borderWidth:"1px",borderRadius:"lg",borderColor:W,bg:D},r.createElement(k.s,{align:"center",mb:4},r.createElement(K.I,{as:M.pPd,mr:2,color:q}),r.createElement(_.D,{as:"h3",size:"md",color:q},"Favorite Sinks")),r.createElement(x.a,null,"grid"===u?r.createElement(In.r,{columns:{base:1,md:2,lg:3,"2xl":4},spacing:4},P.map((e=>r.createElement(Dn,{key:`favorite-sink-${e.name}`,item:e,type:"sinks",isStarred:!0,isActive:c?.name===e.name,onStar:()=>m("sinks",e.name),onActivate:()=>g(e.name),onEqualizer:()=>h(e.name),onListen:()=>g(e.name),onVisualize:()=>h(e.name),onUpdateVolume:n=>y(e.name,n),onUpdateTimeshift:n=>C(e.name,n),routes:a,allSources:n,allSinks:t,navigateToDetails:()=>{localStorage.setItem("currentSinkName",e.name),window.location.hash="#/sink"},navigate:(e,n)=>{"routes"===e?(localStorage.setItem("currentRouteName",n),window.location.hash="#/route"):"sources"===e||"group-source"===e?(localStorage.setItem("currentSourceName",n),window.location.hash="#/source"):"sinks"!==e&&"group-sink"!==e||(localStorage.setItem("currentSinkName",n),window.location.hash="#/sink")}})))):r.createElement(oe.T,{spacing:2,align:"stretch",bg:O,borderRadius:"md"},P.map((e=>r.createElement(jn,{key:`favorite-sink-${e.name}`,item:e,type:"sinks",isStarred:!0,isActive:c?.name===e.name,onStar:()=>m("sinks",e.name),onActivate:()=>g(e.name),onEqualizer:()=>h(e.name),onListen:()=>g(e.name),onVisualize:()=>h(e.name),onUpdateVolume:n=>y(e.name,n),onUpdateTimeshift:n=>C(e.name,n),routes:a,allSources:n,allSinks:t,navigateToDetails:()=>{localStorage.setItem("currentSinkName",e.name),window.location.hash="#/sink"},navigate:(e,n)=>{"routes"===e?(localStorage.setItem("currentRouteName",n),window.location.hash="#/route"):"sources"===e||"group-source"===e?(localStorage.setItem("currentSourceName",n),window.location.hash="#/source"):"sinks"!==e&&"group-sink"!==e||(localStorage.setItem("currentSinkName",n),window.location.hash="#/sink")}})))))),V.length>0&&r.createElement(x.a,{mb:6,p:4,borderWidth:"1px",borderRadius:"lg",borderColor:W,bg:D},r.createElement(k.s,{align:"center",mb:4},r.createElement(K.I,{as:M.$Fg,mr:2,color:q}),r.createElement(_.D,{as:"h3",size:"md",color:q},"Favorite Routes")),r.createElement(x.a,null,"grid"===u?r.createElement(In.r,{columns:{base:1,md:2,lg:3,"2xl":4},spacing:4},V.map((e=>r.createElement(Dn,{key:`favorite-route-${e.name}`,item:e,type:"routes",isStarred:!0,isActive:e.enabled,onStar:()=>m("routes",e.name),onActivate:()=>p(e.name),onEqualizer:()=>f(e.name),onUpdateVolume:n=>z(e.name,n),onUpdateTimeshift:n=>$(e.name,n),routes:a,allSources:n,allSinks:t,navigateToDetails:()=>{localStorage.setItem("currentRouteName",e.name),window.location.hash="#/route"},navigate:(e,n)=>{"routes"===e?(localStorage.setItem("currentRouteName",n),window.location.hash="#/route"):"sources"===e||"group-source"===e?(localStorage.setItem("currentSourceName",n),window.location.hash="#/source"):"sinks"!==e&&"group-sink"!==e||(localStorage.setItem("currentSinkName",n),window.location.hash="#/sink")}})))):r.createElement(oe.T,{spacing:2,align:"stretch",bg:O,borderRadius:"md"},V.map((e=>r.createElement(jn,{key:`favorite-route-${e.name}`,item:e,type:"routes",isStarred:!0,isActive:e.enabled,onStar:()=>m("routes",e.name),onActivate:()=>p(e.name),onEqualizer:()=>f(e.name),onUpdateVolume:n=>z(e.name,n),onUpdateTimeshift:n=>$(e.name,n),routes:a,allSources:n,allSinks:t,navigateToDetails:()=>{localStorage.setItem("currentRouteName",e.name),window.location.hash="#/route"},navigate:(e,n)=>{"routes"===e?(localStorage.setItem("currentRouteName",n),window.location.hash="#/route"):"sources"===e||"group-source"===e?(localStorage.setItem("currentSourceName",n),window.location.hash="#/source"):"sinks"!==e&&"group-sink"!==e||(localStorage.setItem("currentSinkName",n),window.location.hash="#/sink")}})))))))},Kn=e=>{let{sources:n,sinks:t,routes:a,starredSources:o,contextActiveSource:l,setCurrentCategory:i,handleStar:s,handleToggleSource:c,handleToggleRoute:u,handleOpenSourceEqualizer:m,handleOpenVnc:d,handleUpdateSourceVolume:g,handleUpdateSourceTimeshift:p,handleUpdateRouteVolume:b,handleUpdateRouteTimeshift:h,handleControlSource:f}=e;const[v,S]=(0,r.useState)(null);(0,r.useEffect)((()=>{const e=localStorage.getItem("currentSourceName");e&&S(e)}),[]);const y=n.find((e=>e.name===v)),w=(0,E.dU)("gray.700","white");return y?r.createElement(x.a,null,r.createElement(x.a,{mb:6},r.createElement(_.D,{as:"h2",size:"lg",color:w,mb:4},"Source: ",y.name),r.createElement(Dn,{key:`source-${y.name}`,item:y,type:"sources",isStarred:o.includes(y.name),isActive:l===y.name,onStar:()=>s("sources",y.name),onActivate:()=>c(y.name),onEqualizer:()=>m(y.name),onVnc:y.vnc_ip?()=>d(y.name):void 0,onUpdateVolume:e=>g(y.name,e),onUpdateTimeshift:e=>p(y.name,e),onControlSource:y.vnc_ip&&f?e=>f(y.name,e):void 0,onToggleActiveSource:()=>c(y.name),routes:a,allSources:n,allSinks:t,navigateToDetails:void 0,navigate:(e,n)=>{"routes"===e?(localStorage.setItem("currentRouteName",n),i("route"),console.log(`Navigating to route detail: ${n}`)):"sources"===e||"group-source"===e?(localStorage.setItem("currentSourceName",n),i("source"),console.log(`Navigating to source detail: ${n}`)):"sinks"!==e&&"group-sink"!==e||(localStorage.setItem("currentSinkName",n),i("sink"),console.log(`Navigating to sink detail: ${n}`))}})),r.createElement(x.a,{mb:6},r.createElement(k.s,{align:"center",justify:"space-between",mb:4},r.createElement(k.s,{align:"center"},r.createElement(K.I,{as:M.$Fg,mr:2,color:w}),r.createElement(_.D,{as:"h3",size:"md",color:w},"Connected Routes")),r.createElement(z.$,{leftIcon:r.createElement(K.I,{as:M.OiG}),colorScheme:"blue",size:"sm",onClick:()=>Ve("source",y.name)},"Add Route")),r.createElement(In.r,{columns:{base:1,md:2,lg:3,"2xl":4},spacing:4},a.filter((e=>e.source===y.name)).map((e=>r.createElement(Dn,{key:`source-route-${e.name}`,item:e,type:"routes",isStarred:o.includes(e.name),isActive:e.enabled,onStar:()=>s("routes",e.name),onActivate:()=>u(e.name),onEqualizer:()=>m(e.name),onUpdateVolume:n=>b(e.name,n),onUpdateTimeshift:n=>h(e.name,n),routes:a,allSources:n,allSinks:t,navigateToDetails:()=>{localStorage.setItem("currentRouteName",e.name),i("route")},navigate:(e,n)=>{"routes"===e?(localStorage.setItem("currentRouteName",n),i("route"),console.log(`Navigating to route detail: ${n}`)):"sources"===e||"group-source"===e?(localStorage.setItem("currentSourceName",n),i("source"),console.log(`Navigating to source detail: ${n}`)):"sinks"!==e&&"group-sink"!==e||(localStorage.setItem("currentSinkName",n),i("sink"),console.log(`Navigating to sink detail: ${n}`))}})))))):r.createElement(On,{icon:"microphone",title:"Source Not Found",message:"The requested source could not be found",actionText:"View All Sources",onAction:()=>i("sources")})},Xn=e=>{let{sources:n,sinks:t,routes:a,starredSinks:o,listeningToSink:l,setCurrentCategory:i,handleStar:s,handleToggleSink:c,handleToggleRoute:u,handleOpenSinkEqualizer:m,handleUpdateSinkVolume:d,handleUpdateSinkTimeshift:g,handleUpdateRouteVolume:p,handleUpdateRouteTimeshift:b,actions:h}=e;const[f,v]=(0,r.useState)(null);(0,r.useEffect)((()=>{const e=localStorage.getItem("currentSinkName");e&&v(e)}),[]);const S=t.find((e=>e.name===f)),y=(0,E.dU)("gray.700","white");return S?r.createElement(x.a,null,r.createElement(x.a,{mb:6},r.createElement(_.D,{as:"h2",size:"lg",color:y,mb:4},"Sink: ",S.name),r.createElement(Dn,{key:`sink-${S.name}`,item:S,type:"sinks",isStarred:o?.includes(S.name)||!1,isActive:l?.name===S.name,onStar:()=>s("sinks",S.name),onActivate:()=>c(S.name),onEqualizer:()=>m(S.name),onListen:()=>{l?.name===S.name?h.listenToSink(null):h.listenToSink(S)},onUpdateVolume:e=>d(S.name,e),onUpdateTimeshift:e=>g(S.name,e),routes:a,allSources:n,allSinks:t,navigateToDetails:void 0,navigate:(e,n)=>{"routes"===e?(localStorage.setItem("currentRouteName",n),i("route"),console.log(`Navigating to route detail: ${n}`)):"sources"===e||"group-source"===e?(localStorage.setItem("currentSourceName",n),i("source"),console.log(`Navigating to source detail: ${n}`)):"sinks"!==e&&"group-sink"!==e||(localStorage.setItem("currentSinkName",n),i("sink"),console.log(`Navigating to sink detail: ${n}`))}})),r.createElement(x.a,{mb:6},r.createElement(k.s,{align:"center",justify:"space-between",mb:4},r.createElement(k.s,{align:"center"},r.createElement(K.I,{as:M.$Fg,mr:2,color:y}),r.createElement(_.D,{as:"h3",size:"md",color:y},"Connected Routes")),r.createElement(z.$,{leftIcon:r.createElement(K.I,{as:M.OiG}),colorScheme:"blue",size:"sm",onClick:()=>Ve("sink",S.name)},"Add Route")),r.createElement(In.r,{columns:{base:1,md:2,lg:3,"2xl":4},spacing:4},a.filter((e=>e.sink===S.name)).map((e=>r.createElement(Dn,{key:`sink-route-${e.name}`,item:e,type:"routes",isStarred:o?.includes(e.name)||!1,isActive:e.enabled,onStar:()=>s("routes",e.name),onActivate:()=>u(e.name),onEqualizer:()=>m(e.name),onUpdateVolume:n=>p(e.name,n),onUpdateTimeshift:n=>b(e.name,n),routes:a,allSources:n,allSinks:t,navigateToDetails:()=>{localStorage.setItem("currentRouteName",e.name),i("route")},navigate:(e,n)=>{"routes"===e?(localStorage.setItem("currentRouteName",n),i("route"),console.log(`Navigating to route detail: ${n}`)):"sources"===e||"group-source"===e?(localStorage.setItem("currentSourceName",n),i("source"),console.log(`Navigating to source detail: ${n}`)):"sinks"!==e&&"group-sink"!==e||(localStorage.setItem("currentSinkName",n),i("sink"),console.log(`Navigating to sink detail: ${n}`))}})))))):r.createElement(On,{icon:"volume-up",title:"Sink Not Found",message:"The requested sink could not be found",actionText:"View All Sinks",onAction:()=>i("sinks")})},Qn=e=>{let{sources:n,sinks:t,routes:a,starredRoutes:o,setCurrentCategory:l,handleStar:i,handleToggleRoute:s,handleToggleSource:c,handleToggleSink:u,handleOpenRouteEqualizer:m,handleOpenSourceEqualizer:d,handleOpenSinkEqualizer:g,handleUpdateRouteVolume:p,handleUpdateRouteTimeshift:b,handleUpdateSourceVolume:h,handleUpdateSourceTimeshift:f,handleUpdateSinkVolume:v,handleUpdateSinkTimeshift:S,handleControlSource:y}=e;const[w,C]=(0,r.useState)(null);(0,r.useEffect)((()=>{const e=localStorage.getItem("currentRouteName");e&&C(e)}),[]);const z=a.find((e=>e.name===w)),$=(0,E.dU)("gray.700","white");if(!z)return r.createElement(On,{icon:"route",title:"Route Not Found",message:"The requested route could not be found",actionText:"View All Routes",onAction:()=>l("routes")});const R=n.find((e=>e.name===z.source)),A=t.find((e=>e.name===z.sink));return r.createElement(x.a,null,r.createElement(x.a,{mb:6},r.createElement(_.D,{as:"h2",size:"lg",color:$,mb:4},"Route: ",z.name),r.createElement(Dn,{key:`route-${z.name}`,item:z,type:"routes",isStarred:o?.includes(z.name)||!1,isActive:z.enabled,onStar:()=>i("routes",z.name),onActivate:()=>s(z.name),onEqualizer:()=>m(z.name),onUpdateVolume:e=>p(z.name,e),onUpdateTimeshift:e=>b(z.name,e),routes:a,allSources:n,allSinks:t,navigateToDetails:void 0,navigate:(e,n)=>{"routes"===e?(localStorage.setItem("currentRouteName",n),l("route"),console.log(`Navigating to route detail: ${n}`)):"sources"===e||"group-source"===e?(localStorage.setItem("currentSourceName",n),l("source"),console.log(`Navigating to source detail: ${n}`)):"sinks"!==e&&"group-sink"!==e||(localStorage.setItem("currentSinkName",n),l("sink"),console.log(`Navigating to sink detail: ${n}`))}})),R&&r.createElement(x.a,{mb:6},r.createElement(k.s,{align:"center",mb:4},r.createElement(K.I,{as:M.i0t,mr:2,color:$}),r.createElement(_.D,{as:"h3",size:"md",color:$},"Source")),r.createElement(In.r,{columns:{base:1,md:1,lg:1},spacing:4},r.createElement(Dn,{key:`route-source-${R.name}`,item:R,type:"sources",isStarred:o?.includes(R.name)||!1,isActive:R.enabled,onStar:()=>i("sources",R.name),onActivate:()=>c(R.name),onEqualizer:()=>d(R.name),onUpdateVolume:e=>h(R.name,e),onUpdateTimeshift:e=>f(R.name,e),onControlSource:R.vnc_ip&&y?e=>y(R.name,e):void 0,onToggleActiveSource:()=>c(R.name),routes:a,allSources:n,allSinks:t,navigateToDetails:()=>{localStorage.setItem("currentSourceName",R.name),l("source")},navigate:(e,n)=>{"routes"===e?(localStorage.setItem("currentRouteName",n),l("route"),console.log(`Navigating to route detail: ${n}`)):"sources"===e||"group-source"===e?(localStorage.setItem("currentSourceName",n),l("source"),console.log(`Navigating to source detail: ${n}`)):"sinks"!==e&&"group-sink"!==e||(localStorage.setItem("currentSinkName",n),l("sink"),console.log(`Navigating to sink detail: ${n}`))}}))),A&&r.createElement(x.a,{mb:6},r.createElement(k.s,{align:"center",mb:4},r.createElement(K.I,{as:M.pPd,mr:2,color:$}),r.createElement(_.D,{as:"h3",size:"md",color:$},"Sink")),r.createElement(In.r,{columns:{base:1,md:1,lg:1},spacing:4},r.createElement(Dn,{key:`route-sink-${A.name}`,item:A,type:"sinks",isStarred:o?.includes(A.name)||!1,isActive:A.enabled,onStar:()=>i("sinks",A.name),onActivate:()=>u(A.name),onEqualizer:()=>g(A.name),onUpdateVolume:e=>v(A.name,e),onUpdateTimeshift:e=>S(A.name,e),routes:a,allSources:n,allSinks:t,navigateToDetails:()=>{localStorage.setItem("currentSinkName",A.name),l("sink")},navigate:(e,n)=>{"routes"===e?(localStorage.setItem("currentRouteName",n),l("route"),console.log(`Navigating to route detail: ${n}`)):"sources"===e||"group-source"===e?(localStorage.setItem("currentSourceName",n),l("source"),console.log(`Navigating to source detail: ${n}`)):"sinks"!==e&&"group-sink"!==e||(localStorage.setItem("currentSinkName",n),l("sink"),console.log(`Navigating to sink detail: ${n}`))}}))))},Zn=e=>{let{currentCategory:n,viewMode:t,setViewMode:a,onSort:o,sortConfig:l,isDarkMode:i,actions:s,...c}=e;const u=(0,r.useRef)(null);return r.createElement("div",{className:"content-panel"},r.createElement(Tn,{currentCategory:n,viewMode:t,setViewMode:a,sortConfig:l,onSort:o,isDarkMode:i}),r.createElement("div",{className:"content-body",ref:u},(()=>{const e={...c,viewMode:t,sortConfig:l,isDarkMode:i,actions:s};switch(n){case"dashboard":default:return r.createElement(qn,e);case"active-source":return r.createElement(Bn,e);case"now-listening":return r.createElement(Ln,e);case"sources":return r.createElement(Jn,e);case"sinks":return r.createElement(Yn,e);case"routes":return r.createElement(Gn,e);case"favorites":return r.createElement(Hn,e);case"source":return r.createElement(Kn,e);case"sink":return r.createElement(Xn,e);case"route":return r.createElement(Qn,e)}})()))};var et=t(5072),nt=t.n(et),tt=t(7825),rt=t.n(tt),at=t(7659),ot=t.n(at),lt=t(5056),it=t.n(lt),st=t(540),ct=t.n(st),ut=t(1113),mt=t.n(ut),dt=t(6656),gt={};gt.styleTagTransform=mt(),gt.setAttributes=it(),gt.insert=ot().bind(null,"head"),gt.domAPI=rt(),gt.insertStyleElement=ct(),nt()(dt.A,gt),dt.A&&dt.A.locals&&dt.A.locals;const pt=()=>{const{sources:e,sinks:n,routes:t,activeSource:a,listeningToSink:o,onListenToSink:l,onVisualizeSink:i,onToggleActiveSource:s,controlSource:c}=f(),[u,m]=(0,r.useState)((()=>localStorage.getItem("fullMenuCurrentCategory")||"dashboard")),[d,g]=(0,r.useState)((()=>localStorage.getItem("fullMenuViewMode")||"grid")),[p,b]=(0,r.useState)([]),[h,k]=(0,r.useState)([]),[v,S]=(0,r.useState)([]),[y,x]=(0,r.useState)({key:"name",direction:"asc"}),[w,C]=(0,r.useState)(null),{colorMode:z}=(0,E.G6)(),[$,R]=(0,r.useState)(!1);(0,r.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("starredSources")||"[]"),n=JSON.parse(localStorage.getItem("starredSinks")||"[]"),t=JSON.parse(localStorage.getItem("starredRoutes")||"[]");b(e),k(n),S(t)}),[]),(0,r.useEffect)((()=>{localStorage.setItem("fullMenuCurrentCategory",u)}),[u]),(0,r.useEffect)((()=>{localStorage.setItem("fullMenuViewMode",d)}),[d]),(0,r.useEffect)((()=>{document.body.classList.toggle("dark-mode","dark"===z)}),[z]);const A=()=>{R((e=>!e))},T=(0,r.useMemo)((()=>({...Xe((()=>Promise.resolve()),C,((e,n)=>{"sources"===e?b(n):"sinks"===e?k(n):"routes"===e&&S(n)}),((e,n,t)=>{e&&n&&t&&Ne(`/site/equalizer?type=${n}&name=${encodeURIComponent(t.name)}`)}),(()=>{}),(()=>{}),((e,n)=>{e&&n&&n.vnc_ip&&n.vnc_port&&Ne(`/site/vnc?ip=${n.vnc_ip}&port=${n.vnc_port}`)}),(e=>{const n=e(a);null!==n?s(n):a&&s(a)}),l,i,0,(()=>{})),navigate:async(e,n)=>{switch(e){case"sources":case"group-source":m("source"),localStorage.setItem("currentSourceName",n);break;case"sinks":case"group-sink":m("sink"),localStorage.setItem("currentSinkName",n);break;case"routes":m("route"),localStorage.setItem("currentRouteName",n)}}})),[l,i,s,a]),I="dark"===z;return r.createElement("div",{className:"full-menu "+(I?"dark-mode":"")},w&&r.createElement("div",{className:"error-message"},w),r.createElement(fn,{isDarkMode:I,sources:e,sinks:n,routes:t,navigate:T.navigate,toggleSidebar:A,activeSource:a,controlSource:c,updateVolume:T.updateVolume}),r.createElement("div",{className:"main-content"},r.createElement(vn,{currentCategory:u,setCurrentCategory:m,sources:e,sinks:n,routes:t,starredSources:p,starredSinks:h,starredRoutes:v,sidebarOpen:$,toggleSidebar:A,openDesktopMenu:()=>{window.open("/site/desktopmenu","_blank")},isDarkMode:I}),r.createElement(Zn,{currentCategory:u,viewMode:d,setViewMode:g,sortConfig:y,onSort:e=>{x((n=>({key:e,direction:n.key===e&&"asc"===n.direction?"desc":"asc"})))},isDarkMode:I,sources:e,sinks:n,routes:t,starredSources:p,starredSinks:h,starredRoutes:v,contextActiveSource:a,listeningToSink:o,setCurrentCategory:m,handleStar:(e,n)=>{"sources"===e?b((e=>{const t=e.includes(n)?e.filter((e=>e!==n)):[...e,n];return localStorage.setItem("starredSources",JSON.stringify(t)),t})):"sinks"===e?k((e=>{const t=e.includes(n)?e.filter((e=>e!==n)):[...e,n];return localStorage.setItem("starredSinks",JSON.stringify(t)),t})):"routes"===e&&S((e=>{const t=e.includes(n)?e.filter((e=>e!==n)):[...e,n];return localStorage.setItem("starredRoutes",JSON.stringify(t)),t}))},handleToggleSource:n=>{e.find((e=>e.name===n))&&T.toggleEnabled("sources",n)},handleToggleSink:e=>{n.find((n=>n.name===e))&&T.toggleEnabled("sinks",e)},handleToggleRoute:e=>{t.find((n=>n.name===e))&&T.toggleEnabled("routes",e)},handleOpenSourceEqualizer:n=>{const t=e.find((e=>e.name===n));t&&T.showEqualizer(!0,"sources",t)},handleOpenSinkEqualizer:e=>{const t=n.find((n=>n.name===e));t&&T.showEqualizer(!0,"sinks",t)},handleOpenRouteEqualizer:e=>{const n=t.find((n=>n.name===e));n&&T.showEqualizer(!0,"routes",n)},handleOpenVnc:n=>{const t=e.find((e=>e.name===n));t&&T.showVNC(!0,t)},handleUpdateSourceVolume:(e,n)=>{T.updateVolume("sources",e,n)},handleUpdateSinkVolume:(e,n)=>{T.updateVolume("sinks",e,n)},handleUpdateSourceTimeshift:(e,n)=>{T.updateTimeshift("sources",e,n)},handleUpdateSinkTimeshift:(e,n)=>{T.updateTimeshift("sinks",e,n)},handleUpdateRouteVolume:(e,n)=>{T.updateVolume("routes",e,n)},handleUpdateRouteTimeshift:(e,n)=>{T.updateTimeshift("routes",e,n)},handleOpenVisualizer:e=>{e&&(Ne(`/site/visualizer?ip=${e.ip}`,800,600),i(e))},handleControlSource:(e,n)=>{c(e,n)},actions:T})))};const bt=async e=>{console.error("App context is not set")};window.previousSongOnPrimarySource=async()=>{await bt()},window.playPauseOnPrimarySource=async()=>{await bt()},window.nextSongOnPrimarySource=async()=>{await bt()},window.DesktopMenuShow=(e,n,t)=>{console.log(`Got RGB: ${e} ${n} ${t}`),console.log("DesktopMenuShow called - this is the original implementation"),window.dispatchEvent(new Event("resize"))},window.DesktopMenuHide=()=>{const e=document.querySelectorAll('[role="menu"]');e.length>0?(document.body.click(),document.querySelectorAll('[aria-expanded="true"]').forEach((e=>{e instanceof HTMLElement&&e.click()})),console.log(`DesktopMenuHide: Closed ${e.length} open context menu(s)`)):console.log("DesktopMenuHide: No open context menus detected");const n=document.querySelectorAll('[role="alertdialog"]');return n.length>0&&(n.forEach((e=>{const n=e.querySelector('button[aria-label="Cancel"]')||e.querySelector("button:not([data-destructive])");n instanceof HTMLElement&&n.click()})),console.log(`DesktopMenuHide: Closed ${n.length} open dialog(s)`)),!0};const ht=()=>{const{setColorMode:e}=(0,E.G6)(),n=()=>{const n=localStorage.getItem("chakra-ui-color-mode");if(n)if("system"===n){const n=window.matchMedia("(prefers-color-scheme: dark)").matches;e(n?"dark":"light"),console.log(`Color mode set to ${n?"dark":"light"} based on system preference`)}else e(n),console.log(`Color mode set to ${n} from localStorage`)};return(0,r.useEffect)((()=>{n();const e=e=>{"chakra-ui-color-mode"===e.key&&(console.log("chakra-ui-color-mode changed in localStorage:",e.newValue),n())};window.addEventListener("storage",e);const t=window.DesktopMenuShow;return window.DesktopMenuShow=(e,t,r,a)=>{console.log(`Got RGB from GlobalFunctionsComponent: ${e} ${t} ${r} ${a}`),n(),((e,n,t,r)=>{fe.setCurrentColor({r:e,g:n,b:t,a:r})})(e,t,r,a)},()=>{window.removeEventListener("storage",e),window.DesktopMenuShow=t}}),[e]),null};var ft=t(1626),Et={};Et.styleTagTransform=mt(),Et.setAttributes=it(),Et.insert=ot().bind(null,"head"),Et.domAPI=rt(),Et.insertStyleElement=ct(),nt()(ft.A,Et),ft.A&&ft.A.locals&&ft.A.locals;var kt=t(2343),vt={};vt.styleTagTransform=mt(),vt.setAttributes=it(),vt.insert=ot().bind(null,"head"),vt.domAPI=rt(),vt.insertStyleElement=ct(),nt()(kt.A,vt),kt.A&&kt.A.locals&&kt.A.locals;const St=()=>{const[e]=(0,i.ok)(),{sources:n,sinks:t,routes:a}=f(),o=e.get("type"),l=e.get("name");let s=null;return o&&l&&("sources"===o||"group-source"===o?s=n.find((e=>e.name===l))||null:"sinks"===o||"group-sink"===o?s=t.find((e=>e.name===l))||null:"routes"===o&&(s=a.find((e=>e.name===l))||null)),s?r.createElement(q,{item:s,type:o,onClose:()=>window.close(),onDataChange:()=>{}}):r.createElement("div",null,"Item not found")},yt=()=>{const[e]=(0,i.ok)(),{sources:n}=f(),t=e.get("ip"),a=e.get("port"),o=n.find((e=>e.vnc_ip===t&&e.vnc_port===Number(a)));return o?r.createElement(w,{source:o,onClose:()=>window.close()}):r.createElement("div",null,"Source not found")},xt=()=>{const[e]=(0,i.ok)(),n=e.get("ip");return n?r.createElement(N,{ip:n}):r.createElement("div",null,"IP not provided")},wt=()=>{const e=(0,s.g)().ip;return e?r.createElement(O,{ip:e}):r.createElement("div",null,"IP not provided")},Ct=()=>{const{showEqualizerModal:e,selectedItem:n,selectedItemType:t,setShowEqualizerModal:a,setSelectedItem:o,fetchSources:l,fetchSinks:c,fetchRoutes:u}=f();return r.createElement(i.Kd,{basename:"/site"}," ",r.createElement(ht,null),r.createElement(s.BV,null," ",r.createElement(s.qh,{path:"/desktopmenu",element:r.createElement(Ee,null,r.createElement(Ke,null))})," ",r.createElement(s.qh,{path:"/",element:r.createElement(pt,null)})," ",r.createElement(s.qh,{path:"/equalizer",element:r.createElement(St,null)})," ",r.createElement(s.qh,{path:"/vnc",element:r.createElement(yt,null)})," ",r.createElement(s.qh,{path:"/visualizer",element:r.createElement(xt,null)})," ",r.createElement(s.qh,{path:"/transcribe/:ip",element:r.createElement(wt,null)})," ",r.createElement(s.qh,{path:"/add-source",element:r.createElement(ee,null)})," ",r.createElement(s.qh,{path:"/edit-source",element:r.createElement(ee,null)})," ",r.createElement(s.qh,{path:"/add-sink",element:r.createElement(te,null)})," ",r.createElement(s.qh,{path:"/edit-sink",element:r.createElement(te,null)})," ",r.createElement(s.qh,{path:"/add-route",element:r.createElement(re,null)})," ",r.createElement(s.qh,{path:"/edit-route",element:r.createElement(re,null)})," ",r.createElement(s.qh,{path:"/add-group",element:r.createElement(le,null)})," ",r.createElement(s.qh,{path:"/edit-group",element:r.createElement(le,null)})," "),e&&n&&t&&r.createElement(q,{item:n,type:t,onClose:()=>{a(!1),o(null)},onDataChange:()=>{"sources"===t&&l(),"sinks"===t&&c(),"routes"===t&&u()}}),r.createElement("audio",{id:"audio"})," ")},zt=()=>r.createElement(o.s,{theme:l}," ",r.createElement(h,null," ",r.createElement(Ct,null)," ")),$t=document.getElementById("root");var Rt;$t&&(0,a.H)($t).render(r.createElement(r.StrictMode,null,r.createElement(o.s,{theme:l},r.createElement(zt,null)))),Rt&&Rt instanceof Function&&t.e(364).then(t.bind(t,364)).then((e=>{let{getCLS:n,getFID:t,getFCP:r,getLCP:a,getTTFB:o}=e;n(Rt),t(Rt),r(Rt),a(Rt),o(Rt)}))}},l={};function i(e){var n=l[e];if(void 0!==n)return n.exports;var t=l[e]={id:e,loaded:!1,exports:{}};return o[e].call(t.exports,t,t.exports,i),t.loaded=!0,t.exports}i.m=o,e=[],i.O=(n,t,r,a)=>{if(!t){var o=1/0;for(u=0;u<e.length;u++){t=e[u][0],r=e[u][1],a=e[u][2];for(var l=!0,s=0;s<t.length;s++)(!1&a||o>=a)&&Object.keys(i.O).every((e=>i.O[e](t[s])))?t.splice(s--,1):(l=!1,a<o&&(o=a));if(l){e.splice(u--,1);var c=r();void 0!==c&&(n=c)}}return n}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[t,r,a]},i.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return i.d(n,{a:n}),n},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var a=Object.create(null);i.r(a);var o={};n=n||[null,t({}),t([]),t(t)];for(var l=2&r&&e;"object"==typeof l&&!~n.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((n=>o[n]=()=>e[n]));return o.default=()=>e,i.d(a,o),a},i.d=(e,n)=>{for(var t in n)i.o(n,t)&&!i.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((n,t)=>(i.f[t](e,n),n)),[])),i.u=e=>e+".07f898e2066bda2556a1.js",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r={},a="screamrouter-react:",i.l=(e,n,t,o)=>{if(r[e])r[e].push(n);else{var l,s;if(void 0!==t)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var m=c[u];if(m.getAttribute("src")==e||m.getAttribute("data-webpack")==a+t){l=m;break}}l||(s=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.setAttribute("data-webpack",a+t),l.src=e),r[e]=[n];var d=(n,t)=>{l.onerror=l.onload=null,clearTimeout(g);var a=r[e];if(delete r[e],l.parentNode&&l.parentNode.removeChild(l),a&&a.forEach((e=>e(t))),n)return n(t)},g=setTimeout(d.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=d.bind(null,l.onerror),l.onload=d.bind(null,l.onload),s&&document.head.appendChild(l)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),i.p="/site/",(()=>{i.b=document.baseURI||self.location.href;var e={792:0};i.f.j=(n,t)=>{var r=i.o(e,n)?e[n]:void 0;if(0!==r)if(r)t.push(r[2]);else{var a=new Promise(((t,a)=>r=e[n]=[t,a]));t.push(r[2]=a);var o=i.p+i.u(n),l=new Error;i.l(o,(t=>{if(i.o(e,n)&&(0!==(r=e[n])&&(e[n]=void 0),r)){var a=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;l.message="Loading chunk "+n+" failed.\n("+a+": "+o+")",l.name="ChunkLoadError",l.type=a,l.request=o,r[1](l)}}),"chunk-"+n,n)}},i.O.j=n=>0===e[n];var n=(n,t)=>{var r,a,o=t[0],l=t[1],s=t[2],c=0;if(o.some((n=>0!==e[n]))){for(r in l)i.o(l,r)&&(i.m[r]=l[r]);if(s)var u=s(i)}for(n&&n(t);c<o.length;c++)a=o[c],i.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return i.O(u)},t=self.webpackChunkscreamrouter_react=self.webpackChunkscreamrouter_react||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})(),i.nc=void 0;var s=i.O(void 0,[656],(()=>i(9769)));s=i.O(s)})();